"use strict";var rB=Object.defineProperty,iB=Object.defineProperties,sB=Object.getOwnPropertyDescriptors,uO=Object.getOwnPropertySymbols,oB=Object.prototype.hasOwnProperty,aB=Object.prototype.propertyIsEnumerable,lO=(rt,we,O)=>we in rt?rB(rt,we,{enumerable:!0,configurable:!0,writable:!0,value:O}):rt[we]=O,cO=(rt,we)=>{for(var O in we||(we={}))oB.call(we,O)&&lO(rt,O,we[O]);if(uO)for(var O of uO(we))aB.call(we,O)&&lO(rt,O,we[O]);return rt},dO=(rt,we)=>iB(rt,sB(we));(self.webpackChunkhackathon=self.webpackChunkhackathon||[]).push([[179],{2011:(rt,we,O)=>{O.d(we,{hO:()=>qe,xv:()=>he,Dh:()=>oe,GT:()=>ge,cc:()=>Re,on:()=>H,pX:()=>re});var h=O(5e3),X=O(127),P=O(5813);rt=O.hmd(rt);const le=["ngOnDestroy"],re=(Te,ze,Je,Se={})=>new Proxy(Te,{get:(Ee,Ce)=>Je.runOutsideAngular(()=>{var $e;if(Te[Ce])return(null===($e=null==Se?void 0:Se.spy)||void 0===$e?void 0:$e.get)&&Se.spy.get(Ce,Te[Ce]),Te[Ce];if(le.indexOf(Ce)>-1)return()=>{};const je=ze.toPromise().then($=>{const ve=$&&$[Ce];return"function"==typeof ve?ve.bind($):ve&&ve.then?ve.then(Z=>Je.run(()=>Z)):Je.run(()=>ve)});return new Proxy(()=>{},{get:($,ve)=>je[ve],apply:($,ve,Z)=>je.then(ie=>{var ee;const ye=ie&&ie(...Z);return(null===(ee=null==Se?void 0:Se.spy)||void 0===ee?void 0:ee.apply)&&Se.spy.apply(Ce,Z,ye),ye})})})}),ge=(Te,ze)=>{ze.forEach(Je=>{Object.getOwnPropertyNames(Je.prototype||Je).forEach(Se=>{Object.defineProperty(Te.prototype,Se,Object.getOwnPropertyDescriptor(Je.prototype||Je,Se))})})};class ue{constructor(ze){return ze}}const oe=new h.OlP("angularfire2.app.options"),he=new h.OlP("angularfire2.app.name");function H(Te,ze,Je){const Ee="object"==typeof Je&&Je||{};Ee.name=Ee.name||"string"==typeof Je&&Je||"[DEFAULT]";const $e=X.Z.apps.filter(je=>je&&je.name===Ee.name)[0]||ze.runOutsideAngular(()=>X.Z.initializeApp(Te,Ee));try{JSON.stringify(Te)!==JSON.stringify($e.options)&&j("error",`${$e.name} Firebase App already initialized with different options${rt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(je){}return new ue($e)}const j=(Te,...ze)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[Te](...ze)},te={provide:ue,useFactory:H,deps:[oe,h.R0b,[new h.FiY,he]]};let qe=(()=>{class Te{constructor(Je){X.Z.registerVersion("angularfire",P.q4.full,"core"),X.Z.registerVersion("angularfire",P.q4.full,"app-compat"),X.Z.registerVersion("angular",h.q4F.full,Je.toString())}static initializeApp(Je,Se){return{ngModule:Te,providers:[{provide:oe,useValue:Je},{provide:he,useValue:Se}]}}}return Te.\u0275fac=function(Je){return new(Je||Te)(h.LFG(h.Lbi))},Te.\u0275mod=h.oAB({type:Te}),Te.\u0275inj=h.cJS({providers:[te]}),Te})();function Re(Te,ze,Je,Se,Ee){const[,Ce,$e]=globalThis.\u0275AngularfireInstanceCache.find(je=>je[0]===Te)||[];if(Ce)return function Pe(Te,ze){try{return Te.toString()===ze.toString()}catch(Je){return Te===ze}}(Ee,$e)||(fe("error",`${ze} was already initialized on the ${Je} Firebase App with different settings.${Ue?" You may need to reload as Firebase is not HMR aware.":""}`),fe("warn",{is:Ee,was:$e})),Ce;{const je=Se();return globalThis.\u0275AngularfireInstanceCache.push([Te,je,Ee]),je}}const Ue=!!rt.hot,fe=(Te,...ze)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[Te](...ze)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(rt,we,O)=>{O.d(we,{q4:()=>_o,iC:()=>aa,HU:()=>_d,vb:()=>yd,JM:()=>cg});var h=O(5e3),X=O(5867),P=O(5861),le=O(9681),re=O(2090),ge=O(4859),ue=O(1877),oe=O(8766);const he="@firebase/installations",H="0.5.9",te=`w:${H}`,qe="FIS_v2",ze=new re.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Je(D){return D instanceof re.ZR&&D.code.includes("request-failed")}function Se({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function Ee(D){return{token:D.token,requestStatus:2,expiresIn:ie(D.expiresIn),creationTime:Date.now()}}function Ce(D,I){return $e.apply(this,arguments)}function $e(){return($e=(0,P.Z)(function*(D,I){const L=(yield I.json()).error;return ze.create("request-failed",{requestName:D,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function je({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function $(D,{refreshToken:I}){const R=je(D);return R.append("Authorization",function ee(D){return`${qe} ${D}`}(I)),R}function ve(D){return Z.apply(this,arguments)}function Z(){return(Z=(0,P.Z)(function*(D){const I=yield D();return I.status>=500&&I.status<600?D():I})).apply(this,arguments)}function ie(D){return Number(D.replace("s","000"))}function ye(D,I){return ae.apply(this,arguments)}function ae(){return(ae=(0,P.Z)(function*({appConfig:D,heartbeatServiceProvider:I},{fid:R}){const L=Se(D),Y=je(D),ne=I.getImmediate({optional:!0});if(ne){const ht=yield ne.getHeartbeatsHeader();ht&&Y.append("x-firebase-client",ht)}const Be={method:"POST",headers:Y,body:JSON.stringify({fid:R,authVersion:qe,appId:D.appId,sdkVersion:te})},St=yield ve(()=>fetch(L,Be));if(St.ok){const ht=yield St.json();return{fid:ht.fid||R,registrationStatus:2,refreshToken:ht.refreshToken,authToken:Ee(ht.authToken)}}throw yield Ce("Create Installation",St)})).apply(this,arguments)}function ke(D){return new Promise(I=>{setTimeout(I,D)})}const zt=/^[cdef][\w-]{21}$/;function Xe(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const R=function Xt(D){return function ct(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return zt.test(R)?R:""}catch(D){return""}}function Tn(D){return`${D.appName}!${D.appId}`}const rn=new Map;function Qt(D,I){const R=Tn(D);Vt(R,I),function rs(D,I){const R=function yr(){return!Qr&&"BroadcastChannel"in self&&(Qr=new BroadcastChannel("[Firebase] FID Change"),Qr.onmessage=D=>{Vt(D.data.key,D.data.fid)}),Qr}();R&&R.postMessage({key:D,fid:I}),function Pr(){0===rn.size&&Qr&&(Qr.close(),Qr=null)}()}(R,I)}function Vt(D,I){const R=rn.get(D);if(R)for(const L of R)L(I)}let Qr=null;const Jr="firebase-installations-store";let Li=null;function yt(){return Li||(Li=(0,oe.X3)("firebase-installations-database",1,{upgrade:(D,I)=>{0===I&&D.createObjectStore(Jr)}})),Li}function Xr(D,I){return wn.apply(this,arguments)}function wn(){return(wn=(0,P.Z)(function*(D,I){const R=Tn(D),Y=(yield yt()).transaction(Jr,"readwrite"),ne=Y.objectStore(Jr),me=yield ne.get(R);return yield ne.put(I,R),yield Y.done,(!me||me.fid!==I.fid)&&Qt(D,I.fid),I})).apply(this,arguments)}function An(D){return to.apply(this,arguments)}function to(){return(to=(0,P.Z)(function*(D){const I=Tn(D),L=(yield yt()).transaction(Jr,"readwrite");yield L.objectStore(Jr).delete(I),yield L.done})).apply(this,arguments)}function ei(D,I){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,P.Z)(function*(D,I){const R=Tn(D),Y=(yield yt()).transaction(Jr,"readwrite"),ne=Y.objectStore(Jr),me=yield ne.get(R),Be=I(me);return void 0===Be?yield ne.delete(R):yield ne.put(Be,R),yield Y.done,Be&&(!me||me.fid!==Be.fid)&&Qt(D,Be.fid),Be})).apply(this,arguments)}function Pn(D){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,P.Z)(function*(D){let I;const R=yield ei(D.appConfig,L=>{const Y=Lo(L),ne=Wt(D,Y);return I=ne.registrationPromise,ne.installationEntry});return""===R.fid?{installationEntry:yield I}:{installationEntry:R,registrationPromise:I}})).apply(this,arguments)}function Lo(D){return no(D||{fid:Xe(),registrationStatus:0})}function Wt(D,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(ze.create("app-offline"))};const R={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},L=function ut(D,I){return bt.apply(this,arguments)}(D,R);return{installationEntry:R,registrationPromise:L}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:_r(D)}:{installationEntry:I}}function bt(){return(bt=(0,P.Z)(function*(D,I){try{const R=yield ye(D,I);return Xr(D.appConfig,R)}catch(R){throw Je(R)&&409===R.customData.serverCode?yield An(D.appConfig):yield Xr(D.appConfig,{fid:I.fid,registrationStatus:0}),R}})).apply(this,arguments)}function _r(D){return ti.apply(this,arguments)}function ti(){return(ti=(0,P.Z)(function*(D){let I=yield jt(D.appConfig);for(;1===I.registrationStatus;)yield ke(100),I=yield jt(D.appConfig);if(0===I.registrationStatus){const{installationEntry:R,registrationPromise:L}=yield Pn(D);return L||R}return I})).apply(this,arguments)}function jt(D){return ei(D,I=>{if(!I)throw ze.create("installation-not-found");return no(I)})}function no(D){return function vr(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function Er(D,I){return V.apply(this,arguments)}function V(){return(V=(0,P.Z)(function*({appConfig:D,heartbeatServiceProvider:I},R){const L=z(D,R),Y=$(D,R),ne=I.getImmediate({optional:!0});if(ne){const ht=yield ne.getHeartbeatsHeader();ht&&Y.append("x-firebase-client",ht)}const Be={method:"POST",headers:Y,body:JSON.stringify({installation:{sdkVersion:te,appId:D.appId}})},St=yield ve(()=>fetch(L,Be));if(St.ok)return Ee(yield St.json());throw yield Ce("Generate Auth Token",St)})).apply(this,arguments)}function z(D,{fid:I}){return`${Se(D)}/${I}/authTokens:generate`}function W(D){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,P.Z)(function*(D,I=!1){let R;const L=yield ei(D.appConfig,ne=>{if(!At(ne))throw ze.create("not-registered");const me=ne.authToken;if(!I&&cn(me))return ne;if(1===me.requestStatus)return R=G(D,I),ne;{if(!navigator.onLine)throw ze.create("app-offline");const Be=Un(ne);return R=tt(D,Be),Be}});return R?yield R:L.authToken})).apply(this,arguments)}function G(D,I){return J.apply(this,arguments)}function J(){return(J=(0,P.Z)(function*(D,I){let R=yield Oe(D.appConfig);for(;1===R.authToken.requestStatus;)yield ke(100),R=yield Oe(D.appConfig);const L=R.authToken;return 0===L.requestStatus?W(D,I):L})).apply(this,arguments)}function Oe(D){return ei(D,I=>{if(!At(I))throw ze.create("not-registered");return function kr(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function tt(D,I){return ft.apply(this,arguments)}function ft(){return(ft=(0,P.Z)(function*(D,I){try{const R=yield Er(D,I),L=Object.assign(Object.assign({},I),{authToken:R});return yield Xr(D.appConfig,L),R}catch(R){if(!Je(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const L=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield Xr(D.appConfig,L)}else yield An(D.appConfig);throw R}})).apply(this,arguments)}function At(D){return void 0!==D&&2===D.registrationStatus}function cn(D){return 2===D.requestStatus&&!function Dt(D){const I=Date.now();return I<D.creationTime||D.creationTime+D.expiresIn<I+36e5}(D)}function Un(D){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:I})}function Ca(){return(Ca=(0,P.Z)(function*(D){const I=D,{installationEntry:R,registrationPromise:L}=yield Pn(I);return L?L.catch(console.error):W(I).catch(console.error),R.fid})).apply(this,arguments)}function Da(){return(Da=(0,P.Z)(function*(D,I=!1){const R=D;return yield jn(R),(yield W(R,I)).token})).apply(this,arguments)}function jn(D){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,P.Z)(function*(D){const{registrationPromise:I}=yield Pn(D);I&&(yield I)})).apply(this,arguments)}function Vo(D){return ze.create("missing-app-config-values",{valueName:D})}const jr="installations",lt=D=>{const I=D.getProvider("app").getImmediate(),R=function or(D){if(!D||!D.options)throw Vo("App Configuration");if(!D.name)throw Vo("App Name");const I=["projectId","apiKey","appId"];for(const R of I)if(!D.options[R])throw Vo(R);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(I);return{app:I,appConfig:R,heartbeatServiceProvider:(0,le._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},en=D=>{const I=D.getProvider("app").getImmediate(),R=(0,le._getProvider)(I,jr).getImmediate();return{getId:()=>function Cu(D){return Ca.apply(this,arguments)}(R),getToken:Y=>function Du(D){return Da.apply(this,arguments)}(R,Y)}};(function $r(){(0,le._registerComponent)(new ge.wA(jr,lt,"PUBLIC")),(0,le._registerComponent)(new ge.wA("installations-internal",en,"PRIVATE"))})(),(0,le.registerVersion)(he,H),(0,le.registerVersion)(he,H,"esm2017");const Vi="@firebase/remote-config",Sn=new re.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Xp{constructor(I,R,L,Y){this.client=I,this.storage=R,this.storageCache=L,this.logger=Y}isCachedDataFresh(I,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-R,Y=L<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${Y}.`),Y}fetch(I){var R=this;return(0,P.Z)(function*(){const[L,Y]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(Y&&R.isCachedDataFresh(I.cacheMaxAgeMillis,L))return Y;I.eTag=Y&&Y.eTag;const ne=yield R.client.fetch(I),me=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ne.status&&me.push(R.storage.setLastSuccessfulFetchResponse(ne)),yield Promise.all(me),ne})()}}function Xc(D=navigator){return D.languages&&D.languages[0]||D.language}class br{constructor(I,R,L,Y,ne,me){this.firebaseInstallations=I,this.sdkVersion=R,this.namespace=L,this.projectId=Y,this.apiKey=ne,this.appId=me}fetch(I){var R=this;return(0,P.Z)(function*(){const[L,Y]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),me=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,Be={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},St={sdk_version:R.sdkVersion,app_instance_id:L,app_instance_id_token:Y,app_id:R.appId,language_code:Xc()},ht={method:"POST",headers:Be,body:JSON.stringify(St)},Ht=fetch(me,ht),It=new Promise((li,ci)=>{I.signal.addEventListener(()=>{const qu=new Error("The operation was aborted.");qu.name="AbortError",ci(qu)})});let Ir;try{yield Promise.race([Ht,It]),Ir=yield Ht}catch(li){let ci="fetch-client-network";throw"AbortError"===li.name&&(ci="fetch-timeout"),Sn.create(ci,{originalErrorMessage:li.message})}let Jn=Ir.status;const fs=Ir.headers.get("ETag")||void 0;let Wr,ui;if(200===Ir.status){let li;try{li=yield Ir.json()}catch(ci){throw Sn.create("fetch-client-parse",{originalErrorMessage:ci.message})}Wr=li.entries,ui=li.state}if("INSTANCE_STATE_UNSPECIFIED"===ui?Jn=500:"NO_CHANGE"===ui?Jn=304:("NO_TEMPLATE"===ui||"EMPTY_CONFIG"===ui)&&(Wr={}),304!==Jn&&200!==Jn)throw Sn.create("fetch-status",{httpStatus:Jn});return{status:Jn,eTag:fs,config:Wr}})()}}class eg{constructor(I,R){this.client=I,this.storage=R}fetch(I){var R=this;return(0,P.Z)(function*(){const L=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(I,L)})()}attemptFetch(I,{throttleEndTimeMillis:R,backoffCount:L}){var Y=this;return(0,P.Z)(function*(){yield function xs(D,I){return new Promise((R,L)=>{const Y=Math.max(I-Date.now(),0),ne=setTimeout(R,Y);D.addEventListener(()=>{clearTimeout(ne),L(Sn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,R);try{const ne=yield Y.client.fetch(I);return yield Y.storage.deleteThrottleMetadata(),ne}catch(ne){if(!function ed(D){if(!(D instanceof re.ZR&&D.customData))return!1;const I=Number(D.customData.httpStatus);return 429===I||500===I||503===I||504===I}(ne))throw ne;const me={throttleEndTimeMillis:Date.now()+(0,re.$s)(L),backoffCount:L+1};return yield Y.storage.setThrottleMetadata(me),Y.attemptFetch(I,me)}})()}}class td{constructor(I,R,L,Y,ne){this.app=I,this._client=R,this._storageCache=L,this._storage=Y,this._logger=ne,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ll(D,I){const R=D.target.error||void 0;return Sn.create(I,{originalErrorMessage:R&&R.message})}const Rs="app_namespace_store";class rg{constructor(I,R,L,Y=function ng(){return new Promise((D,I)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=L=>{I(Ll(L,"storage-open"))},R.onsuccess=L=>{D(L.target.result)},R.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(Rs,{keyPath:"compositeKey"})}}catch(R){I(Sn.create("storage-open",{originalErrorMessage:R}))}})}()){this.appId=I,this.appName=R,this.namespace=L,this.openDbPromise=Y}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var R=this;return(0,P.Z)(function*(){const L=yield R.openDbPromise;return new Promise((Y,ne)=>{const Be=L.transaction([Rs],"readonly").objectStore(Rs),St=R.createCompositeKey(I);try{const ht=Be.get(St);ht.onerror=Ht=>{ne(Ll(Ht,"storage-get"))},ht.onsuccess=Ht=>{const It=Ht.target.result;Y(It?It.value:void 0)}}catch(ht){ne(Sn.create("storage-get",{originalErrorMessage:ht&&ht.message}))}})})()}set(I,R){var L=this;return(0,P.Z)(function*(){const Y=yield L.openDbPromise;return new Promise((ne,me)=>{const St=Y.transaction([Rs],"readwrite").objectStore(Rs),ht=L.createCompositeKey(I);try{const Ht=St.put({compositeKey:ht,value:R});Ht.onerror=It=>{me(Ll(It,"storage-set"))},Ht.onsuccess=()=>{ne()}}catch(Ht){me(Sn.create("storage-set",{originalErrorMessage:Ht&&Ht.message}))}})})()}delete(I){var R=this;return(0,P.Z)(function*(){const L=yield R.openDbPromise;return new Promise((Y,ne)=>{const Be=L.transaction([Rs],"readwrite").objectStore(Rs),St=R.createCompositeKey(I);try{const ht=Be.delete(St);ht.onerror=Ht=>{ne(Ll(Ht,"storage-delete"))},ht.onsuccess=()=>{Y()}}catch(ht){ne(Sn.create("storage-delete",{originalErrorMessage:ht&&ht.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class rd{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,P.Z)(function*(){const R=I.storage.getLastFetchStatus(),L=I.storage.getLastSuccessfulFetchTimestampMillis(),Y=I.storage.getActiveConfig(),ne=yield R;ne&&(I.lastFetchStatus=ne);const me=yield L;me&&(I.lastSuccessfulFetchTimestampMillis=me);const Be=yield Y;Be&&(I.activeConfig=Be)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function Su(){return id.apply(this,arguments)}function id(){return(id=(0,P.Z)(function*(){if(!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch(D){return!1}})).apply(this,arguments)}!function Bo(){(0,le._registerComponent)(new ge.wA("remote-config",function D(I,{instanceIdentifier:R}){const L=I.getProvider("app").getImmediate(),Y=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Sn.create("registration-window");if(!(0,re.hl)())throw Sn.create("indexed-db-unavailable");const{projectId:ne,apiKey:me,appId:Be}=L.options;if(!ne)throw Sn.create("registration-project-id");if(!me)throw Sn.create("registration-api-key");if(!Be)throw Sn.create("registration-app-id");const St=new rg(Be,L.name,R=R||"firebase"),ht=new rd(St),Ht=new ue.Yd(Vi);Ht.logLevel=ue.in.ERROR;const It=new br(Y,le.SDK_VERSION,R,ne,me,Be),Ir=new eg(It,St),Jn=new Xp(Ir,St,ht,Ht),fs=new td(L,Jn,ht,St,Ht);return function sn(D){const I=(0,re.m9)(D);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(fs),fs},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(Vi,"0.3.8"),(0,le.registerVersion)(Vi,"0.3.8","esm2017")}();const Vl="/firebase-messaging-sw.js",Cr="/firebase-cloud-messaging-push-scope",so="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Uo="google.c.a.c_id",sd="google.c.a.c_l",Hh="google.c.a.ts",Dr="google.c.a.e";var jo=(()=>{return(D=jo||(jo={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",jo;var D})();function Lr(D){const I=new Uint8Array(D);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function od(D){const R=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(R),Y=new Uint8Array(L.length);for(let ne=0;ne<L.length;++ne)Y[ne]=L.charCodeAt(ne);return Y}const ar="fcm_token_details_db",ni="fcm_token_object_Store";function Bl(D){return ad.apply(this,arguments)}function ad(){return ad=(0,P.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ne=>ne.name).includes(ar))return null;let I=null;return(yield(0,oe.X3)(ar,5,{upgrade:(L=(0,P.Z)(function*(Y,ne,me,Be){var St;if(ne<2||!Y.objectStoreNames.contains(ni))return;const ht=Be.objectStore(ni),Ht=yield ht.index("fcmSenderId").get(D);if(yield ht.clear(),Ht)if(2===ne){const It=Ht;if(!It.auth||!It.p256dh||!It.endpoint)return;I={token:It.fcmToken,createTime:null!==(St=It.createTime)&&void 0!==St?St:Date.now(),subscriptionOptions:{auth:It.auth,p256dh:It.p256dh,endpoint:It.endpoint,swScope:It.swScope,vapidKey:"string"==typeof It.vapidKey?It.vapidKey:Lr(It.vapidKey)}}}else if(3===ne){const It=Ht;I={token:It.fcmToken,createTime:It.createTime,subscriptionOptions:{auth:Lr(It.auth),p256dh:Lr(It.p256dh),endpoint:It.endpoint,swScope:It.swScope,vapidKey:Lr(It.vapidKey)}}}else if(4===ne){const It=Ht;I={token:It.fcmToken,createTime:It.createTime,subscriptionOptions:{auth:Lr(It.auth),p256dh:Lr(It.p256dh),endpoint:It.endpoint,swScope:It.swScope,vapidKey:Lr(It.vapidKey)}}}}),function(ne,me,Be,St){return L.apply(this,arguments)})})).close(),yield(0,oe.Lj)(ar),yield(0,oe.Lj)("fcm_vapid_details_db"),yield(0,oe.Lj)("undefined"),Ul(I)?I:null;var L}),ad.apply(this,arguments)}function Ul(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:I}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const Gi="firebase-messaging-store";let Gh=null;function on(){return Gh||(Gh=(0,oe.X3)("firebase-messaging-database",1,{upgrade:(D,I)=>{0===I&&D.createObjectStore(Gi)}})),Gh}function Ma(D){return ao.apply(this,arguments)}function ao(){return(ao=(0,P.Z)(function*(D){const I=ur(D),L=yield(yield on()).transaction(Gi).objectStore(Gi).get(I);if(L)return L;{const Y=yield Bl(D.appConfig.senderId);if(Y)return yield Jt(D,Y),Y}})).apply(this,arguments)}function Jt(D,I){return xa.apply(this,arguments)}function xa(){return(xa=(0,P.Z)(function*(D,I){const R=ur(D),Y=(yield on()).transaction(Gi,"readwrite");return yield Y.objectStore(Gi).put(I,R),yield Y.done,I})).apply(this,arguments)}function Mu(D){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,P.Z)(function*(D){const I=ur(D),L=(yield on()).transaction(Gi,"readwrite");yield L.objectStore(Gi).delete(I),yield L.done})).apply(this,arguments)}function ur({appConfig:D}){return D.appId}const pn=new re.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function qi(D,I){return lr.apply(this,arguments)}function lr(){return(lr=(0,P.Z)(function*(D,I){const R=yield Go(D),L=qo(I),Y={method:"POST",headers:R,body:JSON.stringify(L)};let ne;try{ne=yield(yield fetch(zi(D.appConfig),Y)).json()}catch(me){throw pn.create("token-subscribe-failed",{errorInfo:me})}if(ne.error)throw pn.create("token-subscribe-failed",{errorInfo:ne.error.message});if(!ne.token)throw pn.create("token-subscribe-no-token");return ne.token})).apply(this,arguments)}function uo(D,I){return as.apply(this,arguments)}function as(){return(as=(0,P.Z)(function*(D,I){const R=yield Go(D),L=qo(I.subscriptionOptions),Y={method:"PATCH",headers:R,body:JSON.stringify(L)};let ne;try{ne=yield(yield fetch(`${zi(D.appConfig)}/${I.token}`,Y)).json()}catch(me){throw pn.create("token-update-failed",{errorInfo:me})}if(ne.error)throw pn.create("token-update-failed",{errorInfo:ne.error.message});if(!ne.token)throw pn.create("token-update-no-token");return ne.token})).apply(this,arguments)}function Ra(D,I){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,P.Z)(function*(D,I){const L={method:"DELETE",headers:yield Go(D)};try{const ne=yield(yield fetch(`${zi(D.appConfig)}/${I}`,L)).json();if(ne.error)throw pn.create("token-unsubscribe-failed",{errorInfo:ne.error.message})}catch(Y){throw pn.create("token-unsubscribe-failed",{errorInfo:Y})}})).apply(this,arguments)}function zi({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function Go(D){return pt.apply(this,arguments)}function pt(){return(pt=(0,P.Z)(function*({appConfig:D,installations:I}){const R=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function qo({p256dh:D,auth:I,endpoint:R,vapidKey:L}){const Y={web:{endpoint:R,auth:I,p256dh:D}};return L!==so&&(Y.web.applicationPubKey=L),Y}const xu=6048e5;function Na(D){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,P.Z)(function*(D){const I=yield hn(D.swRegistration,D.vapidKey),R={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:I.endpoint,auth:Lr(I.getKey("auth")),p256dh:Lr(I.getKey("p256dh"))},L=yield Ma(D.firebaseDependencies);if(L){if(lo(L.subscriptionOptions,R))return Date.now()>=L.createTime+xu?ql(D,{token:L.token,createTime:Date.now(),subscriptionOptions:R}):L.token;try{yield Ra(D.firebaseDependencies,L.token)}catch(Y){console.warn(Y)}return kt(D.firebaseDependencies,R)}return kt(D.firebaseDependencies,R)})).apply(this,arguments)}function Oa(D){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,P.Z)(function*(D){const I=yield Ma(D.firebaseDependencies);I&&(yield Ra(D.firebaseDependencies,I.token),yield Mu(D.firebaseDependencies));const R=yield D.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function ql(D,I){return Me.apply(this,arguments)}function Me(){return(Me=(0,P.Z)(function*(D,I){try{const R=yield uo(D.firebaseDependencies,I),L=Object.assign(Object.assign({},I),{token:R,createTime:Date.now()});return yield Jt(D.firebaseDependencies,L),R}catch(R){throw yield Oa(D),R}})).apply(this,arguments)}function kt(D,I){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,P.Z)(function*(D,I){const L={token:yield qi(D,I),createTime:Date.now(),subscriptionOptions:I};return yield Jt(D,L),L.token})).apply(this,arguments)}function hn(D,I){return zo.apply(this,arguments)}function zo(){return(zo=(0,P.Z)(function*(D,I){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:od(I)})})).apply(this,arguments)}function lo(D,I){return I.vapidKey===D.vapidKey&&I.endpoint===D.endpoint&&I.auth===D.auth&&I.p256dh===D.p256dh}function ri(D){const I={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function Pa(D,I){if(!I.notification)return;D.notification={};const R=I.notification.title;R&&(D.notification.title=R);const L=I.notification.body;L&&(D.notification.body=L);const Y=I.notification.image;Y&&(D.notification.image=Y)}(I,D),function zl(D,I){!I.data||(D.data=I.data)}(I,D),function ig(D,I){if(!I.fcmOptions)return;D.fcmOptions={};const R=I.fcmOptions.link;R&&(D.fcmOptions.link=R);const L=I.fcmOptions.analytics_label;L&&(D.fcmOptions.analyticsLabel=L)}(I,D),I}function Nu(D){return"object"==typeof D&&!!D&&Uo in D}function ka(D,I){const R=[];for(let L=0;L<D.length;L++)R.push(D.charAt(L)),L<I.length&&R.push(I.charAt(L));return R.join("")}function Mn(D){return pn.create("missing-app-config-values",{valueName:D})}ka("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ka("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class us{constructor(I,R,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Y=function Ou(D){if(!D||!D.options)throw Mn("App Configuration Object");if(!D.name)throw Mn("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:R}=D;for(const L of I)if(!R[L])throw Mn(L);return{appName:D.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:Y,installations:R,analyticsProvider:L}}_delete(){return Promise.resolve()}}function Fa(D){return Os.apply(this,arguments)}function Os(){return(Os=(0,P.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(Vl,{scope:Cr}),D.swRegistration.update().catch(()=>{})}catch(I){throw pn.create("failed-service-worker-registration",{browserErrorMessage:I.message})}})).apply(this,arguments)}function Ti(D,I){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,P.Z)(function*(D,I){if(!I&&!D.swRegistration&&(yield Fa(D)),I||!D.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw pn.create("invalid-sw-registration");D.swRegistration=I}})).apply(this,arguments)}function Pu(D,I){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,P.Z)(function*(D,I){I?D.vapidKey=I:D.vapidKey||(D.vapidKey=so)})).apply(this,arguments)}function La(){return(La=(0,P.Z)(function*(D,I){if(!navigator)throw pn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw pn.create("permission-blocked");return yield Pu(D,null==I?void 0:I.vapidKey),yield Ti(D,null==I?void 0:I.serviceWorkerRegistration),Na(D)})).apply(this,arguments)}function Wo(D,I,R){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,P.Z)(function*(D,I,R){const L=Va(I);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:R[Uo],message_name:R[sd],message_time:R[Hh],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Va(D){switch(D){case jo.NOTIFICATION_CLICKED:return"notification_open";case jo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Yl(){return(Yl=(0,P.Z)(function*(D,I){const R=I.data;if(!R.isFirebaseMessaging)return;D.onMessageHandler&&R.messageType===jo.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(ri(R)):D.onMessageHandler.next(ri(R)));const L=R.data;Nu(L)&&"1"===L[Dr]&&(yield Wo(D,R.messageType,L))})).apply(this,arguments)}const Ko="@firebase/messaging",ud=D=>{const I=new us(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function sg(D,I){return Yl.apply(this,arguments)}(I,R)),I},Zo=D=>{const I=D.getProvider("messaging").getImmediate();return{getToken:L=>function ku(D,I){return La.apply(this,arguments)}(I,L)}};function Yo(){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,P.Z)(function*(){try{yield(0,re.eu)()}catch(D){return!1}return"undefined"!=typeof window&&(0,re.hl)()&&(0,re.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ld(){(0,le._registerComponent)(new ge.wA("messaging",ud,"PUBLIC")),(0,le._registerComponent)(new ge.wA("messaging-internal",Zo,"PRIVATE")),(0,le.registerVersion)(Ko,"0.9.13"),(0,le.registerVersion)(Ko,"0.9.13","esm2017")}();const cd="analytics",og="firebase_id",ls="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Qo="https://www.googletagmanager.com/gtag/js",Yn=new ue.Yd("@firebase/analytics");function Wh(D){return Promise.all(D.map(I=>I.catch(R=>R)))}function co(D,I){const R=document.createElement("script");R.src=`${Qo}?l=${D}&id=${I}`,R.async=!0,document.head.appendChild(R)}function hd(D,I,R,L,Y,ne){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,P.Z)(function*(D,I,R,L,Y,ne){const me=L[Y];try{if(me)yield I[me];else{const St=(yield Wh(R)).find(ht=>ht.measurementId===Y);St&&(yield I[St.appId])}}catch(Be){Yn.error(Be)}D("config",Y,ne)})).apply(this,arguments)}function Vu(D,I,R,L,Y){return ho.apply(this,arguments)}function ho(){return(ho=(0,P.Z)(function*(D,I,R,L,Y){try{let ne=[];if(Y&&Y.send_to){let me=Y.send_to;Array.isArray(me)||(me=[me]);const Be=yield Wh(R);for(const St of me){const ht=Be.find(It=>It.measurementId===St),Ht=ht&&I[ht.appId];if(!Ht){ne=[];break}ne.push(Ht)}}0===ne.length&&(ne=Object.values(I)),yield Promise.all(ne),D("event",L,Y||{})}catch(ne){Yn.error(ne)}})).apply(this,arguments)}function Cn(){const D=window.document.getElementsByTagName("script");for(const I of Object.values(D))if(I.src&&I.src.includes(Qo))return I;return null}const it=new re.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ql=new class xn{constructor(I={},R=1e3){this.throttleMetadata=I,this.intervalMillis=R}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,R){this.throttleMetadata[I]=R}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function pd(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Zi(D){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,P.Z)(function*(D){var I;const{appId:R,apiKey:L}=D,Y={method:"GET",headers:pd(L)},ne=ls.replace("{app-id}",R),me=yield fetch(ne,Y);if(200!==me.status&&304!==me.status){let Be="";try{const St=yield me.json();(null===(I=St.error)||void 0===I?void 0:I.message)&&(Be=St.error.message)}catch(St){}throw it.create("config-fetch-failed",{httpStatus:me.status,responseMessage:Be})}return me.json()})).apply(this,arguments)}function un(D){return $a.apply(this,arguments)}function $a(){return($a=(0,P.Z)(function*(D,I=Ql,R){const{appId:L,apiKey:Y,measurementId:ne}=D.options;if(!L)throw it.create("no-app-id");if(!Y){if(ne)return{measurementId:ne,appId:L};throw it.create("no-api-key")}const me=I.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Be=new Xl;return setTimeout((0,P.Z)(function*(){Be.abort()}),void 0!==R?R:6e4),Ai({appId:L,apiKey:Y,measurementId:ne},me,Be,I)})).apply(this,arguments)}function Ai(D,I,R){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,P.Z)(function*(D,{throttleEndTimeMillis:I,backoffCount:R},L,Y=Ql){const{appId:ne,measurementId:me}=D;try{yield Bu(L,I)}catch(Be){if(me)return Yn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${me} provided in the "measurementId" field in the local Firebase config. [${Be.message}]`),{appId:ne,measurementId:me};throw Be}try{const Be=yield Zi(D);return Y.deleteThrottleMetadata(ne),Be}catch(Be){if(!gd(Be)){if(Y.deleteThrottleMetadata(ne),me)return Yn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${me} provided in the "measurementId" field in the local Firebase config. [${Be.message}]`),{appId:ne,measurementId:me};throw Be}const St=503===Number(Be.customData.httpStatus)?(0,re.$s)(R,Y.intervalMillis,30):(0,re.$s)(R,Y.intervalMillis),ht={throttleEndTimeMillis:Date.now()+St,backoffCount:R+1};return Y.setThrottleMetadata(ne,ht),Yn.debug(`Calling attemptFetch again in ${St} millis`),Ai(D,ht,L,Y)}})).apply(this,arguments)}function Bu(D,I){return new Promise((R,L)=>{const Y=Math.max(I-Date.now(),0),ne=setTimeout(R,Y);D.addEventListener(()=>{clearTimeout(ne),L(it.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function gd(D){if(!(D instanceof re.ZR&&D.customData))return!1;const I=Number(D.customData.httpStatus);return 429===I||500===I||503===I||504===I}class Xl{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}function ec(){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,P.Z)(function*(){if(!(0,re.hl)())return Yn.warn(it.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,re.eu)()}catch(D){return Yn.warn(it.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function Xo(){return(Xo=(0,P.Z)(function*(D,I,R,L,Y,ne,me){var Be;const St=un(D);St.then(Jn=>{R[Jn.measurementId]=Jn.appId,D.options.measurementId&&Jn.measurementId!==D.options.measurementId&&Yn.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${Jn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Jn=>Yn.error(Jn)),I.push(St);const ht=ec().then(Jn=>{if(Jn)return L.getId()}),[Ht,It]=yield Promise.all([St,ht]);Cn()||co(ne,Ht.measurementId),Y("js",new Date);const Ir=null!==(Be=null==me?void 0:me.config)&&void 0!==Be?Be:{};return Ir.origin="firebase",Ir.update=!0,null!=It&&(Ir[og]=It),Y("config",Ht.measurementId,Ir),Ht.measurementId})).apply(this,arguments)}class Ps{constructor(I){this.app=I}_delete(){return delete cr[this.app.options.appId],Promise.resolve()}}let cr={},Si=[];const ks={};let ta,fo,ea="dataLayer",na=!1;function Ha(D,I,R){!function ra(){const D=[];if((0,re.ru)()&&D.push("This is a browser extension environment."),(0,re.zI)()||D.push("Cookies are not available."),D.length>0){const I=D.map((L,Y)=>`(${Y+1}) ${L}`).join(" "),R=it.create("invalid-analytics-context",{errorInfo:I});Yn.warn(R.message)}}();const L=D.options.appId;if(!L)throw it.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw it.create("no-api-key");Yn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=cr[L])throw it.create("already-exists",{id:L});if(!na){!function Fu(D){let I=[];Array.isArray(window[D])?I=window[D]:window[D]=I}(ea);const{wrappedGtag:ne,gtagCore:me}=function ag(D,I,R,L,Y){let ne=function(...me){window[L].push(arguments)};return window[Y]&&"function"==typeof window[Y]&&(ne=window[Y]),window[Y]=function fd(D,I,R,L){function ne(){return(ne=(0,P.Z)(function*(me,Be,St){try{"event"===me?yield Vu(D,I,R,Be,St):"config"===me?yield hd(D,I,R,L,Be,St):D("set",Be)}catch(ht){Yn.error(ht)}})).apply(this,arguments)}return function Y(me,Be,St){return ne.apply(this,arguments)}}(ne,D,I,R),{gtagCore:ne,wrappedGtag:window[Y]}}(cr,Si,ks,ea,"gtag");fo=ne,ta=me,na=!0}return cr[L]=function Jo(D,I,R,L,Y,ne,me){return Xo.apply(this,arguments)}(D,Si,ks,I,ta,ea,R),new Ps(D)}function dr(){return(dr=(0,P.Z)(function*(D,I,R,L,Y){if(Y&&Y.global)D("event",R,L);else{const ne=yield I;D("event",R,Object.assign(Object.assign({},L),{send_to:ne}))}})).apply(this,arguments)}function ju(){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,P.Z)(function*(){if((0,re.ru)()||!(0,re.zI)()||!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch(D){return!1}})).apply(this,arguments)}const zr="@firebase/analytics";!function Vs(){(0,le._registerComponent)(new ge.wA(cd,(I,{options:R})=>Ha(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,le._registerComponent)(new ge.wA("analytics-internal",function D(I){try{const R=I.getProvider(cd).getImmediate();return{logEvent:(L,Y,ne)=>function ia(D,I,R,L){D=(0,re.m9)(D),function cs(D,I,R,L,Y){return dr.apply(this,arguments)}(fo,cr[D.app.options.appId],I,R,L).catch(Y=>Yn.error(Y))}(R,L,Y,ne)}}catch(R){throw it.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,le.registerVersion)(zr,"0.7.9"),(0,le.registerVersion)(zr,"0.7.9","esm2017")}();var mo=O(4408),mn=O(7565);const yo=new class tc extends mn.v{}(class $u extends mo.o{constructor(I,R){super(I,R),this.scheduler=I,this.work=R}schedule(I,R=0){return R>0?super.schedule(I,R):(this.delay=R,this.state=I,this.scheduler.flush(this),this)}execute(I,R){return R>0||this.closed?super.execute(I,R):this._execute(I,R)}requestAsyncId(I,R,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(I,R,L):I.flush(this)}});var nc=O(4986),oi=O(8505),ai=O(9468),sa=O(5363);const _o=new h.GfV("7.3.0"),vo="__angularfire_symbol__analyticsIsSupportedValue",oa="__angularfire_symbol__analyticsIsSupported",Eo="__angularfire_symbol__remoteConfigIsSupportedValue",hs="__angularfire_symbol__remoteConfigIsSupported",qa="__angularfire_symbol__messagingIsSupportedValue",Pt="__angularfire_symbol__messagingIsSupported";function cg(D,I,R){if(I){if(1===I.length)return I[0];const ne=I.filter(me=>me.app===R);if(1===ne.length)return ne[0]}return R.container.getProvider(D).getImmediate({optional:!0})}globalThis[oa]||(globalThis[oa]=ju().then(D=>globalThis[vo]=D).catch(()=>globalThis[vo]=!1)),globalThis[Pt]||(globalThis[Pt]=Yo().then(D=>globalThis[qa]=D).catch(()=>globalThis[qa]=!1)),globalThis[hs]||(globalThis[hs]=Su().then(D=>globalThis[Eo]=D).catch(()=>globalThis[Eo]=!1));const yd=(D,I)=>{const R=I?[I]:(0,X.C6)(),L=[];return R.forEach(Y=>{Y.container.getProvider(D).instances.forEach(me=>{L.includes(me)||L.push(me)})}),L};function Us(){}class Mi{constructor(I,R=yo){this.zone=I,this.delegate=R}now(){return this.delegate.now()}schedule(I,R,L){const Y=this.zone;return this.delegate.schedule(function(me){Y.runGuarded(()=>{I.apply(this,[me])})},R,L)}}class Gu{constructor(I){this.zone=I,this.task=null}call(I,R){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Us,{},Us,Us)),R.pipe((0,oi.b)({next:L,complete:L,error:L})).subscribe(I).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let _d=(()=>{class D{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new Mi(Zone.current)),this.insideAngular=R.run(()=>new Mi(Zone.current,nc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(R){return new(R||D)(h.LFG(h.R0b))},D.\u0275prov=h.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Ji(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function aa(D){return Ji(),function ua(D){return function(R){return(R=R.lift(new Gu(D.ngZone))).pipe((0,ai.R)(D.outsideAngular),(0,sa.Q)(D.insideAngular))}}(Ji())(D)}},2090:(rt,we,O)=>{O.d(we,{BH:()=>qe,LL:()=>ae,ZR:()=>ye,zI:()=>Z,US:()=>ge,tV:()=>he,L:()=>oe,$s:()=>jt,r3:()=>Or,Sg:()=>Re,ne:()=>Li,vZ:()=>Qr,ZB:()=>j,pd:()=>Ts,m9:()=>Er,z$:()=>Pe,jU:()=>Te,ru:()=>ze,d:()=>Se,xb:()=>Vt,w1:()=>Ee,hl:()=>$,uI:()=>Ue,UG:()=>fe,b$:()=>Je,G6:()=>je,Mn:()=>Ce,xO:()=>Pr,zd:()=>Fi,eu:()=>ve});const le=function(V){const z=[];let W=0;for(let Ie=0;Ie<V.length;Ie++){let G=V.charCodeAt(Ie);G<128?z[W++]=G:G<2048?(z[W++]=G>>6|192,z[W++]=63&G|128):55296==(64512&G)&&Ie+1<V.length&&56320==(64512&V.charCodeAt(Ie+1))?(G=65536+((1023&G)<<10)+(1023&V.charCodeAt(++Ie)),z[W++]=G>>18|240,z[W++]=G>>12&63|128,z[W++]=G>>6&63|128,z[W++]=63&G|128):(z[W++]=G>>12|224,z[W++]=G>>6&63|128,z[W++]=63&G|128)}return z},ge={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(V,z){if(!Array.isArray(V))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=z?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ie=[];for(let G=0;G<V.length;G+=3){const J=V[G],Oe=G+1<V.length,tt=Oe?V[G+1]:0,ft=G+2<V.length,At=ft?V[G+2]:0;let Un=(15&tt)<<2|At>>6,kr=63&At;ft||(kr=64,Oe||(Un=64)),Ie.push(W[J>>2],W[(3&J)<<4|tt>>4],W[Un],W[kr])}return Ie.join("")},encodeString(V,z){return this.HAS_NATIVE_SUPPORT&&!z?btoa(V):this.encodeByteArray(le(V),z)},decodeString(V,z){return this.HAS_NATIVE_SUPPORT&&!z?atob(V):function(V){const z=[];let W=0,Ie=0;for(;W<V.length;){const G=V[W++];if(G<128)z[Ie++]=String.fromCharCode(G);else if(G>191&&G<224){const J=V[W++];z[Ie++]=String.fromCharCode((31&G)<<6|63&J)}else if(G>239&&G<365){const ft=((7&G)<<18|(63&V[W++])<<12|(63&V[W++])<<6|63&V[W++])-65536;z[Ie++]=String.fromCharCode(55296+(ft>>10)),z[Ie++]=String.fromCharCode(56320+(1023&ft))}else{const J=V[W++],Oe=V[W++];z[Ie++]=String.fromCharCode((15&G)<<12|(63&J)<<6|63&Oe)}}return z.join("")}(this.decodeStringToByteArray(V,z))},decodeStringToByteArray(V,z){this.init_();const W=z?this.charToByteMapWebSafe_:this.charToByteMap_,Ie=[];for(let G=0;G<V.length;){const J=W[V.charAt(G++)],tt=G<V.length?W[V.charAt(G)]:0;++G;const At=G<V.length?W[V.charAt(G)]:64;++G;const Dt=G<V.length?W[V.charAt(G)]:64;if(++G,null==J||null==tt||null==At||null==Dt)throw Error();Ie.push(J<<2|tt>>4),64!==At&&(Ie.push(tt<<4&240|At>>2),64!==Dt&&Ie.push(At<<6&192|Dt))}return Ie},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let V=0;V<this.ENCODED_VALS.length;V++)this.byteToCharMap_[V]=this.ENCODED_VALS.charAt(V),this.charToByteMap_[this.byteToCharMap_[V]]=V,this.byteToCharMapWebSafe_[V]=this.ENCODED_VALS_WEBSAFE.charAt(V),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[V]]=V,V>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(V)]=V,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(V)]=V)}}},oe=function(V){return function(V){const z=le(V);return ge.encodeByteArray(z,!0)}(V).replace(/\./g,"")},he=function(V){try{return ge.decodeString(V,!0)}catch(z){console.error("base64Decode failed: ",z)}return null};function j(V,z){if(!(z instanceof Object))return z;switch(z.constructor){case Date:return new Date(z.getTime());case Object:void 0===V&&(V={});break;case Array:V=[];break;default:return z}for(const W in z)!z.hasOwnProperty(W)||!te(W)||(V[W]=j(V[W],z[W]));return V}function te(V){return"__proto__"!==V}class qe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((z,W)=>{this.resolve=z,this.reject=W})}wrapCallback(z){return(W,Ie)=>{W?this.reject(W):this.resolve(Ie),"function"==typeof z&&(this.promise.catch(()=>{}),1===z.length?z(W):z(W,Ie))}}}function Re(V,z){if(V.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ie=z||"demo-project",G=V.iat||0,J=V.sub||V.user_id;if(!J)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Oe=Object.assign({iss:`https://securetoken.google.com/${Ie}`,aud:Ie,iat:G,exp:G+3600,auth_time:G,sub:J,user_id:J,firebase:{sign_in_provider:"custom",identities:{}}},V);return[oe(JSON.stringify({alg:"none",type:"JWT"})),oe(JSON.stringify(Oe)),""].join(".")}function Pe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ue(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pe())}function fe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(V){return!1}}function Te(){return"object"==typeof self&&self.self===self}function ze(){const V="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof V&&void 0!==V.id}function Je(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Se(){return Pe().indexOf("Electron/")>=0}function Ee(){const V=Pe();return V.indexOf("MSIE ")>=0||V.indexOf("Trident/")>=0}function Ce(){return Pe().indexOf("MSAppHost/")>=0}function je(){return!fe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $(){return"object"==typeof indexedDB}function ve(){return new Promise((V,z)=>{try{let W=!0;const Ie="validate-browser-context-for-indexeddb-analytics-module",G=self.indexedDB.open(Ie);G.onsuccess=()=>{G.result.close(),W||self.indexedDB.deleteDatabase(Ie),V(!0)},G.onupgradeneeded=()=>{W=!1},G.onerror=()=>{var J;z((null===(J=G.error)||void 0===J?void 0:J.message)||"")}}catch(W){z(W)}})}function Z(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ye extends Error{constructor(z,W,Ie){super(W),this.code=z,this.customData=Ie,this.name="FirebaseError",Object.setPrototypeOf(this,ye.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ae.prototype.create)}}class ae{constructor(z,W,Ie){this.service=z,this.serviceName=W,this.errors=Ie}create(z,...W){const Ie=W[0]||{},G=`${this.service}/${z}`,J=this.errors[z],Oe=J?function ke(V,z){return V.replace(ct,(W,Ie)=>{const G=z[Ie];return null!=G?String(G):`<${Ie}?>`})}(J,Ie):"Error";return new ye(G,`${this.serviceName}: ${Oe} (${G}).`,Ie)}}const ct=/\{\$([^}]+)}/g;function Or(V,z){return Object.prototype.hasOwnProperty.call(V,z)}function Vt(V){for(const z in V)if(Object.prototype.hasOwnProperty.call(V,z))return!1;return!0}function Qr(V,z){if(V===z)return!0;const W=Object.keys(V),Ie=Object.keys(z);for(const G of W){if(!Ie.includes(G))return!1;const J=V[G],Oe=z[G];if(yr(J)&&yr(Oe)){if(!Qr(J,Oe))return!1}else if(J!==Oe)return!1}for(const G of Ie)if(!W.includes(G))return!1;return!0}function yr(V){return null!==V&&"object"==typeof V}function Pr(V){const z=[];for(const[W,Ie]of Object.entries(V))Array.isArray(Ie)?Ie.forEach(G=>{z.push(encodeURIComponent(W)+"="+encodeURIComponent(G))}):z.push(encodeURIComponent(W)+"="+encodeURIComponent(Ie));return z.length?"&"+z.join("&"):""}function Fi(V){const z={};return V.replace(/^\?/,"").split("&").forEach(Ie=>{if(Ie){const[G,J]=Ie.split("=");z[decodeURIComponent(G)]=decodeURIComponent(J)}}),z}function Ts(V){const z=V.indexOf("?");if(!z)return"";const W=V.indexOf("#",z);return V.substring(z,W>0?W:void 0)}function Li(V,z){const W=new yt(V,z);return W.subscribe.bind(W)}class yt{constructor(z,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{z(this)}).catch(Ie=>{this.error(Ie)})}next(z){this.forEachObserver(W=>{W.next(z)})}error(z){this.forEachObserver(W=>{W.error(z)}),this.close(z)}complete(){this.forEachObserver(z=>{z.complete()}),this.close()}subscribe(z,W,Ie){let G;if(void 0===z&&void 0===W&&void 0===Ie)throw new Error("Missing Observer.");G=function wn(V,z){if("object"!=typeof V||null===V)return!1;for(const W of z)if(W in V&&"function"==typeof V[W])return!0;return!1}(z,["next","error","complete"])?z:{next:z,error:W,complete:Ie},void 0===G.next&&(G.next=An),void 0===G.error&&(G.error=An),void 0===G.complete&&(G.complete=An);const J=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?G.error(this.finalError):G.complete()}catch(Oe){}}),this.observers.push(G),J}unsubscribeOne(z){void 0===this.observers||void 0===this.observers[z]||(delete this.observers[z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(z){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,z)}sendOne(z,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[z])try{W(this.observers[z])}catch(Ie){"undefined"!=typeof console&&console.error&&console.error(Ie)}})}close(z){this.finalized||(this.finalized=!0,void 0!==z&&(this.finalError=z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function An(){}function jt(V,z=1e3,W=2){const Ie=z*Math.pow(W,V),G=Math.round(.5*Ie*(Math.random()-.5)*2);return Math.min(144e5,Ie+G)}function Er(V){return V&&V._delegate?V._delegate:V}},7425:(rt,we,O)=>{var h=O(5e3);let X=null;function P(){return X}const ue=new h.OlP("DocumentToken");let oe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return function he(){return(0,h.LFG)(j)}()},providedIn:"platform"}),n})();const H=new h.OlP("Location Initialized");let j=(()=>{class n extends oe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){te()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){te()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ue))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function qe(){return new j((0,h.LFG)(ue))}()},providedIn:"platform"}),n})();function te(){return!!window.history.pushState}function Re(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Pe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ue(n){return n&&"?"!==n[0]?"?"+n:n}let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return function Te(n){const e=(0,h.LFG)(ue).location;return new Je((0,h.LFG)(oe),e&&e.origin||"")}()},providedIn:"root"}),n})();const ze=new h.OlP("appBaseHref");let Je=(()=>{class n extends fe{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Re(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ue(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,u){const c=this.prepareExternalUrl(i+Ue(u));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,u){const c=this.prepareExternalUrl(i+Ue(u));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(oe),h.LFG(ze,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Se=(()=>{class n extends fe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Re(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,u){let c=this.prepareExternalUrl(i+Ue(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,u){let c=this.prepareExternalUrl(i+Ue(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(oe),h.LFG(ze,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Ee=(()=>{class n{constructor(t,r){this._subject=new h.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Pe(je(i)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ue(r))}normalize(t){return n.stripTrailingSlash(function $e(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,je(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ue(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ue(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Ue,n.joinWithSlash=Re,n.stripTrailingSlash=Pe,n.\u0275fac=function(t){return new(t||n)(h.LFG(fe),h.LFG(oe))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function Ce(){return new Ee((0,h.LFG)(fe),(0,h.LFG)(oe))}()},providedIn:"root"}),n})();function je(n){return n.replace(/\/index.html$/,"")}var ve=(()=>((ve=ve||{})[ve.Decimal=0]="Decimal",ve[ve.Percent=1]="Percent",ve[ve.Currency=2]="Currency",ve[ve.Scientific=3]="Scientific",ve))(),ae=(()=>((ae=ae||{})[ae.Decimal=0]="Decimal",ae[ae.Group=1]="Group",ae[ae.List=2]="List",ae[ae.PercentSign=3]="PercentSign",ae[ae.PlusSign=4]="PlusSign",ae[ae.MinusSign=5]="MinusSign",ae[ae.Exponential=6]="Exponential",ae[ae.SuperscriptingExponent=7]="SuperscriptingExponent",ae[ae.PerMille=8]="PerMille",ae[ae.Infinity=9]="Infinity",ae[ae.NaN=10]="NaN",ae[ae.TimeSeparator=11]="TimeSeparator",ae[ae.CurrencyDecimal=12]="CurrencyDecimal",ae[ae.CurrencyGroup=13]="CurrencyGroup",ae))();function Vt(n,e){const t=(0,h.cg1)(n),r=t[h.wAp.NumberSymbols][e];if(void 0===r){if(e===ae.CurrencyDecimal)return t[h.wAp.NumberSymbols][ae.Decimal];if(e===ae.CurrencyGroup)return t[h.wAp.NumberSymbols][ae.Group]}return r}const Fr=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Bi(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}let ss=(()=>{class n{constructor(t,r,i,u){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=u,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,h.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,h.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.ZZ4),h.Y36(h.aQg),h.Y36(h.SBq),h.Y36(h.Qsj))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Ss{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Fn=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,u,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Ss(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===u?void 0:u);else if(null!==u){const p=r.get(u);r.move(p,c),io(p,i)}});for(let i=0,u=r.length;i<u;i++){const p=r.get(i).context;p.index=i,p.count=u,p.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{io(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function io(n,e){n.context.$implicit=e.item}function br(n,e){return new h.vHH(2100,"")}class xs{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class ed{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const eg=new ed,os=new xs;let Fl=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,h.QGY)(t))return eg;if((0,h.F4k)(t))return os;throw br()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.sBO,16))},n.\u0275pipe=h.Yjl({name:"async",type:n,pure:!1}),n})(),Vl=(()=>{class n{constructor(t){this._locale=t}transform(t,r,i){if(!function Hi(n){return!(null==n||""===n||n!=n)}(t))return null;i=i||this._locale;try{return function lt(n,e,t){return function Vo(n,e,t,r,i,u,c=!1){let p="",y=!1;if(isFinite(n)){let b=function Vi(n){let r,i,u,c,p,e=Math.abs(n)+"",t=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(u=e.search(/e/i))>0?(i<0&&(i=u),i+=+e.slice(u+1),e=e.substring(0,u)):i<0&&(i=e.length),u=0;"0"===e.charAt(u);u++);if(u===(p=e.length))r=[0],i=1;else{for(p--;"0"===e.charAt(p);)p--;for(i-=u,r=[],c=0;u<=p;u++,c++)r[c]=Number(e.charAt(u))}return i>22&&(r=r.splice(0,21),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);c&&(b=function $r(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(b));let S=e.minInt,x=e.minFrac,F=e.maxFrac;if(u){const et=u.match(Fr);if(null===et)throw new Error(`${u} is not a valid digit info`);const He=et[1],nt=et[3],Et=et[5];null!=He&&(S=Bi(He)),null!=nt&&(x=Bi(nt)),null!=Et?F=Bi(Et):null!=nt&&x>F&&(F=x)}!function kn(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const u=Math.min(Math.max(e,i),t);let c=u+n.integerLen,p=r[c];if(c>0){r.splice(Math.max(n.integerLen,c));for(let x=c;x<r.length;x++)r[x]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,c=u+1),r[0]=0;for(let x=1;x<c;x++)r[x]=0}if(p>=5)if(c-1<0){for(let x=0;x>c;x--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[c-1]++;for(;i<Math.max(0,u);i++)r.push(0);let y=0!==u;const b=e+n.integerLen,S=r.reduceRight(function(x,F,B,q){return q[B]=(F+=x)<10?F:F-10,y&&(0===q[B]&&B>=b?q.pop():y=!1),F>=10?1:0},0);S&&(r.unshift(S),n.integerLen++)}(b,x,F);let B=b.digits,q=b.integerLen;const se=b.exponent;let De=[];for(y=B.every(et=>!et);q<S;q++)B.unshift(0);for(;q<0;q++)B.unshift(0);q>0?De=B.splice(q,B.length):(De=B,B=[0]);const Qe=[];for(B.length>=e.lgSize&&Qe.unshift(B.splice(-e.lgSize,B.length).join(""));B.length>e.gSize;)Qe.unshift(B.splice(-e.gSize,B.length).join(""));B.length&&Qe.unshift(B.join("")),p=Qe.join(Vt(t,r)),De.length&&(p+=Vt(t,i)+De.join("")),se&&(p+=Vt(t,ae.Exponential)+"+"+se)}else p=Vt(t,ae.Infinity);return p=n<0&&!y?e.negPre+p+e.negSuf:e.posPre+p+e.posSuf,p}(n,function en(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),i=r[0],u=r[1],c=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],p=c[0],y=c[1]||"";t.posPre=p.substr(0,p.indexOf("#"));for(let S=0;S<y.length;S++){const x=y.charAt(S);"0"===x?t.minFrac=t.maxFrac=S+1:"#"===x?t.maxFrac=S+1:t.posSuf+=x}const b=p.split(",");if(t.gSize=b[1]?b[1].length:0,t.lgSize=b[2]||b[1]?(b[2]||b[1]).length:0,u){const S=i.length-t.posPre.length-t.posSuf.length,x=u.indexOf("#");t.negPre=u.substr(0,x).replace(/'/g,""),t.negSuf=u.substr(x+S).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function rs(n,e){return(0,h.cg1)(n)[h.wAp.NumberFormats][e]}(e,ve.Decimal),Vt(e,ae.MinusSign)),e,ae.Group,ae.Decimal,t)}(function Uo(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),i,r)}catch(u){throw br()}}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.soG,16))},n.\u0275pipe=h.Yjl({name:"number",type:n,pure:!0}),n})();let Dr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();const oo="browser";function ar(n){return n===oo}function $o(n){return"server"===n}let Ul=(()=>{class n{}return n.\u0275prov=(0,h.Yz7)({token:n,providedIn:"root",factory:()=>new Ho((0,h.LFG)(ue),window)}),n})();class Ho{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Gi(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const u=i.shadowRoot;if(u){const c=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],i-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=jl(this.window.history)||jl(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function jl(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ao extends class Ma extends class ge{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function re(n){X||(X=n)}(new ao)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function xa(){return Jt=Jt||document.querySelector("base"),Jt?Jt.getAttribute("href"):null}();return null==t?null:function Ns(n){Mu=Mu||document.createElement("a"),Mu.setAttribute("href",n);const e=Mu.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Jt=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Ta(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let Mu,Jt=null;const ur=new h.OlP("TRANSITION_ID"),pn=[{provide:h.ip1,useFactory:function $l(n,e,t){return()=>{t.get(h.CZH).donePromise.then(()=>{const r=P(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<i.length;u++)r.remove(i[u])})}},deps:[ur,ue,h.zs3],multi:!0}];class qi{static init(){(0,h.VLi)(new qi)}addToWindow(e){h.dqk.getAngularTestability=(r,i=!0)=>{const u=e.findTestabilityInTree(r,i);if(null==u)throw new Error("Could not find testability for element.");return u},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(r=>{const i=h.dqk.getAllAngularTestabilities();let u=i.length,c=!1;const p=function(y){c=c||y,u--,0==u&&r(c)};i.forEach(function(y){y.whenStable(p)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?P().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let lr=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const uo=new h.OlP("EventManagerPlugins");let as=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let u=0;u<i.length;u++){const c=i[u];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(uo),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Ra{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=P().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Ii=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),zi=(()=>{class n extends Ii{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(u=>{const c=this._doc.createElement("style");c.textContent=u,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Go),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Go))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ue))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function Go(n){P().remove(n)}const pt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},qo=/%COMP%/g;function Me(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Me(n,i,t):(i=i.replace(qo,n),t.push(i))}return t}function kt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let hn=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new zo(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case h.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Pa(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case h.ifc.ShadowDom:return new zl(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Me(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(as),h.LFG(zi),h.LFG(h.AFp))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class zo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(pt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const u=pt[i];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=pt[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,r,i&h.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,kt(r)):this.eventManager.addEventListener(e,t,kt(r))}}class Pa extends zo{constructor(e,t,r,i){super(e),this.component=r;const u=Me(i+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function Gl(n){return"_ngcontent-%COMP%".replace(qo,n)}(i+"-"+r.id),this.hostAttr=function ql(n){return"_nghost-%COMP%".replace(qo,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class zl extends zo{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Me(i.id,i.styles,[]);for(let c=0;c<u.length;c++){const p=document.createElement("style");p.textContent=u[c],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let ig=(()=>{class n extends Ra{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ue))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Nu=["alt","control","meta","shift"],Ou={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Mn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},us={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Fa=(()=>{class n extends Ra{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const u=n.parseEventName(r),c=n.eventCallback(u.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(t,u.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const u=n._normalizeKey(r.pop());let c="";if(Nu.forEach(y=>{const b=r.indexOf(y);b>-1&&(r.splice(b,1),c+=y+".")}),c+=u,0!=r.length||0===u.length)return null;const p={};return p.domEventName=i,p.fullKey=c,p}static getEventFullKey(t){let r="",i=function Os(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Mn.hasOwnProperty(e)&&(e=Mn[e]))}return Ou[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Nu.forEach(u=>{u!=i&&us[u](t)&&(r+=u+".")}),r+=i,r}static eventCallback(t,r,i){return u=>{n.getEventFullKey(u)===t&&i.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ue))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const ku=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:oo},{provide:h.g9A,useValue:function Ti(){ao.makeCurrent(),qi.init()},multi:!0},{provide:ue,useFactory:function Pu(){return(0,h.RDi)(document),document},deps:[]}]),La=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function Wl(){return new h.qLn},deps:[]},{provide:uo,useClass:ig,multi:!0,deps:[ue,h.R0b,h.Lbi]},{provide:uo,useClass:Fa,multi:!0,deps:[ue]},{provide:hn,useClass:hn,deps:[as,zi,h.AFp]},{provide:h.FYo,useExisting:hn},{provide:Ii,useExisting:zi},{provide:zi,useClass:zi,deps:[ue]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b]},{provide:as,useClass:as,deps:[uo,h.R0b]},{provide:class on{},useClass:lr,deps:[]}];let Wo=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.AFp,useValue:t.appId},{provide:ur,useExisting:h.AFp},pn]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(n,12))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:La,imports:[Dr,h.hGG]}),n})();"undefined"!=typeof window&&window;var Cn=O(8996),ja=O(7669);function it(...n){const e=(0,ja.yG)(n);return(0,Cn.D)(n,e)}var Gr=O(7579);class ii extends Gr.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var xn=O(8306);const{isArray:Ql}=Array,{getPrototypeOf:pd,prototype:Zi,keys:Jl}=Object;function un(n){if(1===n.length){const e=n[0];if(Ql(e))return{args:e,keys:null};if(function $a(n){return n&&"object"==typeof n&&pd(n)===Zi}(e)){const t=Jl(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Ai=O(4671),Ot=O(4004);const{isArray:Bu}=Array;function Xl(n){return(0,Ot.U)(e=>function gd(n,e){return Bu(e)?n(...e):n(e)}(n,e))}function ec(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Rn=O(5403),Jo=O(9672);function cr(n,e,t){n?(0,Jo.f)(t,n,e):e()}var Si=O(576);function ks(n,e){const t=(0,Si.m)(n)?n:()=>n,r=i=>i.error(t());return new xn.y(e?i=>e.schedule(r,0,i):r)}const Fs=(0,O(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ta=O(8189);function na(...n){return function fo(){return(0,ta.J)(1)}()((0,Cn.D)(n,(0,ja.yG)(n)))}var po=O(8421);function ra(n){return new xn.y(e=>{(0,po.Xf)(n()).subscribe(e)})}var Ha=O(515),cs=O(727),dr=O(4482);function go(){return(0,dr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Rn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,u=t;t=null,i&&(!u||i===u)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Uu extends xn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,dr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new cs.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Rn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=cs.w0.EMPTY)}return e}refCount(){return go()(this)}}function Nn(n,e){return(0,dr.e)((t,r)=>{let i=null,u=0,c=!1;const p=()=>c&&!i&&r.complete();t.subscribe((0,Rn.x)(r,y=>{null==i||i.unsubscribe();let b=0;const S=u++;(0,po.Xf)(n(y,S)).subscribe(i=(0,Rn.x)(r,x=>r.next(e?e(y,x,S,b++):x),()=>{i=null,p()}))},()=>{c=!0,p()}))})}var Ls=O(5698);function Yi(...n){const e=(0,ja.yG)(n);return(0,dr.e)((t,r)=>{(e?na(n,t,e):na(n,t)).subscribe(r)})}function ds(n,e,t,r,i){return(u,c)=>{let p=t,y=e,b=0;u.subscribe((0,Rn.x)(c,S=>{const x=b++;y=p?n(y,S,x):(p=!0,S),r&&c.next(y)},i&&(()=>{p&&c.next(y),c.complete()})))}}function Qi(n,e){return(0,dr.e)(ds(n,e,arguments.length>=2,!0))}function qr(n,e){return(0,dr.e)((t,r)=>{let i=0;t.subscribe((0,Rn.x)(r,u=>n.call(e,u,i++)&&r.next(u)))})}function si(n){return(0,dr.e)((e,t)=>{let u,r=null,i=!1;r=e.subscribe((0,Rn.x)(t,void 0,void 0,c=>{u=(0,po.Xf)(n(c,si(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,u.subscribe(t))})}var gn=O(5577);function ju(n,e){return(0,Si.m)(e)?(0,gn.z)(n,e,1):(0,gn.z)(n,1)}function Ga(n){return n<=0?()=>Ha.E:(0,dr.e)((e,t)=>{let r=[];e.subscribe((0,Rn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function fn(n=ug){return(0,dr.e)((e,t)=>{let r=!1;e.subscribe((0,Rn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function ug(){return new Fs}function lg(n){return(0,dr.e)((e,t)=>{let r=!1;e.subscribe((0,Rn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function ia(n,e){const t=arguments.length>=2;return r=>r.pipe(n?qr((i,u)=>n(i,u,r)):Ai.y,(0,Ls.q)(1),t?lg(e):fn(()=>new Fs))}var zr=O(8505);class Vs{constructor(e,t){this.id=e,this.url=t}}class mo extends Vs{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class $u extends Vs{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class mn extends Vs{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class tc extends Vs{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class yo extends Vs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jy extends Vs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nc extends Vs{constructor(e,t,r,i,u){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class oi extends Vs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ai extends Vs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sa{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _o{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class vo{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oa{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Eo{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hs{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qa{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Pt="primary";class Hu{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Qn(n){return new Hu(n)}const za="ngNavigationCancelingError";function Bs(n){const e=Error("NavigationCancelingError: "+n);return e[za]=!0,e}function yd(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let u=0;u<r.length;u++){const c=r[u],p=n[u];if(c.startsWith(":"))i[c.substring(1)]=p;else if(c!==p.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Mi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let u=0;u<t.length;u++)if(i=t[u],!Gu(n[i],e[i]))return!1;return!0}function Gu(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,u)=>r[u]===i)}return n===e}function _d(n){return Array.prototype.concat.apply([],n)}function Ji(n){return n.length>0?n[n.length-1]:null}function ln(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function hr(n){return(0,h.CqO)(n)?n:(0,h.QGY)(n)?(0,Cn.D)(Promise.resolve(n)):it(n)}const aa={exact:function D(n,e,t){if(!ht(n.segments,e.segments)||!Y(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!D(n.children[r],e.children[r],t))return!1;return!0},subset:R},ua={exact:function vd(n,e){return Mi(n,e)},subset:function I(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Gu(n[t],e[t]))},ignored:()=>!0};function wo(n,e,t){return aa[t.paths](n.root,e.root,t.matrixParams)&&ua[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function R(n,e,t){return L(n,e,e.segments,t)}function L(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!ht(i,t)||e.hasChildren()||!Y(i,t,r))}if(n.segments.length===t.length){if(!ht(n.segments,t)||!Y(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!R(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(ht(n.segments,i)&&Y(n.segments,i,r)&&n.children[Pt])&&L(n.children[Pt],e,u,r)}}function Y(n,e,t){return e.every((r,i)=>ua[t](n[i].parameters,r.parameters))}class ne{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qn(this.queryParams)),this._queryParamMap}toString(){return Jn.serialize(this)}}class me{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ln(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fs(this)}}class Be{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Qn(this.parameters)),this._parameterMap}toString(){return Wu(this)}}function ht(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class It{}class Ir{parse(e){const t=new Gy(e);return new ne(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Wr(e.root,!0)}`,r=function hg(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${li(t)}=${li(i)}`).join("&"):`${li(t)}=${li(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function ci(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Jn=new Ir;function fs(n){return n.segments.map(e=>Wu(e)).join("/")}function Wr(n,e){if(!n.hasChildren())return fs(n);if(e){const t=n.children[Pt]?Wr(n.children[Pt],!1):"",r=[];return ln(n.children,(i,u)=>{u!==Pt&&r.push(`${u}:${Wr(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Ht(n,e){let t=[];return ln(n.children,(r,i)=>{i===Pt&&(t=t.concat(e(r,i)))}),ln(n.children,(r,i)=>{i!==Pt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Pt?[Wr(n.children[Pt],!1)]:[`${i}:${Wr(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Pt]?`${fs(n)}/${t[0]}`:`${fs(n)}/(${t.join("//")})`}}function ui(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function li(n){return ui(n).replace(/%3B/gi,";")}function qu(n){return ui(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zu(n){return decodeURIComponent(n)}function ic(n){return zu(n.replace(/\+/g,"%20"))}function Wu(n){return`${qu(n.path)}${function dg(n){return Object.keys(n).map(e=>`;${qu(e)}=${qu(n[e])}`).join("")}(n.parameters)}`}const Kh=/^[^\/()?;=#]+/;function bo(n){const e=n.match(Kh);return e?e[0]:""}const sc=/^[^=?&#]+/,fg=/^[^&#]+/;class Gy{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new me([],{}):new me([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Pt]=new me(e,t)),r}parseSegment(){const e=bo(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Be(zu(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=bo(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=bo(this.remaining);i&&(r=i,this.capture(r))}e[zu(t)]=zu(r)}parseQueryParam(e){const t=function Hy(n){const e=n.match(sc);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function pg(n){const e=n.match(fg);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=ic(t),u=ic(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(u)}else e[i]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=bo(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let u;r.indexOf(":")>-1?(u=r.substr(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Pt);const c=this.parseChildren();t[u]=1===Object.keys(c).length?c[Pt]:new me([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class gg{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Zh(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Zh(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Ku(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ku(e,this._root).map(t=>t.value)}}function Zh(n,e){if(n===e.value)return e;for(const t of e.children){const r=Zh(n,t);if(r)return r}return null}function Ku(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Ku(n,t);if(r.length)return r.unshift(e),r}return[]}class Co{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Do(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Ed extends gg{constructor(e,t){super(e),this.snapshot=t,bd(this,e)}toString(){return this.snapshot.toString()}}function Wa(n,e){const t=function qy(n,e){const c=new la([],{},{},"",{},Pt,e,null,n.root,-1,{});return new Yh("",new Co(c,[]))}(n,e),r=new ii([new Be("",{})]),i=new ii({}),u=new ii({}),c=new ii({}),p=new ii(""),y=new Zu(r,i,c,p,u,Pt,e,t.root);return y.snapshot=t.root,new Ed(new Co(y,[]),t)}class Zu{constructor(e,t,r,i,u,c,p,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=c,this.component=p,this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ot.U)(e=>Qn(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ot.U)(e=>Qn(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zy(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],u=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(u.component)break;r--}}return function wd(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class la{constructor(e,t,r,i,u,c,p,y,b,S,x){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=c,this.component=p,this.routeConfig=y,this._urlSegment=b,this._lastPathIndex=S,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Qn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Yh extends gg{constructor(e,t){super(t),this.url=e,bd(this,t)}toString(){return Qh(this._root)}}function bd(n,e){e.value._routerState=n,e.children.forEach(t=>bd(n,t))}function Qh(n){const e=n.children.length>0?` { ${n.children.map(Qh).join(", ")} } `:"";return`${n.value}${e}`}function Cd(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Mi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Mi(e.params,t.params)||n.params.next(t.params),function Us(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Mi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Mi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Jh(n,e){const t=Mi(n.params,e.params)&&function St(n,e){return ht(n,e)&&n.every((t,r)=>Mi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Jh(n.parent,e.parent))}function oc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Wy(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return oc(n,r,i);return oc(n,r)})}(n,e,t);return new Co(r,i)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const c=u.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(p=>oc(n,p)),c}}const r=function Ky(n){return new Zu(new ii(n.url),new ii(n.params),new ii(n.queryParams),new ii(n.fragment),new ii(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(u=>oc(n,u));return new Co(r,i)}}function js(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ac(n){return"object"==typeof n&&null!=n&&n.outlets}function Dd(n,e,t,r,i){let u={};if(r&&ln(r,(p,y)=>{u[y]=Array.isArray(p)?p.map(b=>`${b}`):`${p}`}),n===e)return new ne(t,u,i);const c=Zy(n,e,t);return new ne(c,u,i)}function Zy(n,e,t){const r={};return ln(n.children,(i,u)=>{r[u]=i===e?t:Zy(i,e,t)}),new me(n.segments,r)}class yg{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&js(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(ac);if(i&&i!==Ji(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Id{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function wg(n,e,t){if(n||(n=new me([],{})),0===n.segments.length&&n.hasChildren())return Td(n,e,t);const r=function SE(n,e,t){let r=0,i=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return u;const c=n.segments[i],p=t[r];if(ac(p))break;const y=`${p}`,b=r<t.length-1?t[r+1]:null;if(i>0&&void 0===y)break;if(y&&b&&"object"==typeof b&&void 0===b.outlets){if(!ps(y,b,c))return u;r+=2}else{if(!ps(y,{},c))return u;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new me(n.segments.slice(0,r.pathIndex),{});return u.children[Pt]=new me(n.segments.slice(r.pathIndex),n.children),Td(u,0,i)}return r.match&&0===i.length?new me(n.segments,{}):r.match&&!n.hasChildren()?bg(n,e,t):r.match?Td(n,0,i):bg(n,e,t)}function Td(n,e,t){if(0===t.length)return new me(n.segments,{});{const r=function Eg(n){return ac(n[0])?n[0].outlets:{[Pt]:n}}(t),i={};return ln(r,(u,c)=>{"string"==typeof u&&(u=[u]),null!==u&&(i[c]=wg(n.children[c],e,u))}),ln(n.children,(u,c)=>{void 0===r[c]&&(i[c]=u)}),new me(n.segments,i)}}function bg(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const u=t[i];if(ac(u)){const y=$s(u.outlets);return new me(r,y)}if(0===i&&js(t[0])){r.push(new Be(n.segments[e].path,Xh(t[0]))),i++;continue}const c=ac(u)?u.outlets[Pt]:`${u}`,p=i<t.length-1?t[i+1]:null;c&&p&&js(p)?(r.push(new Be(c,Xh(p))),i+=2):(r.push(new Be(c,{})),i++)}return new me(r,{})}function $s(n){const e={};return ln(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=bg(new me([],{}),0,t))}),e}function Xh(n){const e={};return ln(n,(t,r)=>e[r]=`${t}`),e}function ps(n,e,t){return n==t.path&&Mi(e,t.parameters)}class Cg{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Cd(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Do(t);e.children.forEach(u=>{const c=u.value.outlet;this.deactivateRoutes(u,i[c],r),delete i[c]}),ln(i,(u,c)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(i===u)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=Do(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],i);if(r&&r.outlet){const c=r.outlet.detach(),p=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:p})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=Do(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Do(t);e.children.forEach(u=>{this.activateRoutes(u,i[u.value.outlet],r),this.forwardEvent(new hs(u.value.snapshot))}),e.children.length&&this.forwardEvent(new oa(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(Cd(i),i===u)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const p=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(p.contexts),c.attachRef=p.componentRef,c.route=p.route.value,c.outlet&&c.outlet.attach(p.componentRef,p.route.value),Cd(p.route.value),this.activateChildRoutes(e,null,c.children)}else{const p=function Ad(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),y=p?p.module.componentFactoryResolver:null;c.attachRef=null,c.route=i,c.resolver=y,c.outlet&&c.outlet.activateWith(i,y),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class Sd{constructor(e,t){this.routes=e,this.module=t}}function Za(n){return"function"==typeof n}function Yu(n){return n instanceof ne}const Md=Symbol("INITIAL_VALUE");function Qu(){return Nn(n=>function Xo(...n){const e=(0,ja.yG)(n),t=(0,ja.jO)(n),{args:r,keys:i}=un(n);if(0===r.length)return(0,Cn.D)([],e);const u=new xn.y(function Ps(n,e,t=Ai.y){return r=>{cr(e,()=>{const{length:i}=n,u=new Array(i);let c=i,p=i;for(let y=0;y<i;y++)cr(e,()=>{const b=(0,Cn.D)(n[y],e);let S=!1;b.subscribe((0,Rn.x)(r,x=>{u[y]=x,S||(S=!0,p--),p||r.next(t(u.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>ec(i,c):Ai.y));return t?u.pipe(Xl(t)):u}(n.map(e=>e.pipe((0,Ls.q)(1),Yi(Md)))).pipe(Qi((e,t)=>{let r=!1;return t.reduce((i,u,c)=>i!==Md?i:(u===Md&&(r=!0),r||!1!==u&&c!==t.length-1&&!Yu(u)?i:u),e)},Md),qr(e=>e!==Md),(0,Ot.U)(e=>Yu(e)?e:!0===e),(0,Ls.q)(1)))}class Yy{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ju,this.attachRef=null}}class Ju{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Yy,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let lc=(()=>{class n{constructor(t,r,i,u,c){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.name=u||Pt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const c=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),p=this.parentContexts.getOrCreateContext(this.name).children,y=new Qy(t,p,this.location.injector);this.activated=this.location.createComponent(c,this.location.length,y),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Ju),h.Y36(h.s_b),h.Y36(h._Vd),h.$8M("name"),h.Y36(h.sBO))},n.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Qy{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Zu?this.route:e===Ju?this.childContexts:this.parent.get(e,t)}}let nf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&h._UZ(0,"router-outlet")},directives:[lc],encapsulation:2}),n})();function Ya(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];rf(r,sf(e,r))}}function rf(n,e){n.children&&Ya(n.children,e)}function sf(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function of(n){const e=n.children&&n.children.map(of),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Pt&&(t.component=nf),t}function Kt(n){return n.outlet||Pt}function Ig(n,e){const t=n.filter(r=>Kt(r)===e);return t.push(...n.filter(r=>Kt(r)!==e)),t}const Tg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Xu(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Tg):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const u=(e.matcher||yd)(t,n,e);if(!u)return Object.assign({},Tg);const c={};ln(u.posParams,(y,b)=>{c[b]=y.path});const p=u.consumed.length>0?Object.assign(Object.assign({},c),u.consumed[u.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:u.consumed,remainingSegments:t.slice(u.consumed.length),parameters:p,positionalParamSegments:null!==(r=u.posParams)&&void 0!==r?r:{}}}function el(n,e,t,r,i="corrected"){if(t.length>0&&function e_(n,e,t){return t.some(r=>Qa(n,e,r)&&Kt(r)!==Pt)}(n,t,r)){const c=new me(e,function Xy(n,e,t,r){const i={};i[Pt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&Kt(u)!==Pt){const c=new me([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[Kt(u)]=c}return i}(n,e,r,new me(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function t_(n,e,t){return t.some(r=>Qa(n,e,r))}(n,t,r)){const c=new me(n.segments,function Jy(n,e,t,r,i,u){const c={};for(const p of r)if(Qa(n,t,p)&&!i[Kt(p)]){const y=new me([],{});y._sourceSegment=n,y._segmentIndexShift="legacy"===u?n.segments.length:e.length,c[Kt(p)]=y}return Object.assign(Object.assign({},i),c)}(n,e,t,r,n.children,i));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const u=new me(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function Qa(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function n_(n,e,t,r){return!!(Kt(n)===r||r!==Pt&&Qa(e,t,n))&&("**"===n.path||Xu(e,n,t).matched)}function Ag(n,e,t){return 0===e.length&&!n.children[t]}class da{constructor(e){this.segmentGroup=e||null}}class Vr{constructor(e){this.urlTree=e}}function Ja(n){return ks(new da(n))}function af(n){return ks(new Vr(n))}class xd{constructor(e,t,r,i,u){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=u,this.allowRedirects=!0,this.ngModule=e.get(h.h0i)}apply(){const e=el(this.urlTree.root,[],[],this.config).segmentGroup,t=new me(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Pt).pipe((0,Ot.U)(u=>this.createUrlTree(cc(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(si(u=>{if(u instanceof Vr)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof da?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Pt).pipe((0,Ot.U)(i=>this.createUrlTree(cc(i),e.queryParams,e.fragment))).pipe(si(i=>{throw i instanceof da?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new me([],{[Pt]:e}):e;return new ne(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Ot.U)(u=>new me([],u))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const u of Object.keys(r.children))"primary"===u?i.unshift(u):i.push(u);return(0,Cn.D)(i).pipe(ju(u=>{const c=r.children[u],p=Ig(t,u);return this.expandSegmentGroup(e,p,c,u).pipe((0,Ot.U)(y=>({segment:y,outlet:u})))}),Qi((u,c)=>(u[c.outlet]=c.segment,u),{}),function Uy(n,e){const t=arguments.length>=2;return r=>r.pipe(n?qr((i,u)=>n(i,u,r)):Ai.y,Ga(1),t?lg(e):fn(()=>new Fs))}())}expandSegment(e,t,r,i,u,c){return(0,Cn.D)(r).pipe(ju(p=>this.expandSegmentAgainstRoute(e,t,r,p,i,u,c).pipe(si(b=>{if(b instanceof da)return it(null);throw b}))),ia(p=>!!p),si((p,y)=>{if(p instanceof Fs||"EmptyError"===p.name)return Ag(t,i,u)?it(new me([],{})):Ja(t);throw p}))}expandSegmentAgainstRoute(e,t,r,i,u,c,p){return n_(i,t,u,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,u,c):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c):Ja(t):Ja(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?af(u):this.lineralizeSegments(r,u).pipe((0,gn.z)(c=>{const p=new me(c,{});return this.expandSegment(e,p,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c){const{matched:p,consumedSegments:y,remainingSegments:b,positionalParamSegments:S}=Xu(t,i,u);if(!p)return Ja(t);const x=this.applyRedirectCommands(y,i.redirectTo,S);return i.redirectTo.startsWith("/")?af(x):this.lineralizeSegments(i,x).pipe((0,gn.z)(F=>this.expandSegment(e,t,r,F.concat(b),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,u){if("**"===r.path)return r.loadChildren?(r._loadedConfig?it(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Ot.U)(x=>(r._loadedConfig=x,new me(i,{})))):it(new me(i,{}));const{matched:c,consumedSegments:p,remainingSegments:y}=Xu(t,r,i);return c?this.getChildConfig(e,r,i).pipe((0,gn.z)(S=>{const x=S.module,F=S.routes,{segmentGroup:B,slicedSegments:q}=el(t,p,y,F),se=new me(B.segments,B.children);if(0===q.length&&se.hasChildren())return this.expandChildren(x,F,se).pipe((0,Ot.U)(He=>new me(p,He)));if(0===F.length&&0===q.length)return it(new me(p,{}));const De=Kt(r)===u;return this.expandSegment(x,se,F,q,De?Pt:u,!0).pipe((0,Ot.U)(et=>new me(p.concat(et.segments),et.children)))})):Ja(t)}getChildConfig(e,t,r){return t.children?it(new Sd(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?it(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,gn.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,Ot.U)(u=>(t._loadedConfig=u,u))):function fr(n){return ks(Bs(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):it(new Sd([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?it(i.map(c=>{const p=e.get(c);let y;if(function ef(n){return n&&Za(n.canLoad)}(p))y=p.canLoad(t,r);else{if(!Za(p))throw new Error("Invalid CanLoad guard");y=p(t,r)}return hr(y)})).pipe(Qu(),(0,zr.b)(c=>{if(!Yu(c))return;const p=Bs(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw p.url=c,p}),(0,Ot.U)(c=>!0===c)):it(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return it(r);if(i.numberOfChildren>1||!i.children[Pt])return ks(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[Pt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const u=this.createSegmentGroup(e,t.root,r,i);return new ne(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return ln(e,(i,u)=>{if("string"==typeof i&&i.startsWith(":")){const p=i.substring(1);r[u]=t[p]}else r[u]=i}),r}createSegmentGroup(e,t,r,i){const u=this.createSegments(e,t.segments,r,i);let c={};return ln(t.children,(p,y)=>{c[y]=this.createSegmentGroup(e,p,r,i)}),new me(u,c)}createSegments(e,t,r,i){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,i):this.findOrReturn(u,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function cc(n){const e={};for(const r of Object.keys(n.children)){const u=cc(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function r_(n){if(1===n.numberOfChildren&&n.children[Pt]){const e=n.children[Pt];return new me(n.segments.concat(e.segments),e.children)}return n}(new me(n.segments,e))}class di{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Io{constructor(e,t){this.component=e,this.route=t}}function Mg(n,e,t){const r=n._root;return eu(r,e?e._root:null,t,[r.value])}function tl(n,e,t){const r=function lf(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function eu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=Do(e);return n.children.forEach(c=>{(function Rg(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,c=e?e.value:null,p=t?t.getContext(n.value.outlet):null;if(c&&u.routeConfig===c.routeConfig){const y=function i_(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ht(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ht(n.url,e.url)||!Mi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Jh(n,e)||!Mi(n.queryParams,e.queryParams);default:return!Jh(n,e)}}(c,u,u.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new di(r)):(u.data=c.data,u._resolvedData=c._resolvedData),eu(n,e,u.component?p?p.children:null:t,r,i),y&&p&&p.outlet&&p.outlet.isActivated&&i.canDeactivateChecks.push(new Io(p.outlet.component,c))}else c&&hi(e,p,i),i.canActivateChecks.push(new di(r)),eu(n,null,u.component?p?p.children:null:t,r,i)})(c,u[c.value.outlet],t,r.concat([c.value]),i),delete u[c.value.outlet]}),ln(u,(c,p)=>hi(c,t.getContext(p),i)),i}function hi(n,e,t){const r=Do(n),i=n.value;ln(r,(u,c)=>{hi(u,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new Io(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Pg{}function Hs(n){return new xn.y(e=>e.error(n))}class kg{constructor(e,t,r,i,u,c){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=c}recognize(){const e=el(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Pt);if(null===t)return null;const r=new la([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Pt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Co(r,t),u=new Yh(this.url,i);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(e){const t=e.value,r=zy(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const u of Object.keys(t.children)){const c=t.children[u],p=Ig(e,u),y=this.processSegmentGroup(p,c,u);if(null===y)return null;r.push(...y)}const i=Lg(r);return function Fg(n){n.sort((e,t)=>e.value.outlet===Pt?-1:t.value.outlet===Pt?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const u of e){const c=this.processSegmentAgainstRoute(u,t,r,i);if(null!==c)return c}return Ag(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!n_(e,t,r,i))return null;let u,c=[],p=[];if("**"===e.path){const B=r.length>0?Ji(r).parameters:{};u=new la(r,B,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_(e),Kt(e),e.component,e,tu(t),gs(t)+r.length,f(e))}else{const B=Xu(t,e,r);if(!B.matched)return null;c=B.consumedSegments,p=B.remainingSegments,u=new la(c,B.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_(e),Kt(e),e.component,e,tu(t),gs(t)+c.length,f(e))}const y=function a_(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:b,slicedSegments:S}=el(t,c,p,y.filter(B=>void 0===B.redirectTo),this.relativeLinkResolution);if(0===S.length&&b.hasChildren()){const B=this.processChildren(y,b);return null===B?null:[new Co(u,B)]}if(0===y.length&&0===S.length)return[new Co(u,[])];const x=Kt(e)===i,F=this.processSegment(y,b,S,x?Pt:i);return null===F?null:[new Co(u,F)]}}function Nd(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Lg(n){const e=[],t=new Set;for(const r of n){if(!Nd(r)){e.push(r);continue}const i=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Lg(r.children);e.push(new Co(r.value,i))}return e.filter(r=>!t.has(r))}function tu(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function gs(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function _(n){return n.data||{}}function f(n){return n.resolve||{}}function K(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Ve(n){return Nn(e=>{const t=n(e);return t?(0,Cn.D)(t).pipe((0,Ot.U)(()=>e)):it(e)})}class dt extends class _t{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Dn=new h.OlP("ROUTES");class pi{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,Ot.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t);const c=u.create(e);return new Sd(_d(c.injector.get(Dn,void 0,h.XFs.Self|h.XFs.Optional)).map(of),c)}),si(u=>{throw t._loader$=void 0,u}));return t._loader$=new Uu(i,()=>new Gr.x).pipe(go()),t._loader$}loadModuleFactory(e){return hr(e()).pipe((0,gn.z)(t=>t instanceof h.YKP?it(t):(0,Cn.D)(this.compiler.compileModuleAsync(t))))}}class u_{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function ha(n){throw n}function Od(n,e,t){return e.parse("/")}function Pd(n,e){return it(null)}const hf={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kd={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let gi=(()=>{class n{constructor(t,r,i,u,c,p,y){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=u,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Gr.x,this.errorHandler=ha,this.malformedUriErrorHandler=Od,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Pd,afterPreactivation:Pd},this.urlHandlingStrategy=new u_,this.routeReuseStrategy=new dt,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=c.get(h.h0i),this.console=c.get(h.c2e);const x=c.get(h.R0b);this.isNgZoneEnabled=x instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=function $y(){return new ne(new me([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new pi(c,p,F=>this.triggerEvent(new sa(F)),F=>this.triggerEvent(new _o(F))),this.routerState=Wa(this.currentUrlTree,this.rootComponentType),this.transitions=new ii({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(qr(i=>0!==i.id),(0,Ot.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Nn(i=>{let u=!1,c=!1;return it(i).pipe((0,zr.b)(p=>{this.currentNavigation={id:p.id,initialUrl:p.currentRawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Nn(p=>{const y=this.browserUrlTree.toString(),b=!this.navigated||p.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return pf(p.source)&&(this.browserUrlTree=p.extractedUrl),it(p).pipe(Nn(x=>{const F=this.transitions.getValue();return r.next(new mo(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),F!==this.transitions.getValue()?Ha.E:Promise.resolve(x)}),function Sg(n,e,t,r){return Nn(i=>function Xa(n,e,t,r,i){return new xd(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Ot.U)(u=>Object.assign(Object.assign({},i),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,zr.b)(x=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:x.urlAfterRedirects})}),function m(n,e,t,r,i){return(0,gn.z)(u=>function dc(n,e,t,r,i="emptyOnly",u="legacy"){try{const c=new kg(n,e,t,r,i,u).recognize();return null===c?Hs(new Pg):it(c)}catch(c){return Hs(c)}}(n,e,u.urlAfterRedirects,t(u.urlAfterRedirects),r,i).pipe((0,Ot.U)(c=>Object.assign(Object.assign({},u),{targetSnapshot:c}))))}(this.rootComponentType,this.config,x=>this.serializeUrl(x),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,zr.b)(x=>{if("eager"===this.urlUpdateStrategy){if(!x.extras.skipLocationChange){const B=this.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);this.setBrowserUrl(B,x)}this.browserUrlTree=x.urlAfterRedirects}const F=new yo(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);r.next(F)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:F,extractedUrl:B,source:q,restoredState:se,extras:De}=p,Qe=new mo(F,this.serializeUrl(B),q,se);r.next(Qe);const et=Wa(B,this.rootComponentType).snapshot;return it(Object.assign(Object.assign({},p),{targetSnapshot:et,urlAfterRedirects:B,extras:Object.assign(Object.assign({},De),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=p.rawUrl,p.resolve(null),Ha.E}),Ve(p=>{const{targetSnapshot:y,id:b,extractedUrl:S,rawUrl:x,extras:{skipLocationChange:F,replaceUrl:B}}=p;return this.hooks.beforePreactivation(y,{navigationId:b,appliedUrlTree:S,rawUrlTree:x,skipLocationChange:!!F,replaceUrl:!!B})}),(0,zr.b)(p=>{const y=new jy(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(y)}),(0,Ot.U)(p=>Object.assign(Object.assign({},p),{guards:Mg(p.targetSnapshot,p.currentSnapshot,this.rootContexts)})),function Ng(n,e){return(0,gn.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:u,canDeactivateChecks:c}}=t;return 0===c.length&&0===u.length?it(Object.assign(Object.assign({},t),{guardsResult:!0})):function s_(n,e,t,r){return(0,Cn.D)(n).pipe((0,gn.z)(i=>function df(n,e,t,r,i){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?it(u.map(p=>{const y=tl(p,e,i);let b;if(function ME(n){return n&&Za(n.canDeactivate)}(y))b=hr(y.canDeactivate(n,e,t,r));else{if(!Za(y))throw new Error("Invalid CanDeactivate guard");b=hr(y(n,e,t,r))}return b.pipe(ia())})).pipe(Qu()):it(!0)}(i.component,i.route,t,e,r)),ia(i=>!0!==i,!0))}(c,r,i,n).pipe((0,gn.z)(p=>p&&function Dg(n){return"boolean"==typeof n}(p)?function Rd(n,e,t,r){return(0,Cn.D)(e).pipe(ju(i=>na(function Og(n,e){return null!==n&&e&&e(new vo(n)),it(!0)}(i.route.parent,r),function o_(n,e){return null!==n&&e&&e(new Eo(n)),it(!0)}(i.route,r),function cf(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(c=>function xg(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>ra(()=>it(c.guards.map(y=>{const b=tl(y,c.node,t);let S;if(function tf(n){return n&&Za(n.canActivateChild)}(b))S=hr(b.canActivateChild(r,n));else{if(!Za(b))throw new Error("Invalid CanActivateChild guard");S=hr(b(r,n))}return S.pipe(ia())})).pipe(Qu())));return it(u).pipe(Qu())}(n,i.path,t),function fi(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return it(!0);const i=r.map(u=>ra(()=>{const c=tl(u,e,t);let p;if(function uc(n){return n&&Za(n.canActivate)}(c))p=hr(c.canActivate(e,n));else{if(!Za(c))throw new Error("Invalid CanActivate guard");p=hr(c(e,n))}return p.pipe(ia())}));return it(i).pipe(Qu())}(n,i.route,t))),ia(i=>!0!==i,!0))}(r,u,n,e):it(p)),(0,Ot.U)(p=>Object.assign(Object.assign({},t),{guardsResult:p})))})}(this.ngModule.injector,p=>this.triggerEvent(p)),(0,zr.b)(p=>{if(Yu(p.guardsResult)){const b=Bs(`Redirecting to "${this.serializeUrl(p.guardsResult)}"`);throw b.url=p.guardsResult,b}const y=new nc(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.triggerEvent(y)}),qr(p=>!!p.guardsResult||(this.restoreHistory(p),this.cancelNavigationTransition(p,""),!1)),Ve(p=>{if(p.guards.canActivateChecks.length)return it(p).pipe((0,zr.b)(y=>{const b=new oi(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(b)}),Nn(y=>{let b=!1;return it(y).pipe(function E(n,e){return(0,gn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return it(t);let u=0;return(0,Cn.D)(i).pipe(ju(c=>function T(n,e,t,r){return function N(n,e,t,r){const i=K(n);if(0===i.length)return it({});const u={};return(0,Cn.D)(i).pipe((0,gn.z)(c=>function pe(n,e,t,r){const i=tl(n,e,r);return hr(i.resolve?i.resolve(e,t):i(e,t))}(n[c],e,t,r).pipe((0,zr.b)(p=>{u[c]=p}))),Ga(1),(0,gn.z)(()=>K(u).length===i.length?it(u):Ha.E))}(n._resolve,n,e,r).pipe((0,Ot.U)(u=>(n._resolvedData=u,n.data=Object.assign(Object.assign({},n.data),zy(n,t).resolve),null)))}(c.route,r,n,e)),(0,zr.b)(()=>u++),Ga(1),(0,gn.z)(c=>u===i.length?it(t):Ha.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,zr.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(y),this.cancelNavigationTransition(y,"At least one route resolver didn't emit any value."))}}))}),(0,zr.b)(y=>{const b=new ai(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(b)}))}),Ve(p=>{const{targetSnapshot:y,id:b,extractedUrl:S,rawUrl:x,extras:{skipLocationChange:F,replaceUrl:B}}=p;return this.hooks.afterPreactivation(y,{navigationId:b,appliedUrlTree:S,rawUrlTree:x,skipLocationChange:!!F,replaceUrl:!!B})}),(0,Ot.U)(p=>{const y=function mg(n,e,t){const r=oc(n,e._root,t?t._root:void 0);return new Ed(r,e)}(this.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return Object.assign(Object.assign({},p),{targetRouterState:y})}),(0,zr.b)(p=>{this.currentUrlTree=p.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl),this.routerState=p.targetRouterState,"deferred"===this.urlUpdateStrategy&&(p.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,p),this.browserUrlTree=p.urlAfterRedirects)}),((n,e,t)=>(0,Ot.U)(r=>(new Cg(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,p=>this.triggerEvent(p)),(0,zr.b)({next(){u=!0},complete(){u=!0}}),function md(n){return(0,dr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var p;u||c||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(p=this.currentNavigation)||void 0===p?void 0:p.id)===i.id&&(this.currentNavigation=null)}),si(p=>{if(c=!0,function cg(n){return n&&n[za]}(p)){const y=Yu(p.url);y||(this.navigated=!0,this.restoreHistory(i,!0));const b=new mn(i.id,this.serializeUrl(i.extractedUrl),p.message);r.next(b),y?setTimeout(()=>{const S=this.urlHandlingStrategy.merge(p.url,this.rawUrlTree),x={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||pf(i.source)};this.scheduleNavigation(S,"imperative",null,x,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const y=new tc(i.id,this.serializeUrl(i.extractedUrl),p);r.next(y);try{i.resolve(this.errorHandler(p))}catch(b){i.reject(b)}}return Ha.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const u={replaceUrl:!0},c=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(c){const y=Object.assign({},c);delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(u.state=y)}const p=this.parseUrl(t.url);this.scheduleNavigation(p,r,c,u)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Ya(t),this.config=t.map(of),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:u,fragment:c,queryParamsHandling:p,preserveFragment:y}=r,b=i||this.routerState.root,S=y?this.currentUrlTree.fragment:c;let x=null;switch(p){case"merge":x=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=u||null}return null!==x&&(x=this.removeEmptyProps(x)),function ca(n,e,t,r,i){if(0===t.length)return Dd(e.root,e.root,e.root,r,i);const u=function AE(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new yg(!0,0,n);let e=0,t=!1;const r=n.reduce((i,u,c)=>{if("object"==typeof u&&null!=u){if(u.outlets){const p={};return ln(u.outlets,(y,b)=>{p[b]="string"==typeof y?y.split("/"):y}),[...i,{outlets:p}]}if(u.segmentPath)return[...i,u.segmentPath]}return"string"!=typeof u?[...i,u]:0===c?(u.split("/").forEach((p,y)=>{0==y&&"."===p||(0==y&&""===p?t=!0:".."===p?e++:""!=p&&i.push(p))}),i):[...i,u]},[]);return new yg(t,e,r)}(t);if(u.toRoot())return Dd(e.root,e.root,new me([],{}),r,i);const c=function _g(n,e,t){if(n.isAbsolute)return new Id(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const u=t.snapshot._urlSegment;return new Id(u,u===e.root,0)}const r=js(n.commands[0])?0:1;return function vg(n,e,t){let r=n,i=e,u=t;for(;u>i;){if(u-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Id(r,!1,i-u)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(u,e,n),p=c.processChildren?Td(c.segmentGroup,c.index,u.commands):wg(c.segmentGroup,c.index,u.commands);return Dd(e.root,c.segmentGroup,p,r,i)}(b,this.currentUrlTree,t,x,null!=S?S:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Yu(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function ff(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},hf):!1===r?Object.assign({},kd):r,Yu(t))return wo(this.currentUrlTree,t,i);const u=this.parseUrl(t);return wo(this.currentUrlTree,u,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const u=t[i];return null!=u&&(r[i]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new $u(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,u,c){var p,y;if(this.disposed)return Promise.resolve(!1);let b,S,x;c?(b=c.resolve,S=c.reject,x=c.promise):x=new Promise((q,se)=>{b=q,S=se});const F=++this.navigationId;let B;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),B=i&&i.\u0275routerPageId?i.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(p=this.browserPageId)&&void 0!==p?p:0:(null!==(y=this.browserPageId)&&void 0!==y?y:0)+1):B=0,this.setTransition({id:F,targetPageId:B,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:b,reject:S,promise:x,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),x.catch(q=>Promise.reject(q))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),u=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",u):this.location.go(i,"",u)}restoreHistory(t,r=!1){var i,u;if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===c?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===c&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new mn(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function pf(n){return"imperative"!==n}let Fd=(()=>{class n{constructor(t,r,i,u,c){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=u,this.el=c,this.commands=null,this.onChanges=new Gr.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:nl(this.skipLocationChange),replaceUrl:nl(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:nl(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(gi),h.Y36(Zu),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&h.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[h.TTD]}),n})();function nl(n){return""===n||!!n}class c_{}class NE{preload(e,t){return it(null)}}let OE=(()=>{class n{constructor(t,r,i,u){this.router=t,this.injector=i,this.preloadingStrategy=u,this.loader=new pi(i,r,y=>t.triggerEvent(new sa(y)),y=>t.triggerEvent(new _o(y)))}setUpPreloading(){this.subscription=this.router.events.pipe(qr(t=>t instanceof $u),ju(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(h.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const u of r)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const c=u._loadedConfig;i.push(this.processRoutes(c.module,c.routes))}else u.loadChildren&&!u.canLoad?i.push(this.preloadConfig(t,u)):u.children&&i.push(this.processRoutes(t,u.children));return(0,Cn.D)(i).pipe((0,ta.J)(),(0,Ot.U)(u=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?it(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,gn.z)(u=>(r._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(gi),h.LFG(h.Sil),h.LFG(h.zs3),h.LFG(c_))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Vg=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof mo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof $u&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof qa&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new qa(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const ms=new h.OlP("ROUTER_CONFIGURATION"),h_=new h.OlP("ROUTER_FORROOT_GUARD"),PE=[Ee,{provide:It,useClass:Ir},{provide:gi,useFactory:function p_(n,e,t,r,i,u,c={},p,y){const b=new gi(null,n,e,t,r,i,_d(u));return p&&(b.urlHandlingStrategy=p),y&&(b.routeReuseStrategy=y),function LE(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,b),c.enableTracing&&b.events.subscribe(S=>{var x,F;null===(x=console.group)||void 0===x||x.call(console,`Router Event: ${S.constructor.name}`),console.log(S.toString()),console.log(S),null===(F=console.groupEnd)||void 0===F||F.call(console)}),b},deps:[It,Ju,Ee,h.zs3,h.Sil,Dn,ms,[class hc{},new h.FiY],[class Ye{},new h.FiY]]},Ju,{provide:Zu,useFactory:function Bg(n){return n.routerState.root},deps:[gi]},OE,NE,class d_{preload(e,t){return t().pipe(si(()=>it(null)))}},{provide:ms,useValue:{enableTracing:!1}}];function UD(){return new h.PXZ("Router",gi)}let Xi=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[PE,f_(t),{provide:h_,useFactory:FE,deps:[[gi,new h.FiY,new h.tp0]]},{provide:ms,useValue:r||{}},{provide:fe,useFactory:kE,deps:[oe,[new h.tBr(ze),new h.FiY],ms]},{provide:Vg,useFactory:jD,deps:[gi,Ul,ms]},{provide:c_,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:NE},{provide:h.PXZ,multi:!0,useFactory:UD},[Ld,{provide:h.ip1,multi:!0,useFactory:VE,deps:[Ld]},{provide:m_,useFactory:g_,deps:[Ld]},{provide:h.tb,multi:!0,useExisting:m_}]]}}static forChild(t){return{ngModule:n,providers:[f_(t)]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h_,8),h.LFG(gi,8))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();function jD(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Vg(n,e,t)}function kE(n,e,t={}){return t.useHash?new Se(n,e):new Je(n,e)}function FE(n){return"guarded"}function f_(n){return[{provide:h.deG,multi:!0,useValue:n},{provide:Dn,multi:!0,useValue:n}]}let Ld=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Gr.x}appInitializer(){return this.injector.get(H,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(p=>r=p),u=this.injector.get(gi),c=this.injector.get(ms);return"disabled"===c.initialNavigation?(u.setUpLocationChangeListener(),r(!0)):"enabled"===c.initialNavigation||"enabledBlocking"===c.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?it(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),u.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(ms),i=this.injector.get(OE),u=this.injector.get(Vg),c=this.injector.get(gi),p=this.injector.get(h.z2F);t===p.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&c.initialNavigation(),i.setUpPreloading(),u.init(),c.resetRootComponentType(p.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.zs3))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function VE(n){return n.appInitializer.bind(n)}function g_(n){return n.bootstrapListener.bind(n)}const m_=new h.OlP("Router Initializer"),BE=new h.OlP("GETS_ALL_PRODUCT_DTO"),__=new h.OlP("ADDS_CART_DTO"),jg=new h.OlP("CONTEXT_DTO_STORAGE"),$D=function(n){return[n]};function UE(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div",5)(1,"img",6),h.NdJ("click",function(){const u=h.CHM(t).$implicit;return h.oxw().onItemOnpictureclickeded(u)}),h.qZA(),h.TgZ(2,"p",7),h._uU(3),h.qZA(),h.TgZ(4,"p",0),h._uU(5),h.qZA(),h.TgZ(6,"button",8),h.NdJ("click",function(){const u=h.CHM(t).$implicit;return h.oxw().onItemClicked(u)}),h._uU(7,"Add to cart"),h.qZA()()}if(2&n){const t=e.$implicit;h.xp6(1),h.Q6J("routerLink","/product-detail/"+t.id)("src",h.VKq(4,$D,t.imageUrl),h.LSH),h.xp6(2),h.Oqu(t.name),h.xp6(2),h.hij("$ ",t.price,"")}}let v_=(()=>{class n{constructor(t,r,i){this._getsAllProductDto=t,this._addsCartDto=r,this._contextDtoStorage=i,this.product$=this._getsAllProductDto.getAll()}onItemClicked(t){console.log(t),this._addsCartDto.add({name:t.name,imageUrl:t.imageUrl,desc:t.desc||"",price:t.price})}onItemOnpictureclickeded(t){this._contextDtoStorage.next({productId:t.id})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(BE),h.Y36(__),h.Y36(jg))},n.\u0275cmp=h.Xpm({type:n,selectors:[["lib-product-list"]],decls:10,vars:3,consts:[[1,"text-center"],[1,"container","py-5"],[1,"row"],[1,"card-group"],["class","card ms-5",4,"ngFor","ngForOf"],[1,"card","ms-5"],["alt","...",1,"card-img-top",2,"height","484px",3,"routerLink","src","click"],[1,"text-center",2,"font-weight","bold"],[3,"click"]],template:function(t,r){1&t&&(h.TgZ(0,"h1",0),h._uU(1,"Discover our products!"),h.qZA(),h.TgZ(2,"h5",0),h._uU(3,"Recently added clothes"),h.qZA(),h.TgZ(4,"div",1)(5,"div",2)(6,"div",3),h.YNc(7,UE,8,6,"div",4),h.ALo(8,"async"),h.qZA()()(),h._uU(9," asdsad\n")),2&t&&(h.xp6(7),h.Q6J("ngForOf",h.lcZ(8,1,r.product$)))},directives:[Fn,Fd],pipes:[Fl],encapsulation:2,changeDetection:0}),n})(),jE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-home-page"]],decls:1,vars:0,template:function(t,r){1&t&&h._UZ(0,"lib-product-list")},directives:[v_],encapsulation:2,changeDetection:0}),n})(),LS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[],imports:[[Dr,Xi]]}),n})();var $E=O(4986),Kr=O(5813);function $g(){return(0,dr.e)((n,e)=>{let t,r=!1;n.subscribe((0,Rn.x)(e,i=>{const u=t;t=i,r&&e.next([u,i]),r=!0}))})}function GD(n,e){return n===e}var st,Xn=O(2011),HE=(O(7092),O(3942)),be=O(5861),pc=O(9681),Hg=O(4859),rl=O(1877),$t=O(2090),qD="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},nu={},Rt=Rt||{},Nt=qD||self;function gf(){}function Gg(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function il(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var qg="closure_uid_"+(1e9*Math.random()>>>0),zD=0;function E_(n,e,t){return n.call.apply(n.bind,arguments)}function ru(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Tr(n,e,t){return(Tr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?E_:ru).apply(null,arguments)}function mf(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ar(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,u){for(var c=Array(arguments.length-2),p=2;p<arguments.length;p++)c[p-2]=arguments[p];return e.prototype[i].apply(r,c)}}function gc(){this.s=this.s,this.o=this.o}var BS={};gc.prototype.s=!1,gc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function To(n){return Object.prototype.hasOwnProperty.call(n,qg)&&n[qg]||(n[qg]=++zD)}(this);delete BS[n]}},gc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const yf=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},_f=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let u=0;u<r;u++)u in i&&e.call(t,i[u],u,n)};function zg(n){return Array.prototype.concat.apply([],arguments)}function vf(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function b_(n){return/^[\s\xa0]*$/.test(n)}var Ri,qE=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function xi(n,e){return-1!=n.indexOf(e)}function C_(n,e){return n<e?-1:n>e?1:0}e:{var D_=Nt.navigator;if(D_){var WD=D_.userAgent;if(WD){Ri=WD;break e}}Ri=""}function I_(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function KD(n){const e={};for(const t in n)e[t]=n[t];return e}var T_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A_(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let u=0;u<T_.length;u++)t=T_[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function S_(n){return S_[" "](n),n}S_[" "]=gf;var x_,n,US=xi(Ri,"Opera"),Ef=xi(Ri,"Trident")||xi(Ri,"MSIE"),ZD=xi(Ri,"Edge"),zE=ZD||Ef,YD=xi(Ri,"Gecko")&&!(xi(Ri.toLowerCase(),"webkit")&&!xi(Ri,"Edge"))&&!(xi(Ri,"Trident")||xi(Ri,"MSIE"))&&!xi(Ri,"Edge"),jS=xi(Ri.toLowerCase(),"webkit")&&!xi(Ri,"Edge");function QD(){var n=Nt.document;return n?n.documentMode:void 0}e:{var WE="",KE=(n=Ri,YD?/rv:([^\);]+)(\)|;)/.exec(n):ZD?/Edge\/([\d\.]+)/.exec(n):Ef?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):jS?/WebKit\/(\S+)/.exec(n):US?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(KE&&(WE=KE?KE[1]:""),Ef){var fa=QD();if(null!=fa&&fa>parseFloat(WE)){x_=String(fa);break e}}x_=WE}var R_={};var ZE=Nt.document&&Ef&&(QD()||parseInt(x_,10))||void 0,N_=function(){if(!Nt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Nt.addEventListener("test",gf,e),Nt.removeEventListener("test",gf,e)}catch(t){}return n}();function mi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Gs(n,e){if(mi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(YD){e:{try{S_(e.nodeName);var i=!0;break e}catch(u){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:YE[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Gs.Z.h.call(this)}}mi.prototype.h=function(){this.defaultPrevented=!0},Ar(Gs,mi);var YE={2:"touch",3:"pen",4:"mouse"};Gs.prototype.h=function(){Gs.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var wf="closure_listenable_"+(1e6*Math.random()|0),O_=0;function XD(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++O_,this.ca=this.fa=!1}function bf(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Zg(n){this.src=n,this.g={},this.h=0}function P_(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],i=yf(r,e);(u=0<=i)&&Array.prototype.splice.call(r,i,1),u&&(bf(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function mc(n,e,t,r){for(var i=0;i<n.length;++i){var u=n[i];if(!u.ca&&u.listener==e&&u.capture==!!t&&u.ia==r)return i}return-1}Zg.prototype.add=function(n,e,t,r,i){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var c=mc(n,e,r,i);return-1<c?(e=n[c],t||(e.fa=!1)):((e=new XD(e,this.src,u,!!r,i)).fa=t,n.push(e)),e};var sl="closure_lm_"+(1e6*Math.random()|0),Cf={};function yc(n,e,t,r,i){if(r&&r.once)return QE(n,e,t,r,i);if(Array.isArray(e)){for(var u=0;u<e.length;u++)yc(n,e[u],t,r,i);return null}return t=L_(t),n&&n[wf]?n.N(e,t,il(r)?!!r.capture:!!r,i):Vd(n,e,t,!1,r,i)}function Vd(n,e,t,r,i,u){if(!e)throw Error("Invalid event type");var c=il(i)?!!i.capture:!!i,p=Jg(n);if(p||(n[sl]=p=new Zg(n)),(t=p.add(e,t,r,c,u)).proxy)return t;if(r=function Bd(){var e=F_;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)N_||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Qg(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function QE(n,e,t,r,i){if(Array.isArray(e)){for(var u=0;u<e.length;u++)QE(n,e[u],t,r,i);return null}return t=L_(t),n&&n[wf]?n.O(e,t,il(r)?!!r.capture:!!r,i):Vd(n,e,t,!0,r,i)}function k_(n,e,t,r,i){if(Array.isArray(e))for(var u=0;u<e.length;u++)k_(n,e[u],t,r,i);else r=il(r)?!!r.capture:!!r,t=L_(t),n&&n[wf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=mc(u=n.g[e],t,r,i))&&(bf(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=Jg(n))&&(e=n.g[e.toString()],n=-1,e&&(n=mc(e,t,r,i)),(t=-1<n?e[n]:null)&&Yg(t))}function Yg(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[wf])P_(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Qg(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Jg(e))?(P_(t,n),0==t.h&&(t.src=null,e[sl]=null)):bf(n)}}}function Qg(n){return n in Cf?Cf[n]:Cf[n]="on"+n}function F_(n,e){if(n.ca)n=!0;else{e=new Gs(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Yg(n),n=t.call(r,e)}return n}function Jg(n){return(n=n[sl])instanceof Zg?n:null}var Ud="__closure_events_fn_"+(1e9*Math.random()>>>0);function L_(n){return"function"==typeof n?n:(n[Ud]||(n[Ud]=function(e){return n.handleEvent(e)}),n[Ud])}function Sr(){gc.call(this),this.i=new Zg(this),this.P=this,this.I=null}function yi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new mi(e,n);else if(e instanceof mi)e.target=e.target||n;else{var i=e;A_(e=new mi(r,n),i)}if(i=!0,t)for(var u=t.length-1;0<=u;u--){var c=e.g=t[u];i=Df(c,r,!0,e)&&i}if(i=Df(c=e.g=n,r,!0,e)&&i,i=Df(c,r,!1,e)&&i,t)for(u=0;u<t.length;u++)i=Df(c=e.g=t[u],r,!1,e)&&i}function Df(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,u=0;u<e.length;++u){var c=e[u];if(c&&!c.ca&&c.capture==t){var p=c.listener,y=c.ia||c.src;c.fa&&P_(n.i,c),i=!1!==p.call(y,r)&&i}}return i&&!r.defaultPrevented}Ar(Sr,gc),Sr.prototype[wf]=!0,Sr.prototype.removeEventListener=function(n,e,t,r){k_(this,n,e,t,r)},Sr.prototype.M=function(){if(Sr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)bf(t[r]);delete n.g[e],n.h--}}this.I=null},Sr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Sr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Xg=Nt.JSON.stringify;function eI(){var n=U_;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var B_,XE=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new tI,n=>n.reset());class tI{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ys(n){Nt.setTimeout(()=>{throw n},0)}function V_(n,e){B_||function $S(){var n=Nt.Promise.resolve(void 0);B_=function(){n.then(HS)}}(),ew||(B_(),ew=!0),U_.add(n,e)}var ew=!1,U_=new class JE{constructor(){this.h=this.g=null}add(e,t){const r=XE.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function HS(){for(var n;n=eI();){try{n.h.call(n.g)}catch(t){ys(t)}var e=XE;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}ew=!1}function em(n,e){Sr.call(this),this.h=n||1,this.g=e||Nt,this.j=Tr(this.kb,this),this.l=Date.now()}function If(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function tm(n,e,t){if("function"==typeof n)t&&(n=Tr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Tr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Nt.setTimeout(n,e||0)}function tw(n){n.g=tm(()=>{n.g=null,n.i&&(n.i=!1,tw(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ar(em,Sr),(st=em.prototype).da=!1,st.S=null,st.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),yi(this,"tick"),this.da&&(If(this),this.start()))}},st.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},st.M=function(){em.Z.M.call(this),If(this),delete this.g};class nI extends gc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:tw(this)}M(){super.M(),this.g&&(Nt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tf(n){gc.call(this),this.h=n,this.g={}}Ar(Tf,gc);var j_=[];function nw(n,e,t,r){Array.isArray(t)||(t&&(j_[0]=t.toString()),t=j_);for(var i=0;i<t.length;i++){var u=yc(e,t[i],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function $_(n){I_(n.g,function(e,t){this.g.hasOwnProperty(t)&&Yg(e)},n),n.g={}}function nm(){this.g=!0}function _c(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function pa(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var u=i[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var c=1;c<i.length;c++)i[c]=""}}}return Xg(t)}catch(p){return e}}(n,t)+(r?" "+r:"")})}Tf.prototype.M=function(){Tf.Z.M.call(this),$_(this)},Tf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},nm.prototype.Aa=function(){this.g=!1},nm.prototype.info=function(){};var iu={},iw=null;function rm(){return iw=iw||new Sr}function sI(n){mi.call(this,iu.Ma,n)}function jd(n){const e=rm();yi(e,new sI(e,n))}function sw(n,e){mi.call(this,iu.STAT_EVENT,n),this.stat=e}function Ni(n){const e=rm();yi(e,new sw(e,n))}function ow(n,e){mi.call(this,iu.Na,n),this.size=e}function vc(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Nt.setTimeout(function(){n()},e)}iu.Ma="serverreachability",Ar(sI,mi),iu.STAT_EVENT="statevent",Ar(sw,mi),iu.Na="timingevent",Ar(ow,mi);var im={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},aw={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function $d(){}function uw(){}$d.prototype.h=null;var H_,Ec={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Af(){mi.call(this,"d")}function om(){mi.call(this,"c")}function am(){}function wc(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Tf(this),this.P=aI,this.W=new em(n=zE?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new oI}function oI(){this.i=null,this.g="",this.h=!1}Ar(Af,mi),Ar(om,mi),Ar(am,$d),am.prototype.g=function(){return new XMLHttpRequest},am.prototype.i=function(){return{}},H_=new am;var aI=45e3,um={},Sf={};function lm(n,e,t){n.K=1,n.v=fm(ou(e)),n.s=t,n.U=!0,G_(n,null)}function G_(n,e){n.F=Date.now(),Mf(n),n.A=ou(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),gw(t.h,"t",r),n.C=0,t=n.l.H,n.h=new oI,n.g=ov(n.l,t?e:null,!n.s),0<n.O&&(n.L=new nI(Tr(n.Ia,n,n.g),n.O)),nw(n.V,n.g,"readystatechange",n.gb),e=n.H?KD(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),jd(1),function rI(n,e,t,r,i,u){n.info(function(){if(n.g)if(u)for(var c="",p=u.split("&"),y=0;y<p.length;y++){var b=p[y].split("=");if(1<b.length){var S=b[0];b=b[1];var x=S.split("_");c=2<=x.length&&"type"==x[1]?c+(S+"=")+b+"&":c+(S+"=redacted&")}}else c=null;else c=u;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function q_(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function ga(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=cm(n,t),i==Sf){4==e&&(n.o=4,Ni(14),r=!1),_c(n.j,n.m,null,"[Incomplete Response]");break}if(i==um){n.o=4,Ni(15),_c(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}_c(n.j,n.m,i,null),xf(n,i)}q_(n)&&i!=Sf&&i!=um&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ni(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),dl(e),e.L=!0,Ni(11))):(_c(n.j,n.m,t,"[Invalid Chunked Response]"),ol(n),bc(n))}function cm(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Sf:(t=Number(e.substring(t,r)),isNaN(t)?um:(r+=1)+t>e.length?Sf:(e=e.substr(r,t),n.C=r+t,e))}function Mf(n){n.Y=Date.now()+n.P,lw(n,n.P)}function lw(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=vc(Tr(n.eb,n),e)}function z_(n){n.B&&(Nt.clearTimeout(n.B),n.B=null)}function bc(n){0==n.l.G||n.I||nv(n.l,n)}function ol(n){z_(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,If(n.W),$_(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function xf(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||kf(t.i,n)))if(t.I=n.N,!n.J&&kf(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(b){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=vc(Tr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Uf(t),Tc(t)}cl(t),Ni(18)}if(1>=fI(t.i)&&t.ka){try{t.ka()}catch(b){}t.ka=void 0}}else hl(t,11)}else if((n.J||t.g==n)&&Uf(t),!b_(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let b=i[e];if(t.U=b[0],b=b[1],2==t.G)if("c"==b[0]){t.J=b[1],t.la=b[2];const S=b[3];null!=S&&(t.ma=S,t.h.info("VER="+t.ma));const x=b[4];null!=x&&(t.za=x,t.h.info("SVER="+t.za));const F=b[5];null!=F&&"number"==typeof F&&0<F&&(t.K=r=1.5*F,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const B=n.g;if(B){const q=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(q){var u=r.i;!u.g&&(xi(q,"spdy")||xi(q,"quic")||xi(q,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(Q_(u,u.h),u.h=null))}if(r.D){const se=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;se&&(r.sa=se,On(r.F,r.D,se))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var c=n;if((r=t).oa=sv(r,r.H?r.la:null,r.W),c.J){J_(r.i,c);var p=c,y=r.K;y&&p.setTimeout(y),p.B&&(z_(p),Mf(p)),r.g=c}else Mc(r);0<t.l.length&&du(t)}else"stop"!=b[0]&&"close"!=b[0]||hl(t,7);else 3==t.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?hl(t,7):cu(t):"noop"!=b[0]&&t.j&&t.j.wa(b),t.A=0)}jd(4)}catch(b){}}function W_(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Gg(n)||"string"==typeof n)_f(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Gg(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function Rf(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Gg(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var u=0;u<i;u++)e.call(void 0,r[u],t&&t[u],n)}}function al(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof al)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function dm(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];ul(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)ul(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function ul(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(st=wc.prototype).setTimeout=function(n){this.P=n},st.gb=function(n){n=n.target;const e=this.L;e&&3==uu(n)?e.l():this.Ia(n)},st.Ia=function(n){try{if(n==this.g)e:{const S=uu(this.g);var e=this.g.Da();const x=this.g.ba();if(!(3>S)&&(3!=S||zE||this.g&&(this.h.h||this.g.ga()||ww(this.g)))){this.I||4!=S||7==e||jd(8==e||0>=x?3:2),z_(this);var t=this.g.ba();this.N=t;t:if(q_(this)){var r=ww(this.g);n="";var i=r.length,u=4==uu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ol(this),bc(this);var c="";break t}this.h.i=new Nt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==t,function rw(n,e,t,r,i,u,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+u+" "+c})}(this.j,this.u,this.A,this.m,this.X,S,t),this.i){if(this.$&&!this.J){t:{if(this.g){var p,y=this.g;if((p=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b_(p)){var b=p;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,Ni(12),ol(this),bc(this);break e}_c(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,xf(this,t)}this.U?(ga(this,S,c),zE&&this.i&&3==S&&(nw(this.V,this.W,"tick",this.fb),this.W.start())):(_c(this.j,this.m,c,null),xf(this,c)),4==S&&ol(this),this.i&&!this.I&&(4==S?nv(this.l,this):(this.i=!1,Mf(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Ni(12)):(this.o=0,Ni(13)),ol(this),bc(this)}}}catch(S){}},st.fb=function(){if(this.g){var n=uu(this.g),e=this.g.ga();this.C<e.length&&(z_(this),ga(this,n,e),this.i&&4!=n&&Mf(this))}},st.cancel=function(){this.I=!0,ol(this)},st.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function iI(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(jd(3),Ni(17)),ol(this),this.o=2,bc(this)):lw(this,this.Y-n)},(st=al.prototype).R=function(){dm(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},st.T=function(){return dm(this),this.g.concat()},st.get=function(n,e){return ul(this.h,n)?this.h[n]:e},st.set=function(n,e){ul(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},st.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],u=this.get(i);n.call(e,u,i,this)}};var K_=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function su(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof su){this.g=void 0!==e?e:n.g,hm(this,n.j),this.s=n.s,Nf(this,n.i),au(this,n.m),this.l=n.l,e=n.h;var t=new Gd;t.i=e.i,e.g&&(t.g=new al(e.g),t.h=e.h),Z_(this,t),this.o=n.o}else n&&(t=String(n).match(K_))?(this.g=!!e,hm(this,t[1]||"",!0),this.s=Of(t[2]||""),Nf(this,t[3]||"",!0),au(this,t[4]),this.l=Of(t[5]||"",!0),Z_(this,t[6]||"",!0),this.o=Of(t[7]||"")):(this.g=!!e,this.h=new Gd(null,this.g))}function ou(n){return new su(n)}function hm(n,e,t){n.j=t?Of(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Nf(n,e,t){n.i=t?Of(e,!0):e}function au(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Z_(n,e,t){e instanceof Gd?(n.h=e,function GS(n,e){e&&!n.j&&(ll(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(fw(this,r),gw(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Pf(e,dw)),n.h=new Gd(e,n.g))}function On(n,e,t){n.h.set(e,t)}function fm(n){return On(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Of(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Pf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,cI),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function cI(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}su.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Pf(e,qs,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Pf(e,qs,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Pf(t,"/"==t.charAt(0)?cw:Y_,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Pf(t,hw)),n.join("")};var qs=/[#\/\?@]/g,Y_=/[#\?:]/g,cw=/[#\?]/g,dw=/[#\?@]/g,hw=/#/g;function Gd(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ll(n){n.g||(n.g=new al,n.h=0,n.i&&function uI(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var u=n[t].substring(0,r);i=n[t].substring(r+1)}else u=n[t];e(u,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function fw(n,e){ll(n),e=Cc(n,e),ul(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,ul((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&dm(n)))}function pw(n,e){return ll(n),e=Cc(n,e),ul(n.g.h,e)}function gw(n,e,t){fw(n,e),0<t.length&&(n.i=null,n.g.set(Cc(n,e),vf(t)),n.h+=t.length)}function Cc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function yw(n){this.l=n||dI,n=Nt.PerformanceNavigationTiming?0<(n=Nt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Nt.g&&Nt.g.Ea&&Nt.g.Ea()&&Nt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(st=Gd.prototype).add=function(n,e){ll(this),this.i=null,n=Cc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},st.forEach=function(n,e){ll(this),this.g.forEach(function(t,r){_f(t,function(i){n.call(e,i,r,this)},this)},this)},st.T=function(){ll(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],u=0;u<i.length;u++)t.push(e[r]);return t},st.R=function(n){ll(this);var e=[];if("string"==typeof n)pw(this,n)&&(e=zg(e,this.g.get(Cc(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=zg(e,n[t])}return e},st.set=function(n,e){return ll(this),this.i=null,pw(this,n=Cc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},st.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},st.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var u=0;u<r.length;u++){var c=i;""!==r[u]&&(c+="="+encodeURIComponent(String(r[u]))),n.push(c)}}return this.i=n.join("&")};var dI=10;function hI(n){return!!n.h||!!n.g&&n.g.size>=n.j}function fI(n){return n.h?1:n.g?n.g.size:0}function kf(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Q_(n,e){n.g?n.g.add(e):n.h=e}function J_(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function X_(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return vf(n.i)}function _w(){}function Ao(){this.g=new _w}function qS(n,e,t){const r=t||"";try{W_(n,function(i,u){let c=i;il(i)&&(c=Xg(i)),e.push(r+u+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ff(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(u){}}function qd(n){this.l=n.$b||null,this.j=n.ib||!1}function Lf(n,e){Sr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=ev,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}yw.prototype.cancel=function(){if(this.i=X_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},_w.prototype.stringify=function(n){return Nt.JSON.stringify(n,void 0)},_w.prototype.parse=function(n){return Nt.JSON.parse(n,void 0)},Ar(qd,$d),qd.prototype.g=function(){return new Lf(this.l,this.j)},qd.prototype.i=function(n){return function(){return n}}({}),Ar(Lf,Sr);var ev=0;function pI(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function zd(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Dc(n)}function Dc(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(st=Lf.prototype).open=function(n,e){if(this.readyState!=ev)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Dc(this)},st.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Nt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},st.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,zd(this)),this.readyState=ev},st.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Dc(this)),this.g&&(this.readyState=3,Dc(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Nt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;pI(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},st.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?zd(this):Dc(this),3==this.readyState&&pI(this)}},st.Ua=function(n){this.g&&(this.response=this.responseText=n,zd(this))},st.Ta=function(n){this.g&&(this.response=n,zd(this))},st.ha=function(){this.g&&zd(this)},st.setRequestHeader=function(n,e){this.v.append(n,e)},st.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},st.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Lf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var gI=Nt.JSON.parse;function Hn(n){Sr.call(this),this.headers=new al,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=vw,this.K=this.L=!1}Ar(Hn,Sr);var vw="",mI=/^https?$/i,yI=["POST","PUT"];function vI(n){return"content-type"==n.toLowerCase()}function Ew(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Vf(n),pm(n)}function Vf(n){n.D||(n.D=!0,yi(n,"complete"),yi(n,"error"))}function Ic(n){if(n.h&&void 0!==Rt&&(!n.C[1]||4!=uu(n)||2!=n.ba()))if(n.v&&4==uu(n))tm(n.Fa,0,n);else if(yi(n,"readystatechange"),4==uu(n)){n.h=!1;try{const p=n.ba();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===p){var i=String(n.H).match(K_)[1]||null;if(!i&&Nt.self&&Nt.self.location){var u=Nt.self.location.protocol;i=u.substr(0,u.length-1)}r=!mI.test(i?i.toLowerCase():"")}t=r}if(t)yi(n,"complete"),yi(n,"success");else{n.m=6;try{var c=2<uu(n)?n.g.statusText:""}catch(y){c=""}n.j=c+" ["+n.ba()+"]",Vf(n)}}finally{pm(n)}}}function pm(n,e){if(n.g){Wd(n);const t=n.g,r=n.C[0]?gf:null;n.g=null,n.C=null,e||yi(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function Wd(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Nt.clearTimeout(n.A),n.A=null)}function uu(n){return n.g?n.g.readyState:0}function ww(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case vw:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function zs(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function tv(n){let e="";return I_(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):On(n,e,t))}function lu(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Zr(n){this.za=0,this.l=[],this.h=new nm,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=lu("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=lu("baseRetryDelayMs",5e3,n),this.$a=lu("retryDelaySeedMs",1e4,n),this.Ya=lu("forwardChannelMaxRetries",2,n),this.ra=lu("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new yw(n&&n.concurrentRequestLimit),this.Ca=new Ao,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function cu(n){if(_s(n),3==n.G){var e=n.V++,t=ou(n.F);On(t,"SID",n.J),On(t,"RID",e),On(t,"TYPE","terminate"),ma(n,t),(e=new wc(n,n.h,e,void 0)).K=2,e.v=fm(ou(t)),t=!1,Nt.navigator&&Nt.navigator.sendBeacon&&(t=Nt.navigator.sendBeacon(e.v.toString(),"")),!t&&Nt.Image&&((new Image).src=e.v,t=!0),t||(e.g=ov(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Mf(e)}iv(n)}function Tc(n){n.g&&(dl(n),n.g.cancel(),n.g=null)}function _s(n){Tc(n),n.u&&(Nt.clearTimeout(n.u),n.u=null),Uf(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Nt.clearTimeout(n.m),n.m=null)}function Bf(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&du(n)}function du(n){hI(n.i)||n.m||(n.m=!0,V_(n.Ha,n),n.C=0)}function Ac(n,e){var t;t=e?e.m:n.V++;const r=ou(n.F);On(r,"SID",n.J),On(r,"RID",t),On(r,"AID",n.U),ma(n,r),n.o&&n.s&&zs(r,n.o,n.s),t=new wc(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=Sc(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Q_(n.i,t),lm(t,r,e)}function ma(n,e){n.j&&W_({},function(t,r){On(e,r,t)})}function Sc(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Tr(n.j.Oa,n.j,n):null;e:{var i=n.l;let u=-1;for(;;){const c=["count="+t];-1==u?0<t?(u=i[0].h,c.push("ofs="+u)):u=0:c.push("ofs="+u);let p=!0;for(let y=0;y<t;y++){let b=i[y].h;const S=i[y].g;if(b-=u,0>b)u=Math.max(0,i[y].h-100),p=!1;else try{qS(S,c,"req"+b+"_")}catch(x){r&&r(S)}}if(p){r=c.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function Mc(n){n.g||n.u||(n.Y=1,V_(n.Ga,n),n.A=0)}function cl(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=vc(Tr(n.Ga,n),rv(n,n.A)),n.A++,0))}function dl(n){null!=n.B&&(Nt.clearTimeout(n.B),n.B=null)}function xc(n){n.g=new wc(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=ou(n.oa);On(e,"RID","rpc"),On(e,"SID",n.J),On(e,"CI",n.N?"0":"1"),On(e,"AID",n.U),ma(n,e),On(e,"TYPE","xmlhttp"),n.o&&n.s&&zs(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=fm(ou(e)),t.s=null,t.U=!0,G_(t,n)}function Uf(n){null!=n.v&&(Nt.clearTimeout(n.v),n.v=null)}function nv(n,e){var t=null;if(n.g==e){Uf(n),dl(n),n.g=null;var r=2}else{if(!kf(n.i,e))return;t=e.D,J_(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;yi(r=rm(),new ow(r,t,e,i)),du(n)}else Mc(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function Kd(n,e){return!(fI(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=vc(Tr(n.Ha,n,e),rv(n,n.C)),n.C++,0)))}(n,e)||2==r&&cl(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:hl(n,5);break;case 4:hl(n,10);break;case 3:hl(n,6);break;default:hl(n,2)}}function rv(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function hl(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Tr(n.jb,n);t||(t=new su("//www.google.com/images/cleardot.gif"),Nt.location&&"http"==Nt.location.protocol||hm(t,"https"),fm(t)),function zS(n,e){const t=new nm;if(Nt.Image){const r=new Image;r.onload=mf(Ff,t,r,"TestLoadImage: loaded",!0,e),r.onerror=mf(Ff,t,r,"TestLoadImage: error",!1,e),r.onabort=mf(Ff,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=mf(Ff,t,r,"TestLoadImage: timeout",!1,e),Nt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ni(2);n.G=0,n.j&&n.j.va(e),iv(n),_s(n)}function iv(n){n.G=0,n.I=-1,n.j&&((0!=X_(n.i).length||0!=n.l.length)&&(n.i.i.length=0,vf(n.l),n.l.length=0),n.j.ua())}function sv(n,e,t){let r=function Hd(n){return n instanceof su?ou(n):new su(n,void 0)}(t);if(""!=r.i)e&&Nf(r,e+"."+r.i),au(r,r.m);else{const i=Nt.location;r=function lI(n,e,t,r){var i=new su(null,void 0);return n&&hm(i,n),e&&Nf(i,e),t&&au(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&I_(n.aa,function(i,u){On(r,u,i)}),t=n.sa,(e=n.D)&&t&&On(r,e,t),On(r,"VER",n.ma),ma(n,r),r}function ov(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Hn(t&&n.Ba&&!n.qa?new qd({ib:!0}):n.qa)).L=n.H,e}function av(){}function jf(){if(Ef&&!(10<=Number(ZE)))throw Error("Environmental error: no available transport.")}function vs(n,e){Sr.call(this),this.g=new Zr(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!b_(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!b_(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Zd(this)}function uv(n){Af.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function bw(){om.call(this),this.status=1}function Zd(n){this.g=n}(st=Hn.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():H_.g(),this.C=function sm(n){return n.h||(n.h=n.i())}(this.u?this.u:H_),this.g.onreadystatechange=Tr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void Ew(this,u)}n=t||"";const i=new al(this.headers);r&&W_(r,function(u,c){i.set(c,u)}),r=function w_(n){e:{var e=vI;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=Nt.FormData&&n instanceof Nt.FormData,!(0<=yf(yI,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(u,c){this.g.setRequestHeader(c,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Wd(this),0<this.B&&((this.K=function _I(n){return Ef&&function JD(){return function M_(n){var e=R_;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=qE(String(x_)).split("."),t=qE("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",u=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==i[0].length&&0==u[0].length)break;n=C_(0==i[1].length?0:parseInt(i[1],10),0==u[1].length?0:parseInt(u[1],10))||C_(0==i[2].length,0==u[2].length)||C_(i[2],u[2]),i=i[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Tr(this.pa,this)):this.A=tm(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){Ew(this,u)}},st.pa=function(){void 0!==Rt&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,yi(this,"timeout"),this.abort(8))},st.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,yi(this,"complete"),yi(this,"abort"),pm(this))},st.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),pm(this,!0)),Hn.Z.M.call(this)},st.Fa=function(){this.s||(this.F||this.v||this.l?Ic(this):this.cb())},st.cb=function(){Ic(this)},st.ba=function(){try{return 2<uu(this)?this.g.status:-1}catch(n){return-1}},st.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},st.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),gI(e)}},st.Da=function(){return this.m},st.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(st=Zr.prototype).ma=8,st.G=1,st.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},st.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new wc(this,this.h,n,void 0);let u=this.s;if(this.P&&(u?(u=KD(u),A_(u,this.P)):u=this.P),null===this.o&&(i.H=u),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Sc(this,i,e),On(t=ou(this.F),"RID",n),On(t,"CVER",22),this.D&&On(t,"X-HTTP-Session-Id",this.D),ma(this,t),this.o&&u&&zs(t,this.o,u),Q_(this.i,i),this.Ra&&On(t,"TYPE","init"),this.ja?(On(t,"$req",e),On(t,"SID","null"),i.$=!0,lm(i,t,null)):lm(i,t,e),this.G=2}}else 3==this.G&&(n?Ac(this,n):0==this.l.length||hI(this.i)||Ac(this))},st.Ga=function(){if(this.u=null,xc(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=vc(Tr(this.bb,this),n)}},st.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ni(10),Tc(this),xc(this))},st.ab=function(){null!=this.v&&(this.v=null,Tc(this),cl(this),Ni(19))},st.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Ni(2)):(this.h.info("Failed to ping google.com"),Ni(1))},(st=av.prototype).xa=function(){},st.wa=function(){},st.va=function(){},st.ua=function(){},st.Oa=function(){},jf.prototype.g=function(n,e){return new vs(n,e)},Ar(vs,Sr),vs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),V_(Tr(n.hb,n,e))),Ni(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=sv(n,null,n.W),du(n)},vs.prototype.close=function(){cu(this.g)},vs.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Bf(this.g,e)}else this.v?((e={}).__data__=Xg(n),Bf(this.g,e)):Bf(this.g,n)},vs.prototype.M=function(){this.g.j=null,delete this.j,cu(this.g),delete this.g,vs.Z.M.call(this)},Ar(uv,Af),Ar(bw,om),Ar(Zd,av),Zd.prototype.xa=function(){yi(this.g,"a")},Zd.prototype.wa=function(n){yi(this.g,new uv(n))},Zd.prototype.va=function(n){yi(this.g,new bw(n))},Zd.prototype.ua=function(){yi(this.g,"b")},jf.prototype.createWebChannel=jf.prototype.g,vs.prototype.send=vs.prototype.u,vs.prototype.open=vs.prototype.m,vs.prototype.close=vs.prototype.close,im.NO_ERROR=0,im.TIMEOUT=8,im.HTTP_ERROR=6,aw.COMPLETE="complete",uw.EventType=Ec,Ec.OPEN="a",Ec.CLOSE="b",Ec.ERROR="c",Ec.MESSAGE="d",Sr.prototype.listen=Sr.prototype.N,Hn.prototype.listenOnce=Hn.prototype.O,Hn.prototype.getLastError=Hn.prototype.La,Hn.prototype.getLastErrorCode=Hn.prototype.Da,Hn.prototype.getStatus=Hn.prototype.ba,Hn.prototype.getResponseJson=Hn.prototype.Qa,Hn.prototype.getResponseText=Hn.prototype.ga,Hn.prototype.send=Hn.prototype.ea;var Cw=nu.createWebChannelTransport=function(){return new jf},EI=nu.getStatEventTarget=function(){return rm()},lv=nu.ErrorCode=im,Dw=nu.EventType=aw,wI=nu.Event=iu,cv=nu.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},bI=nu.FetchXmlHttpFactory=qd,gm=nu.WebChannel=uw,WS=nu.XhrIo=Hn;const Iw="@firebase/firestore";class Mr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mr.UNAUTHENTICATED=new Mr(null),Mr.GOOGLE_CREDENTIALS=new Mr("google-credentials-uid"),Mr.FIRST_PARTY=new Mr("first-party-uid"),Mr.MOCK_USER=new Mr("mock-user");let fl="9.8.0";const pl=new rl.Yd("@firebase/firestore");function Tw(){return pl.logLevel}function Le(n,...e){if(pl.logLevel<=rl.in.DEBUG){const t=e.map(Aw);pl.debug(`Firestore (${fl}): ${n}`,...t)}}function pr(n,...e){if(pl.logLevel<=rl.in.ERROR){const t=e.map(Aw);pl.error(`Firestore (${fl}): ${n}`,...t)}}function Yd(n,...e){if(pl.logLevel<=rl.in.WARN){const t=e.map(Aw);pl.warn(`Firestore (${fl}): ${n}`,...t)}}function Aw(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function ot(n="Unexpected state"){const e=`FIRESTORE (${fl}) INTERNAL ASSERTION FAILED: `+n;throw pr(e),new Error(e)}function Ct(n,e){n||ot()}function Ke(n,e){return n}const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends $t.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class er{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Sw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Mw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Mr.UNAUTHENTICATED))}shutdown(){}}class DI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class II{constructor(e){this.t=e,this.currentUser=Mr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const u=b=>this.i!==i?(i=this.i,t(b)):Promise.resolve();let c=new er;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new er,e.enqueueRetryable(()=>u(this.currentUser))};const p=()=>{const b=c;e.enqueueRetryable((0,be.Z)(function*(){yield b.promise,yield u(r.currentUser)}))},y=b=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(b=>y(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?y(b):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new er)}},0),p()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ct("string"==typeof r.accessToken),new Sw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ct(null===e||"string"==typeof e),new Mr(e)}}class TI{constructor(e,t,r){this.type="FirstParty",this.user=Mr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class AI{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new TI(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Mr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Rw{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=u=>{null!=u.error&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.p;return this.p=u.token,Le("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const i=u=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.g.onInit(u=>i(u)),setTimeout(()=>{if(!this.appCheck){const u=this.g.getImmediate({optional:!0});u?i(u):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ct("string"==typeof t.token),this.p=t.token,new xw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class es{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Nw(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}es.A=-1;class mm{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Nw(40);for(let u=0;u<i.length;++u)r.length<20&&i[u]<t&&(r+=e.charAt(i[u]%e.length))}return r}}function Ft(n,e){return n<e?-1:n>e?1:0}function gl(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Ow(n){return n+"\0"}class gr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ne(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ne(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ne(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gr.fromMillis(Date.now())}static fromDate(e){return gr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new gr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ft(this.nanoseconds,e.nanoseconds):Ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class vt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new vt(e)}static min(){return new vt(new gr(0,0))}static max(){return new vt(new gr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function dv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function hu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ym(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class $f{constructor(e,t,r){void 0===t?t=0:t>e.length&&ot(),void 0===r?r=e.length-t:r>e.length-t&&ot(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===$f.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof $f?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const u=e.get(i),c=t.get(i);if(u<c)return-1;if(u>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Gt extends $f{construct(e,t,r){return new Gt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Gt(t)}static emptyPath(){return new Gt([])}}const _m=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tr extends $f{construct(e,t,r){return new tr(e,t,r)}static isValidIdentifier(e){return _m.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new tr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const u=()=>{if(0===r.length)throw new Ne(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const p=e[i];if("\\"===p){if(i+1===e.length)throw new Ne(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new Ne(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,i+=2}else"`"===p?(c=!c,i++):"."!==p||c?(r+=p,i++):(u(),i++)}if(u(),c)throw new Ne(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tr(t)}static emptyPath(){return new tr([])}}class Hf{constructor(e){this.fields=e,e.sort(tr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return gl(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class nr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new nr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let u=0;u<r.length;++u)i+=String.fromCharCode(r[u]);return i}(e);return new nr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nr.EMPTY_BYTE_STRING=new nr("");const hv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fu(n){if(Ct(!!n),"string"==typeof n){let e=0;const t=hv.exec(n);if(Ct(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ln(n.seconds),nanos:Ln(n.nanos)}}function Ln(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function pu(n){return"string"==typeof n?nr.fromBase64String(n):nr.fromUint8Array(n)}function vm(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function fv(n){const e=n.mapValue.fields.__previous_value__;return vm(e)?fv(e):e}function Rc(n){const e=fu(n.mapValue.fields.__local_write_time__.timestampValue);return new gr(e.seconds,e.nanos)}class Pw{constructor(e,t,r,i,u,c,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=p,this.useFetchStreams=y}}class gu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new gu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof gu&&e.projectId===this.projectId&&e.database===this.database}}function Qd(n){return null==n}function Jd(n){return 0===n&&1/n==-1/0}function Em(n){return"number"==typeof n&&Number.isInteger(n)&&!Jd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Ge{constructor(e){this.path=e}static fromPath(e){return new Ge(Gt.fromString(e))}static fromName(e){return new Ge(Gt.fromString(e).popFirst(5))}static empty(){return new Ge(Gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Gt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Gt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ge(new Gt(e.slice()))}}const ml={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Gf={nullValue:"NULL_VALUE"};function yl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?vm(n)?4:mv(n)?9007199254740991:10:ot()}function So(n,e){if(n===e)return!0;const t=yl(n);if(t!==yl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Rc(n).isEqual(Rc(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const u=fu(r.timestampValue),c=fu(i.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,pu(n.bytesValue).isEqual(pu(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Ln(r.geoPointValue.latitude)===Ln(i.geoPointValue.latitude)&&Ln(r.geoPointValue.longitude)===Ln(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ln(r.integerValue)===Ln(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const u=Ln(r.doubleValue),c=Ln(i.doubleValue);return u===c?Jd(u)===Jd(c):isNaN(u)&&isNaN(c)}return!1}(n,e);case 9:return gl(n.arrayValue.values||[],e.arrayValue.values||[],So);case 10:return function(r,i){const u=r.mapValue.fields||{},c=i.mapValue.fields||{};if(dv(u)!==dv(c))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(void 0===c[p]||!So(u[p],c[p])))return!1;return!0}(n,e);default:return ot()}var i}function Nc(n,e){return void 0!==(n.values||[]).find(t=>So(t,e))}function mu(n,e){if(n===e)return 0;const t=yl(n),r=yl(e);if(t!==r)return Ft(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ft(n.booleanValue,e.booleanValue);case 2:return function(i,u){const c=Ln(i.integerValue||i.doubleValue),p=Ln(u.integerValue||u.doubleValue);return c<p?-1:c>p?1:c===p?0:isNaN(c)?isNaN(p)?0:-1:1}(n,e);case 3:return pv(n.timestampValue,e.timestampValue);case 4:return pv(Rc(n),Rc(e));case 5:return Ft(n.stringValue,e.stringValue);case 6:return function(i,u){const c=pu(i),p=pu(u);return c.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(i,u){const c=i.split("/"),p=u.split("/");for(let y=0;y<c.length&&y<p.length;y++){const b=Ft(c[y],p[y]);if(0!==b)return b}return Ft(c.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,u){const c=Ft(Ln(i.latitude),Ln(u.latitude));return 0!==c?c:Ft(Ln(i.longitude),Ln(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,u){const c=i.values||[],p=u.values||[];for(let y=0;y<c.length&&y<p.length;++y){const b=mu(c[y],p[y]);if(b)return b}return Ft(c.length,p.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,u){if(i===ml.mapValue&&u===ml.mapValue)return 0;if(i===ml.mapValue)return 1;if(u===ml.mapValue)return-1;const c=i.fields||{},p=Object.keys(c),y=u.fields||{},b=Object.keys(y);p.sort(),b.sort();for(let S=0;S<p.length&&S<b.length;++S){const x=Ft(p[S],b[S]);if(0!==x)return x;const F=mu(c[p[S]],y[b[S]]);if(0!==F)return F}return Ft(p.length,b.length)}(n.mapValue,e.mapValue);default:throw ot()}}function pv(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ft(n,e);const t=fu(n),r=fu(e),i=Ft(t.seconds,r.seconds);return 0!==i?i:Ft(t.nanos,r.nanos)}function Oc(n){return wm(n)}function wm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=fu(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?pu(n.bytesValue).toBase64():"referenceValue"in n?Ge.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",u=!0;for(const c of r.values||[])u?u=!1:i+=",",i+=wm(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let u="{",c=!0;for(const p of i)c?c=!1:u+=",",u+=`${p}:${wm(r.fields[p])}`;return u+"}"}(n.mapValue):ot();var e}function _l(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function bm(n){return!!n&&"integerValue"in n}function Xd(n){return!!n&&"arrayValue"in n}function gv(n){return!!n&&"nullValue"in n}function MI(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Cm(n){return!!n&&"mapValue"in n}function qf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return hu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=qf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=qf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function mv(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function xI(n){return"nullValue"in n?Gf:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?_l(gu.empty(),Ge.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ot()}function xr(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?_l(gu.empty(),Ge.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?ml:ot()}function yv(n,e){const t=mu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function kw(n,e){const t=mu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class _i{constructor(e){this.value=e}static empty(){return new _i({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Cm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=qf(t)}setAll(e){let t=tr.emptyPath(),r={},i=[];e.forEach((c,p)=>{if(!t.isImmediateParentOf(p)){const y=this.getFieldsMap(t);this.applyChanges(y,r,i),r={},i=[],t=p.popLast()}c?r[p.lastSegment()]=qf(c):i.push(p.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,i)}delete(e){const t=this.field(e.popLast());Cm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return So(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Cm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){hu(t,(i,u)=>e[i]=u);for(const i of r)delete e[i]}clone(){return new _i(qf(this.value))}}function _v(n){const e=[];return hu(n.fields,(t,r)=>{const i=new tr([t]);if(Cm(r)){const u=_v(r.mapValue).fields;if(0===u.length)e.push(i);else for(const c of u)e.push(i.child(c))}else e.push(i)}),new Hf(e)}class In{constructor(e,t,r,i,u,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=u,this.documentState=c}static newInvalidDocument(e){return new In(e,0,vt.min(),vt.min(),_i.empty(),0)}static newFoundDocument(e,t,r){return new In(e,1,t,vt.min(),r,0)}static newNoDocument(e,t){return new In(e,2,t,vt.min(),_i.empty(),0)}static newUnknownDocument(e,t){return new In(e,3,t,vt.min(),_i.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_i.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_i.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof In&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new In(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zf{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function Dm(n){return n.fields.find(e=>2===e.kind)}function Ws(n){return n.fields.filter(e=>2!==e.kind)}zf.UNKNOWN_ID=-1;class Im{constructor(e,t){this.fieldPath=e,this.kind=t}}class Wf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Wf(0,Ks.min())}}function vv(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=vt.fromTimestamp(1e9===r?new gr(t+1,0):new gr(t,r));return new Ks(i,Ge.empty(),e)}function RI(n){return new Ks(n.readTime,n.key,-1)}class Ks{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ks(vt.min(),Ge.empty(),-1)}static max(){return new Ks(vt.max(),Ge.empty(),-1)}}function NI(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ge.comparator(n.documentKey,e.documentKey),0!==t?t:Ft(n.largestBatchId,e.largestBatchId))}class Gn{constructor(e,t){this.comparator=e,this.root=t||yn.EMPTY}insert(e,t){return new Gn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,yn.BLACK,null,null))}remove(e){return new Gn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new eh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new eh(this.root,e,this.comparator,!1)}getReverseIterator(){return new eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new eh(this.root,e,this.comparator,!0)}}class eh{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&i&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yn{constructor(e,t,r,i,u){this.key=e,this.value=t,this.color=null!=r?r:yn.RED,this.left=null!=i?i:yn.EMPTY,this.right=null!=u?u:yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,u){return new yn(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const u=r(e,i.key);return i=u<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===u?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return yn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return yn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ot();const e=this.left.check();if(e!==this.right.check())throw ot();return e+(this.isRed()?0:1)}}yn.EMPTY=null,yn.RED=!0,yn.BLACK=!1,yn.EMPTY=new class{constructor(){this.size=0}get key(){throw ot()}get value(){throw ot()}get color(){throw ot()}get left(){throw ot()}get right(){throw ot()}copy(n,e,t,r,i){return this}insert(n,e,t){return new yn(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class _n{constructor(e){this.comparator=e,this.data=new Gn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ev(this.data.getIterator())}getIteratorFrom(e){return new Ev(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof _n)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(i,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new _n(this.comparator);return t.data=e,t}}class Ev{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Oi(n){return n.hasNext()?n.getNext():void 0}class Mo{constructor(e,t=null,r=[],i=[],u=null,c=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=u,this.startAt=c,this.endAt=p,this.P=null}}function Zs(n,e=null,t=[],r=[],i=null,u=null,c=null){return new Mo(n,e,t,r,i,u,c)}function vl(n){const e=Ke(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Oc(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Qd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Oc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Oc(r)).join(",")),e.P=t}return e.P}function Kf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!xm(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!So(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Cv(n.startAt,e.startAt)&&Cv(n.endAt,e.endAt)}function Tm(n){return Ge.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Am(n,e){return n.filters.filter(t=>t instanceof rr&&t.field.isEqual(e))}function Lw(n,e,t){let r=Gf,i=!0;for(const u of Am(n,e)){let c=Gf,p=!0;switch(u.op){case"<":case"<=":c=xI(u.value);break;case"==":case"in":case">=":c=u.value;break;case">":c=u.value,p=!1;break;case"!=":case"not-in":c=Gf}yv({value:r,inclusive:i},{value:c,inclusive:p})<0&&(r=c,i=p)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const c=t.position[u];yv({value:r,inclusive:i},{value:c,inclusive:t.inclusive})<0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}function Sm(n,e,t){let r=ml,i=!0;for(const u of Am(n,e)){let c=ml,p=!0;switch(u.op){case">=":case">":c=xr(u.value),p=!1;break;case"==":case"in":case"<=":c=u.value;break;case"<":c=u.value,p=!1;break;case"!=":case"not-in":c=ml}kw({value:r,inclusive:i},{value:c,inclusive:p})>0&&(r=c,i=p)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const c=t.position[u];kw({value:r,inclusive:i},{value:c,inclusive:t.inclusive})>0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}class rr extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new OI(e,t,r):"array-contains"===t?new Bw(e,r):"in"===t?new Mm(e,r):"not-in"===t?new kI(e,r):"array-contains-any"===t?new Uw(e,r):new rr(e,t,r)}static V(e,t,r){return"in"===t?new Vw(e,r):new PI(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(mu(t,this.value)):null!==t&&yl(this.value)===yl(t)&&this.v(mu(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ot()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class OI extends rr{constructor(e,t,r){super(e,t,r),this.key=Ge.fromName(r.referenceValue)}matches(e){const t=Ge.comparator(e.key,this.key);return this.v(t)}}class Vw extends rr{constructor(e,t){super(e,"in",t),this.keys=wv(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class PI extends rr{constructor(e,t){super(e,"not-in",t),this.keys=wv(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function wv(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ge.fromName(r.referenceValue))}class Bw extends rr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Xd(t)&&Nc(t.arrayValue,this.value)}}class Mm extends rr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Nc(this.value.arrayValue,t)}}class kI extends rr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Nc(this.value.arrayValue,t)}}class Uw extends rr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Xd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Nc(this.value.arrayValue,r))}}class yu{constructor(e,t){this.position=e,this.inclusive=t}}class El{constructor(e,t="asc"){this.field=e,this.dir=t}}function xm(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function bv(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const u=e[i],c=n.position[i];if(r=u.field.isKeyField()?Ge.comparator(Ge.fromName(c.referenceValue),t.key):mu(c,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function Cv(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!So(n.position[t],e.position[t]))return!1;return!0}class ya{constructor(e,t=null,r=[],i=[],u=null,c="F",p=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=u,this.limitType=c,this.startAt=p,this.endAt=y,this.D=null,this.C=null}}function Dv(n,e,t,r,i,u,c,p){return new ya(n,e,t,r,i,u,c,p)}function Pc(n){return new ya(n)}function Rm(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Nm(n){for(const e of n.filters)if(e.S())return e.field;return null}function Iv(n){return null!==n.collectionGroup}function th(n){const e=Ke(n);if(null===e.D){e.D=[];const t=Nm(e),r=Rm(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new El(t)),e.D.push(new El(tr.keyField(),"asc"));else{let i=!1;for(const u of e.explicitOrderBy)e.D.push(u),u.field.isKeyField()&&(i=!0);if(!i){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new El(tr.keyField(),u))}}}return e.D}function Ys(n){const e=Ke(n);if(!e.C)if("F"===e.limitType)e.C=Zs(e.path,e.collectionGroup,th(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of th(e))t.push(new El(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new yu(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new yu(e.startAt.position,e.startAt.inclusive):null;e.C=Zs(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function $w(n,e,t){return new ya(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Zf(n,e){return Kf(Ys(n),Ys(e))&&n.limitType===e.limitType}function Hw(n){return`${vl(Ys(n))}|lt:${n.limitType}`}function Tv(n){return`Query(target=${function Fw(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Oc(r.value)}`;var r}).join(", ")}]`),Qd(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Oc(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Oc(t)).join(",")),`Target(${e})`}(Ys(n))}; limitType=${n.limitType})`}function Av(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ge.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,u,c){const p=bv(i,u,c);return i.inclusive?p<=0:p<0}(t.startAt,th(t),r)||t.endAt&&!function(i,u,c){const p=bv(i,u,c);return i.inclusive?p>=0:p>0}(t.endAt,th(t),r)));var t,r}function Gw(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function qw(n){return(e,t)=>{let r=!1;for(const i of th(n)){const u=FI(i,e,t);if(0!==u)return u;r=r||i.field.isKeyField()}return 0}}function FI(n,e,t){const r=n.field.isKeyField()?Ge.comparator(e.key,t.key):function(i,u,c){const p=u.data.field(i),y=c.data.field(i);return null!==p&&null!==y?mu(p,y):ot()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ot()}}function zw(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jd(e)?"-0":e}}function Ww(n){return{integerValue:""+n}}function Kw(n,e){return Em(e)?Ww(e):zw(n,e)}class Om{constructor(){this._=void 0}}function LI(n,e,t){return n instanceof kc?function(r,i){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(u.fields.__previous_value__=i),{mapValue:u}}(t,e):n instanceof wl?Sv(n,e):n instanceof bl?Mv(n,e):function(r,i){const u=Zw(r,i),c=xv(u)+xv(r.k);return bm(u)&&bm(r.k)?Ww(c):zw(r.M,c)}(n,e)}function VI(n,e,t){return n instanceof wl?Sv(n,e):n instanceof bl?Mv(n,e):t}function Zw(n,e){return n instanceof Fc?bm(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class kc extends Om{}class wl extends Om{constructor(e){super(),this.elements=e}}function Sv(n,e){const t=Rv(e);for(const r of n.elements)t.some(i=>So(i,r))||t.push(r);return{arrayValue:{values:t}}}class bl extends Om{constructor(e){super(),this.elements=e}}function Mv(n,e){let t=Rv(e);for(const r of n.elements)t=t.filter(i=>!So(i,r));return{arrayValue:{values:t}}}class Fc extends Om{constructor(e,t){super(),this.M=e,this.k=t}}function xv(n){return Ln(n.integerValue||n.doubleValue)}function Rv(n){return Xd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class nh{constructor(e,t){this.field=e,this.transform=t}}class Qw{constructor(e,t){this.version=e,this.transformResults=t}}class vn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new vn}static exists(e){return new vn(void 0,e)}static updateTime(e){return new vn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pm(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class km{}function rh(n,e,t){n instanceof ih?function(r,i,u){const c=r.value.clone(),p=Xw(r.fieldTransforms,i,u.transformResults);c.setAll(p),i.convertToFoundDocument(u.version,c).setHasCommittedMutations()}(n,e,t):n instanceof sh?function(r,i,u){if(!Pm(r.precondition,i))return void i.convertToUnknownDocument(u.version);const c=Xw(r.fieldTransforms,i,u.transformResults),p=i.data;p.setAll(wt(r)),p.setAll(c),i.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Jw(n,e,t){var i;n instanceof ih?function(r,i,u){if(!Pm(r.precondition,i))return;const c=r.value.clone(),p=eb(r.fieldTransforms,u,i);c.setAll(p),i.convertToFoundDocument(Ov(i),c).setHasLocalMutations()}(n,e,t):n instanceof sh?function(r,i,u){if(!Pm(r.precondition,i))return;const c=eb(r.fieldTransforms,u,i),p=i.data;p.setAll(wt(r)),p.setAll(c),i.convertToFoundDocument(Ov(i),p).setHasLocalMutations()}(n,e,t):Pm(n.precondition,i=e)&&i.convertToNoDocument(vt.min())}function Nv(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),u=Zw(r.transform,i||null);null!=u&&(null==t&&(t=_i.empty()),t.set(r.field,u))}return t||null}function BI(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&gl(t,r,(i,u)=>function Yw(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof wl&&r instanceof wl||t instanceof bl&&r instanceof bl?gl(t.elements,r.elements,So):t instanceof Fc&&r instanceof Fc?So(t.k,r.k):t instanceof kc&&r instanceof kc);var t,r}(i,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function Ov(n){return n.isFoundDocument()?n.version:vt.min()}class ih extends km{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class sh extends km{constructor(e,t,r,i,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=u,this.type=1}}function wt(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Xw(n,e,t){const r=new Map;Ct(n.length===t.length);for(let i=0;i<t.length;i++){const u=n[i],c=u.transform,p=e.data.field(u.field);r.set(u.field,VI(c,p,t[i]))}return r}function eb(n,e,t){const r=new Map;for(const i of n){const u=i.transform,c=t.data.field(i.field);r.set(i.field,LI(u,c,e))}return r}class Yf extends km{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class oh extends km{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class UI{constructor(e){this.count=e}}var Vn,qt;function Bn(n){switch(n){default:return ot();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}function jI(n){if(void 0===n)return pr("GRPC error has no .code"),ce.UNKNOWN;switch(n){case Vn.OK:return ce.OK;case Vn.CANCELLED:return ce.CANCELLED;case Vn.UNKNOWN:return ce.UNKNOWN;case Vn.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Vn.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Vn.INTERNAL:return ce.INTERNAL;case Vn.UNAVAILABLE:return ce.UNAVAILABLE;case Vn.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Vn.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Vn.NOT_FOUND:return ce.NOT_FOUND;case Vn.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Vn.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Vn.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Vn.ABORTED:return ce.ABORTED;case Vn.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Vn.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Vn.DATA_LOSS:return ce.DATA_LOSS;default:return ot()}}(qt=Vn||(Vn={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";class _u{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,u]of r)if(this.equalsFn(i,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<i.length;u++)if(this.equalsFn(i[u][0],e))return void(i[u]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){hu(this.inner,(t,r)=>{for(const[i,u]of r)e(i,u)})}isEmpty(){return ym(this.inner)}size(){return this.innerSize}}const $I=new Gn(Ge.comparator);function Qs(){return $I}const tb=new Gn(Ge.comparator);function Fm(...n){let e=tb;for(const t of n)e=e.insert(t.key,t);return e}function ah(){return new _u(n=>n.toString(),(n,e)=>n.isEqual(e))}const nb=new Gn(Ge.comparator),HI=new _n(Ge.comparator);function an(...n){let e=HI;for(const t of n)e=e.add(t);return e}const GI=new _n(Ft);function Cl(){return GI}class Qf{constructor(e,t,r,i,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Jf.createSynthesizedTargetChangeForCurrentChange(e,t)),new Qf(vt.min(),r,Cl(),Qs(),an())}}class Jf{constructor(e,t,r,i,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Jf(nr.EMPTY_BYTE_STRING,t,an(),an(),an())}}class Lm{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class Xf{constructor(e,t){this.targetId=e,this.$=t}}class Pv{constructor(e,t,r=nr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class kv{constructor(){this.B=0,this.L=uh(),this.U=nr.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=an(),t=an(),r=an();return this.L.forEach((i,u)=>{switch(u){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ot()}}),new Jf(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=uh()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class rb{constructor(e){this.nt=e,this.st=new Map,this.it=Qs(),this.rt=ib(),this.ot=new _n(Ft)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:ot()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const u=i.target;if(Tm(u))if(0===r){const c=new Ge(u.path);this.ct(t,c,In.newNoDocument(c,vt.min()))}else Ct(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((u,c)=>{const p=this.wt(c);if(p){if(u.current&&Tm(p.target)){const y=new Ge(p.target.path);null!==this.it.get(y)||this.It(c,y)||this.ct(c,y,In.newNoDocument(y,e))}u.j&&(t.set(c,u.H()),u.J())}});let r=an();this.rt.forEach((u,c)=>{let p=!0;c.forEachWhile(y=>{const b=this.wt(y);return!b||2===b.purpose||(p=!1,!1)}),p&&(r=r.add(u))}),this.it.forEach((u,c)=>c.setReadTime(e));const i=new Qf(e,t,this.ot,this.it,r);return this.it=Qs(),this.rt=ib(),this.ot=new _n(Ft),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new kv,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new _n(Ft),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Le("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new kv),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function ib(){return new Gn(Ge.comparator)}function uh(){return new Gn(Ge.comparator)}const ep={asc:"ASCENDING",desc:"DESCENDING"},qI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class zI{constructor(e,t){this.databaseId=e,this.N=t}}function tp(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Fv(n,e){return n.N?e.toBase64():e.toUint8Array()}function sb(n,e){return tp(n,e.toTimestamp())}function Rr(n){return Ct(!!n),vt.fromTimestamp(function(e){const t=fu(e);return new gr(t.seconds,t.nanos)}(n))}function Lv(n,e){return(t=n,new Gt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Vv(n){const e=Gt.fromString(n);return Ct(hb(e)),e}function np(n,e){return Lv(n.databaseId,e.path)}function _a(n,e){const t=Vv(e);if(t.get(1)!==n.databaseId.projectId)throw new Ne(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ne(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ge(KI(t))}function ob(n,e){return Lv(n.databaseId,e)}function WI(n){const e=Vv(n);return 4===e.length?Gt.emptyPath():KI(e)}function Vm(n){return new Gt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function KI(n){return Ct(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Bv(n,e,t){return{name:np(n,e),fields:t.value.mapValue.fields}}function rp(n,e,t){const r=_a(n,e.name),i=Rr(e.updateTime),u=new _i({mapValue:{fields:e.fields}}),c=In.newFoundDocument(r,i,u);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function lh(n,e){let t;if(e instanceof ih)t={update:Bv(n,e.key,e.value)};else if(e instanceof Yf)t={delete:np(n,e.key)};else if(e instanceof sh)t={update:Bv(n,e.key,e.data),updateMask:db(e.fieldMask)};else{if(!(e instanceof oh))return ot();t={verify:np(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,u){const c=u.transform;if(c instanceof kc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof wl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof bl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Fc)return{fieldPath:u.field.canonicalString(),increment:c.k};throw ot()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:sb(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:ot()),t;var i}function Lc(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?vn.updateTime(Rr(i.updateTime)):void 0!==i.exists?vn.exists(i.exists):vn.none():vn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(u,c){let p=null;"setToServerValue"in c?(Ct("REQUEST_TIME"===c.setToServerValue),p=new kc):"appendMissingElements"in c?p=new wl(c.appendMissingElements.values||[]):"removeAllFromArray"in c?p=new bl(c.removeAllFromArray.values||[]):"increment"in c?p=new Fc(u,c.increment):ot();const y=tr.fromServerFormat(c.fieldPath);return new nh(y,p)}(n,i)):[];var i;if(e.update){const i=_a(n,e.update.name),u=new _i({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new Hf((e.updateMask.fieldPaths||[]).map(b=>tr.fromServerFormat(b)));return new sh(i,u,c,t,r)}return new ih(i,u,t,r)}if(e.delete){const i=_a(n,e.delete);return new Yf(i,t)}if(e.verify){const i=_a(n,e.verify);return new oh(i,t)}return ot()}function ab(n,e){return{documents:[ob(n,e.path)]}}function ub(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=ob(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=ob(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(y){if(0===y.length)return;const b=y.map(S=>function(x){if("=="===x.op){if(MI(x.value))return{unaryFilter:{field:xo(x.field),op:"IS_NAN"}};if(gv(x.value))return{unaryFilter:{field:xo(x.field),op:"IS_NULL"}}}else if("!="===x.op){if(MI(x.value))return{unaryFilter:{field:xo(x.field),op:"IS_NOT_NAN"}};if(gv(x.value))return{unaryFilter:{field:xo(x.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xo(x.field),op:eT(x.op),value:x.value}}}(S));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(e.filters);i&&(t.structuredQuery.where=i);const u=function(y){if(0!==y.length)return y.map(b=>{return{field:xo((S=b).field),direction:XI(S.dir)};var S})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const c=(b=e.limit,n.N||Qd(b)?b:{value:b});var b,p,y;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function lb(n){let e=WI(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ct(1===r);const S=t.from[0];S.allDescendants?i=S.collectionId:e=e.child(S.collectionId)}let u=[];t.where&&(u=Uv(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(S=>{return new El(ch((x=S).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let p=null;t.limit&&(p=function(S){let x;return x="object"==typeof S?S.value:S,Qd(x)?null:x}(t.limit));let y=null;var S;t.startAt&&(y=new yu((S=t.startAt).values||[],!!S.before));let b=null;return t.endAt&&(b=function(S){return new yu(S.values||[],!S.before)}(t.endAt)),Dv(e,i,c,u,p,"F",y,b)}function Uv(n){return n?void 0!==n.unaryFilter?[tT(n)]:void 0!==n.fieldFilter?[cb(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Uv(e)).reduce((e,t)=>e.concat(t)):ot():[]}function XI(n){return ep[n]}function eT(n){return qI[n]}function xo(n){return{fieldPath:n.canonicalString()}}function ch(n){return tr.fromServerFormat(n.fieldPath)}function cb(n){return rr.create(ch(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ot()}}(n.fieldFilter.op),n.fieldFilter.value)}function tT(n){switch(n.unaryFilter.op){case"IS_NAN":const e=ch(n.unaryFilter.field);return rr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=ch(n.unaryFilter.field);return rr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ch(n.unaryFilter.field);return rr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=ch(n.unaryFilter.field);return rr.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ot()}}function db(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function hb(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function vi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Bm(e)),e=nT(n.get(t),e);return Bm(e)}function nT(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const u=n.charAt(i);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function Bm(n){return n+"\x01\x01"}function va(n){const e=n.length;if(Ct(e>=2),2===e)return Ct("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Gt.emptyPath();const t=e-2,r=[];let i="";for(let u=0;u<e;){const c=n.indexOf("\x01",u);switch((c<0||c>t)&&ot(),n.charAt(c+1)){case"\x01":const p=n.substring(u,c);let y;0===i.length?y=p:(i+=p,y=i,i=""),r.push(y);break;case"\x10":i+=n.substring(u,c),i+="\0";break;case"\x11":i+=n.substring(u,c+1);break;default:ot()}u=c+2}return new Gt(r)}const jv=["userId","batchId"];function ip(n,e){return[n,vi(e)]}function fb(n,e,t){return[n,vi(e),t]}const rT={},iT=["prefixPath","collectionGroup","readTime","documentId"],$v=["prefixPath","collectionGroup","documentId"],sT=["collectionGroup","readTime","prefixPath","documentId"],pb=["canonicalId","targetId"],oT=["targetId","path"],aT=["path","targetId"],uT=["collectionId","parent"],lT=["indexId","uid"],cT=["uid","sequenceNumber"],dT=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],hT=["indexId","uid","orderedDocumentKey"],fT=["userId","collectionPath","documentId"],gb=["userId","collectionPath","largestBatchId"],mb=["userId","collectionGroup","largestBatchId"],yb=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],pT=[...yb,"documentOverlays"],Hv=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],gT=[...Hv,"indexConfiguration","indexState","indexEntries"],_b="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new de((r,i)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,i)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof de?t:de.resolve(t)}catch(t){return de.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):de.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):de.reject(t)}static resolve(e){return new de((t,r)=>{t(e)})}static reject(e){return new de((t,r)=>{r(e)})}static waitFor(e){return new de((t,r)=>{let i=0,u=0,c=!1;e.forEach(p=>{++i,p.next(()=>{++u,c&&u===i&&t()},y=>r(y))}),c=!0,u===i&&t()})}static or(e){let t=de.resolve(!1);for(const r of e)t=t.next(i=>i?de.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,u)=>{r.push(t.call(this,i,u))}),this.waitFor(r)}}class dh{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new er,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new sp(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=Wv(r.target.error);this.At.reject(new sp(e,i))}}static open(e,t,r,i){try{return new dh(t,e.transaction(i,r))}catch(u){throw new sp(t,u)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Le("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new qv(t)}}class Js{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===Js.Vt((0,$t.z$)())&&pr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Le("SimpleDb","Removing database:",e),Bc(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,$t.hl)())return!1;if(Js.St())return!0;const e=(0,$t.z$)(),t=Js.Vt(e),r=0<t&&t<10,i=Js.Dt(e),u=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,be.Z)(function*(){return t.db||(Le("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=c=>{r(c.target.result)},u.onblocked=()=>{i(new sp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=c=>{const p=c.target.error;i("VersionError"===p.name?new Ne(ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new Ne(ce.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new sp(e,p))},u.onupgradeneeded=c=>{Le("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.Pt.kt(c.target.result,u.transaction,c.oldVersion,t.version).next(()=>{Le("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var u=this;return(0,be.Z)(function*(){const c="readonly"===t;let p=0;for(;;){++p;try{u.db=yield u.Nt(e);const y=dh.open(u.db,e,c?"readonly":"readwrite",r),b=i(y).next(S=>(y.bt(),S)).catch(S=>(y.abort(S),de.reject(S))).toPromise();return b.catch(()=>{}),yield y.Rt,b}catch(y){const b="FirebaseError"!==y.name&&p<3;if(Le("SimpleDb","Transaction failed with error:",y.message,"Retrying:",b),u.close(),!b)return Promise.reject(y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Gv{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Bc(this.Ft.delete())}}class sp extends Ne{constructor(e,t){super(ce.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Vc(n){return"IndexedDbTransactionError"===n.name}class qv{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Le("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Le("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Bc(r)}add(e){return Le("SimpleDb","ADD",this.store.name,e,e),Bc(this.store.add(e))}get(e){return Bc(this.store.get(e)).next(t=>(void 0===t&&(t=null),Le("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Le("SimpleDb","DELETE",this.store.name,e),Bc(this.store.delete(e))}count(){return Le("SimpleDb","COUNT",this.store.name),Bc(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),u=[];return this.Kt(i,(c,p)=>{u.push(p)}).next(()=>u)}{const i=this.store.getAll(r.range);return new de((u,c)=>{i.onerror=p=>{c(p.target.error)},i.onsuccess=p=>{u(p.target.result)}})}}Gt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new de((i,u)=>{r.onerror=c=>{u(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}Qt(e,t){Le("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Kt(i,(u,c,p)=>p.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Kt(i,t)}zt(e){const t=this.cursor({});return new de((r,i)=>{t.onerror=u=>{const c=Wv(u.target.error);i(c)},t.onsuccess=u=>{const c=u.target.result;c?e(c.primaryKey,c.value).next(p=>{p?c.continue():r()}):r()}})}Kt(e,t){const r=[];return new de((i,u)=>{e.onerror=c=>{u(c.target.error)},e.onsuccess=c=>{const p=c.target.result;if(!p)return void i();const y=new Gv(p),b=t(p.primaryKey,p.value,y);if(b instanceof de){const S=b.catch(x=>(y.done(),de.reject(x)));r.push(S)}y.isDone?i():null===y.Lt?p.continue():p.continue(y.Lt)}}).next(()=>de.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Bc(n){return new de((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=Wv(r.target.error);t(i)}})}let zv=!1;function Wv(n){const e=Js.Vt((0,$t.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ne("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return zv||(zv=!0,setTimeout(()=>{throw r},0)),r}}return n}class Kv extends vb{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Br(n,e){const t=Ke(n);return Js.xt(t.Ht,e)}class Um{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const u=this.mutations[i];u.key.isEqual(e.key)&&rh(u,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Jw(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Jw(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(vt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),an())}isEqual(e){return this.batchId===e.batchId&&gl(this.mutations,e.mutations,(t,r)=>BI(t,r))&&gl(this.baseMutations,e.baseMutations,(t,r)=>BI(t,r))}}class Eb{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ct(e.mutations.length===r.length);let i=nb;const u=e.mutations;for(let c=0;c<u.length;c++)i=i.insert(u[c].key,r[c].version);return new Eb(e,t,r,i)}}class Zv{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ro{constructor(e,t,r,i,u=vt.min(),c=vt.min(),p=nr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=p}withSequenceNumber(e){return new Ro(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Ro(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ro(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class wb{constructor(e){this.Jt=e}}function fh(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:jm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:np(i=n.Jt,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:tp(i,u.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:ph(e.version)};else{if(!e.isUnknownDocument())return ot();r.unknownDocument={path:t.path.toArray(),version:ph(e.version)}}var i,u;return r}function jm(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function ph(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Dl(n){const e=new gr(n.seconds,n.nanoseconds);return vt.fromTimestamp(e)}function gh(n,e){const t=(e.baseMutations||[]).map(u=>Lc(n.Jt,u));for(let u=0;u<e.mutations.length-1;++u){const c=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(c.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>Lc(n.Jt,u)),i=gr.fromMillis(e.localWriteTimeMs);return new Um(e.batchId,i,t,r)}function op(n){const e=Dl(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Dl(n.lastLimboFreeSnapshotVersion):vt.min();let r;var i;return void 0!==n.query.documents?(Ct(1===(i=n.query).documents.length),r=Ys(Pc(WI(i.documents[0])))):r=Ys(lb(n.query)),new Ro(r,n.targetId,0,n.lastListenSequenceNumber,e,t,nr.fromBase64String(n.resumeToken))}function bb(n,e){const t=ph(e.snapshotVersion),r=ph(e.lastLimboFreeSnapshotVersion);let i;i=Tm(e.target)?ab(n.Jt,e.target):ub(n.Jt,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:vl(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Yv(n){const e=lb({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?$w(e,e.limit,"L"):e}function $m(n,e){return new Zv(e.largestBatchId,Lc(n.Jt,e.overlayMutation))}function Qv(n,e){const t=e.path.lastSegment();return[n,vi(e.path.popLast()),t]}class Jv{getBundleMetadata(e,t){return ap(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Dl(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return ap(e).put({bundleId:(r=t).id,createTime:ph(Rr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return mh(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:Yv(i.bundledQuery),readTime:Dl(i.readTime)};var i})}saveNamedQuery(e,t){return mh(e).put({name:(r=t).name,readTime:ph(Rr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function ap(n){return Br(n,"bundles")}function mh(n){return Br(n,"namedQueries")}class Xv{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new Xv(e,t.uid||"")}getOverlay(e,t){return yh(e).get(Qv(this.userId,t)).next(r=>r?$m(this.M,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach((u,c)=>{const p=new Zv(t,c);i.push(this.Xt(e,p))}),de.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(vi(c.getCollectionPath())));const u=[];return i.forEach(c=>{const p=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);u.push(yh(e).Qt("collectionPathOverlayIndex",p))}),de.waitFor(u)}getOverlaysForCollection(e,t,r){const i=ah(),u=vi(t),c=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return yh(e).qt("collectionPathOverlayIndex",c).next(p=>{for(const y of p){const b=$m(this.M,y);i.set(b.getKey(),b)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const u=ah();let c;const p=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return yh(e).Wt({index:"collectionGroupOverlayIndex",range:p},(y,b,S)=>{const x=$m(this.M,b);u.size()<i||x.largestBatchId===c?(u.set(x.getKey(),x),c=x.largestBatchId):S.done()}).next(()=>u)}Xt(e,t){return yh(e).put(function(r,i,u){const[c,p,y]=Qv(i,u.mutation.key);return{userId:i,collectionPath:p,documentId:y,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:lh(r.Jt,u.mutation)}}(this.M,this.userId,t))}}function yh(n){return Br(n,"documentOverlays")}class Il{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Ln(e.integerValue));else if("doubleValue"in e){const r=Ln(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),Jd(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(pu(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?mv(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):ot()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),Ge.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function mT(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function Cb(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const u=mT(255&t[i]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}Il.fe=new Il;class e0{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const i=t.codePointAt(0);this._e(240|i>>>18),this._e(128|63&i>>>12),this._e(128|63&i>>>6),this._e(128|63&i)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const i=t.codePointAt(0);this.ge(240|i>>>18),this.ge(128|63&i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i)}}this.ye()}Te(e){const t=this.Ee(e),r=Cb(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Re(e){const t=this.Ee(e),r=Cb(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,i,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class yT{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class YS{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class up{constructor(){this.De=new e0,this.Ce=new yT(this.De),this.xe=new YS(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Uc{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Uc(this.indexId,this.documentKey,this.arrayValue,r)}}function Xs(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=t0(n.arrayValue,e.arrayValue),0!==t?t:(t=t0(n.directionalValue,e.directionalValue),0!==t?t:Ge.comparator(n.documentKey,e.documentKey)))}function t0(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class _h{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=Dm(e);if(void 0!==t&&!this.Be(t))return!1;const r=Ws(e);let i=0,u=0;for(;i<r.length&&this.Be(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Fe){const c=r[i];if(!this.Le(this.Fe,c)||!this.Ue(this.Me[u++],c))return!1;++i}for(;i<r.length;++i){const c=r[i];if(u>=this.Me.length||!this.Ue(this.Me[u++],c))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class QS{constructor(){this.qe=new Hm}addToCollectionParentIndex(e,t){return this.qe.add(t),de.resolve()}getCollectionParents(e,t){return de.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return de.resolve()}deleteFieldIndex(e,t){return de.resolve()}getDocumentsMatchingTarget(e,t){return de.resolve(null)}getIndexType(e,t){return de.resolve(0)}getFieldIndexes(e,t){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,t){return de.resolve(Ks.min())}updateCollectionGroup(e,t,r){return de.resolve()}updateIndexEntries(e,t){return de.resolve()}}class Hm{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new _n(Gt.comparator),u=!i.has(r);return this.index[t]=i.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new _n(Gt.comparator)).toArray()}}const Gm=new Uint8Array(0);class JS{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new Hm,this.Ge=new _u(r=>vl(r),(r,i)=>Kf(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const u={collectionId:r,parent:vi(i)};return n0(e).put(u)}return de.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[Ow(t),""],!1,!0);return n0(e).qt(i).next(u=>{for(const c of u){if(c.collectionId!==t)break;r.push(va(c.parent))}return r})}addFieldIndex(e,t){const r=lp(e),i={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var u;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=lp(e),i=vh(e),u=qm(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=qm(e);let i=!0;const u=new Map;return de.forEach(this.Qe(t),c=>this.je(e,c).next(p=>{i&&(i=!!p),u.set(c,p)})).next(()=>{if(i){let c=an();const p=[];return de.forEach(u,(y,b)=>{var S;Le("IndexedDbIndexManager",`Using index ${S=y,`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(He=>`${He.fieldPath}:${He.kind}`).join(",")}`} to execute ${vl(t)}`);const x=function(He,nt){const Et=Dm(nt);if(void 0===Et)return null;for(const Tt of Am(He,Et.fieldPath))switch(Tt.op){case"array-contains-any":return Tt.value.arrayValue.values||[];case"array-contains":return[Tt.value]}return null}(b,y),F=function(He,nt){const Et=new Map;for(const Tt of Ws(nt))for(const Lt of Am(He,Tt.fieldPath))switch(Lt.op){case"==":case"in":Et.set(Tt.fieldPath.canonicalString(),Lt.value);break;case"not-in":case"!=":return Et.set(Tt.fieldPath.canonicalString(),Lt.value),Array.from(Et.values())}return null}(b,y),B=function(He,nt){const Et=[];let Tt=!0;for(const Lt of Ws(nt)){const mr=0===Lt.kind?Lw(He,Lt.fieldPath,He.startAt):Sm(He,Lt.fieldPath,He.startAt);Et.push(mr.value),Tt&&(Tt=mr.inclusive)}return new yu(Et,Tt)}(b,y),q=function(He,nt){const Et=[];let Tt=!0;for(const Lt of Ws(nt)){const mr=0===Lt.kind?Sm(He,Lt.fieldPath,He.endAt):Lw(He,Lt.fieldPath,He.endAt);Et.push(mr.value),Tt&&(Tt=mr.inclusive)}return new yu(Et,Tt)}(b,y),se=this.We(y,b,B),De=this.We(y,b,q),Qe=this.ze(y,b,F),et=this.He(y.indexId,x,se,B.inclusive,De,q.inclusive,Qe);return de.forEach(et,He=>r.Gt(He,t.limit).next(nt=>{nt.forEach(Et=>{const Tt=Ge.fromSegments(Et.documentKey);c.has(Tt)||(c=c.add(Tt),p.push(Tt))})}))}).next(()=>p)}return de.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}He(e,t,r,i,u,c,p){const y=(null!=t?t.length:1)*Math.max(r.length,u.length),b=y/(null!=t?t.length:1),S=[];for(let x=0;x<y;++x){const F=t?this.Je(t[x/b]):Gm,B=this.Ye(e,F,r[x%b],i),q=this.Xe(e,F,u[x%b],c),se=p.map(De=>this.Ye(e,F,De,!0));S.push(...this.createRange(B,q,se))}return S}Ye(e,t,r,i){const u=new Uc(e,Ge.empty(),t,r);return i?u:u.ke()}Xe(e,t,r,i){const u=new Uc(e,Ge.empty(),t,r);return i?u.ke():u}je(e,t){const r=new _h(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(u=>{let c=null;for(const p of u)r.$e(p)&&(!c||p.fields.length>c.fields.length)&&(c=p);return c})}getIndexType(e,t){let r=2;return de.forEach(this.Qe(t),i=>this.je(e,i).next(u=>{u?0!==r&&u.fields.length<function(c){let p=new _n(tr.comparator),y=!1;for(const b of c.filters){const S=b;S.field.isKeyField()||("array-contains"===S.op||"array-contains-any"===S.op?y=!0:p=p.add(S.field))}for(const b of c.orderBy)b.field.isKeyField()||(p=p.add(b.field));return p.size+(y?1:0)}(i)&&(r=1):r=0})).next(()=>r)}Ze(e,t){const r=new up;for(const i of Ws(e)){const u=t.data.field(i.fieldPath);if(null==u)return null;const c=r.Ne(i.kind);Il.fe.Zt(u,c)}return r.Se()}Je(e){const t=new up;return Il.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const r=new up;return Il.fe.Zt(_l(this.databaseId,t),r.Ne(function(i){const u=Ws(i);return 0===u.length?0:u[u.length-1].kind}(e))),r.Se()}ze(e,t,r){if(null===r)return[];let i=[];i.push(new up);let u=0;for(const c of Ws(e)){const p=r[u++];for(const y of i)if(this.en(t,c.fieldPath)&&Xd(p))i=this.nn(i,c,p);else{const b=y.Ne(c.kind);Il.fe.Zt(p,b)}}return this.sn(i)}We(e,t,r){return this.ze(e,t,r.position)}sn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}nn(e,t,r){const i=[...e],u=[];for(const c of r.arrayValue.values||[])for(const p of i){const y=new up;y.seed(p.Se()),Il.fe.Zt(c,y.Ne(t.kind)),u.push(y)}return u}en(e,t){return!!e.filters.find(r=>r instanceof rr&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=lp(e),i=vh(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(u=>{const c=[];return de.forEach(u,p=>i.get([p.indexId,this.uid]).next(y=>{c.push(function(b,S){const x=S?new Wf(S.sequenceNumber,new Ks(Dl(S.readTime),new Ge(va(S.documentKey)),S.largestBatchId)):Wf.empty(),F=b.fields.map(([B,q])=>new Im(tr.fromServerFormat(B),q));return new zf(b.indexId,b.collectionGroup,F,x)}(p,y))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const u=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==u?u:Ft(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=lp(e),u=vh(e);return this.rn(e).next(c=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(p=>de.forEach(p,y=>{return u.put({indexId:y.indexId,uid:this.user.uid||"",sequenceNumber:c,readTime:ph((F=r).readTime),documentKey:vi(F.documentKey.path),largestBatchId:F.largestBatchId});var F})))}updateIndexEntries(e,t){const r=new Map;return de.forEach(t,(i,u)=>{const c=r.get(i.collectionGroup);return(c?de.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(p=>(r.set(i.collectionGroup,p),de.forEach(p,y=>this.on(e,i,y).next(b=>{const S=this.un(u,y);return b.isEqual(S)?de.resolve():this.an(e,u,y,b,S)}))))})}cn(e,t,r,i){return qm(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.tn(r,t.key),documentKey:t.key.path.toArray()})}hn(e,t,r,i){return qm(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.tn(r,t.key),t.key.path.toArray()])}on(e,t,r){const i=qm(e);let u=new _n(Xs);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.tn(r,t)])},(c,p)=>{u=u.add(new Uc(r.indexId,t,p.arrayValue,p.directionalValue))}).next(()=>u)}un(e,t){let r=new _n(Xs);const i=this.Ze(t,e);if(null==i)return r;const u=Dm(t);if(null!=u){const c=e.data.field(u.fieldPath);if(Xd(c))for(const p of c.arrayValue.values||[])r=r.add(new Uc(t.indexId,e.key,this.Je(p),i))}else r=r.add(new Uc(t.indexId,e.key,Gm,i));return r}an(e,t,r,i,u){Le("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(p,y,b,S,x){const F=p.getIterator(),B=y.getIterator();let q=Oi(F),se=Oi(B);for(;q||se;){let De=!1,Qe=!1;if(q&&se){const et=b(q,se);et<0?Qe=!0:et>0&&(De=!0)}else null!=q?Qe=!0:De=!0;De?(S(se),se=Oi(B)):Qe?(x(q),q=Oi(F)):(q=Oi(F),se=Oi(B))}}(i,u,Xs,p=>{c.push(this.cn(e,t,r,p))},p=>{c.push(this.hn(e,t,r,p))}),de.waitFor(c)}rn(e){let t=1;return vh(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,u)=>{u.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,p)=>Xs(c,p)).filter((c,p,y)=>!p||0!==Xs(c,y[p-1]));const i=[];i.push(e);for(const c of r){const p=Xs(c,e),y=Xs(c,t);if(0===p)i[0]=e.ke();else if(p>0&&y<0)i.push(c),i.push(c.ke());else if(y>0)break}i.push(t);const u=[];for(let c=0;c<i.length;c+=2)u.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,Gm,[]],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,Gm,[]]));return u}getMinOffset(e,t){let r;return de.forEach(this.Qe(t),i=>this.je(e,i).next(u=>{u?(!r||NI(u.indexState.offset,r)<0)&&(r=u.indexState.offset):r=Ks.min()})).next(()=>r)}}function n0(n){return Br(n,"collectionParents")}function qm(n){return Br(n,"indexEntries")}function lp(n){return Br(n,"indexConfiguration")}function vh(n){return Br(n,"indexState")}const Db={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Pi{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Pi(e,Pi.DEFAULT_COLLECTION_PERCENTILE,Pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Ib(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),u=[],c=IDBKeyRange.only(t.batchId);let p=0;const y=r.Wt({range:c},(S,x,F)=>(p++,F.delete()));u.push(y.next(()=>{Ct(1===p)}));const b=[];for(const S of t.mutations){const x=fb(e,S.key.path,t.batchId);u.push(i.delete(x)),b.push(S.key)}return de.waitFor(u).next(()=>b)}function zm(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ot();e=n.noDocument}return JSON.stringify(e).length}Pi.DEFAULT_COLLECTION_PERCENTILE=10,Pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pi.DEFAULT=new Pi(41943040,Pi.DEFAULT_COLLECTION_PERCENTILE,Pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pi.DISABLED=new Pi(-1,0,0);class r0{constructor(e,t,r,i){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=i,this.ln={}}static Yt(e,t,r,i){Ct(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new r0(u,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Tl(e).Wt({index:"userMutationsIndex",range:r},(i,u,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const u=Eh(e),c=Tl(e);return c.add({}).next(p=>{Ct("number"==typeof p);const y=new Um(p,t,r,i),b=function(F,B,q){const se=q.baseMutations.map(Qe=>lh(F.Jt,Qe)),De=q.mutations.map(Qe=>lh(F.Jt,Qe));return{userId:B,batchId:q.batchId,localWriteTimeMs:q.localWriteTime.toMillis(),baseMutations:se,mutations:De}}(this.M,this.userId,y),S=[];let x=new _n((F,B)=>Ft(F.canonicalString(),B.canonicalString()));for(const F of i){const B=fb(this.userId,F.key.path,p);x=x.add(F.key.path.popLast()),S.push(c.put(b)),S.push(u.put(B,rT))}return x.forEach(F=>{S.push(this.indexManager.addToCollectionParentIndex(e,F))}),e.addOnCommittedListener(()=>{this.ln[p]=y.keys()}),de.waitFor(S).next(()=>y)})}lookupMutationBatch(e,t){return Tl(e).get(t).next(r=>r?(Ct(r.userId===this.userId),gh(this.M,r)):null)}fn(e,t){return this.ln[t]?de.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.ln[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return Tl(e).Wt({index:"userMutationsIndex",range:i},(c,p,y)=>{p.userId===this.userId&&(Ct(p.batchId>=r),u=gh(this.M,p)),y.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Tl(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(i,u,c)=>{r=u.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Tl(e).qt("userMutationsIndex",t).next(r=>r.map(i=>gh(this.M,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=ip(this.userId,t.path),i=IDBKeyRange.lowerBound(r),u=[];return Eh(e).Wt({range:i},(c,p,y)=>{const[b,S,x]=c,F=va(S);if(b===this.userId&&t.path.isEqual(F))return Tl(e).get(x).next(B=>{if(!B)throw ot();Ct(B.userId===this.userId),u.push(gh(this.M,B))});y.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new _n(Ft);const i=[];return t.forEach(u=>{const c=ip(this.userId,u.path),p=IDBKeyRange.lowerBound(c),y=Eh(e).Wt({range:p},(b,S,x)=>{const[F,B,q]=b,se=va(B);F===this.userId&&u.path.isEqual(se)?r=r.add(q):x.done()});i.push(y)}),de.waitFor(i).next(()=>this.dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,u=ip(this.userId,r),c=IDBKeyRange.lowerBound(u);let p=new _n(Ft);return Eh(e).Wt({range:c},(y,b,S)=>{const[x,F,B]=y,q=va(F);x===this.userId&&r.isPrefixOf(q)?q.length===i&&(p=p.add(B)):S.done()}).next(()=>this.dn(e,p))}dn(e,t){const r=[],i=[];return t.forEach(u=>{i.push(Tl(e).get(u).next(c=>{if(null===c)throw ot();Ct(c.userId===this.userId),r.push(gh(this.M,c))}))}),de.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return Ib(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),de.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return de.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Eh(e).Wt({range:r},(u,c,p)=>{if(u[0]===this.userId){const y=va(u[1]);i.push(y)}else p.done()}).next(()=>{Ct(0===i.length)})})}containsKey(e,t){return Tb(e,this.userId,t)}wn(e){return Ab(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Tb(n,e,t){const r=ip(e,t.path),i=r[1],u=IDBKeyRange.lowerBound(r);let c=!1;return Eh(n).Wt({range:u,jt:!0},(p,y,b)=>{const[S,x,F]=p;S===e&&x===i&&(c=!0),b.done()}).next(()=>c)}function Tl(n){return Br(n,"mutations")}function Eh(n){return Br(n,"documentMutations")}function Ab(n){return Br(n,"mutationQueues")}class jc{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new jc(0)}static yn(){return new jc(-1)}}class cp{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const r=new jc(t.highestTargetId);return t.highestTargetId=r.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>vt.fromTimestamp(new gr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.pn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.In(e,i)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(r=>(r.targetCount+=1,this.En(t,r),this.In(e,r))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>$c(e).delete(t.targetId)).next(()=>this.pn(e)).next(r=>(Ct(r.targetCount>0),r.targetCount-=1,this.In(e,r)))}removeTargets(e,t,r){let i=0;const u=[];return $c(e).Wt((c,p)=>{const y=op(p);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(i++,u.push(this.removeTargetData(e,y)))}).next(()=>de.waitFor(u)).next(()=>i)}forEachTarget(e,t){return $c(e).Wt((r,i)=>{const u=op(i);t(u)})}pn(e){return s0(e).get("targetGlobalKey").next(t=>(Ct(null!==t),t))}In(e,t){return s0(e).put("targetGlobalKey",t)}Tn(e,t){return $c(e).put(bb(this.M,t))}En(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=vl(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return $c(e).Wt({range:i,index:"queryTargetsIndex"},(c,p,y)=>{const b=op(p);Kf(t,b.target)&&(u=b,y.done())}).next(()=>u)}addMatchingKeys(e,t,r){const i=[],u=vu(e);return t.forEach(c=>{const p=vi(c.path);i.push(u.put({targetId:r,path:p})),i.push(this.referenceDelegate.addReference(e,r,c))}),de.waitFor(i)}removeMatchingKeys(e,t,r){const i=vu(e);return de.forEach(t,u=>{const c=vi(u.path);return de.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=vu(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=vu(e);let u=an();return i.Wt({range:r,jt:!0},(c,p,y)=>{const b=va(c[1]),S=new Ge(b);u=u.add(S)}).next(()=>u)}containsKey(e,t){const r=vi(t.path),i=IDBKeyRange.bound([r],[Ow(r)],!1,!0);let u=0;return vu(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},([c,p],y,b)=>{0!==c&&(u++,b.done())}).next(()=>u>0)}Et(e,t){return $c(e).get(t).next(r=>r?op(r):null)}}function $c(n){return Br(n,"targets")}function s0(n){return Br(n,"targetGlobal")}function vu(n){return Br(n,"targetDocuments")}function Al(n){return Wm.apply(this,arguments)}function Wm(){return Wm=(0,be.Z)(function*(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==_b)throw n;Le("LocalStore","Unexpectedly lost primary lease")}),Wm.apply(this,arguments)}function o0([n,e],[t,r]){const i=Ft(n,t);return 0===i?Ft(e,r):i}class _T{constructor(e){this.An=e,this.buffer=new _n(o0),this.Rn=0}bn(){return++this.Rn}Pn(e){const t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();o0(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Sb{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const r=this.Vn?3e5:6e4;Le("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,be.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){Vc(i)?Le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Al(i)}yield t.Sn(e)}))}}class Mb{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return de.resolve(es.A);const r=new _T(t);return this.Dn.forEachTarget(e,i=>r.Pn(i.sequenceNumber)).next(()=>this.Dn.xn(e,i=>r.Pn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Dn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(Db)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Db):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let r,i,u,c,p,y,b;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),i=this.params.maximumSequenceNumbersToCollect):i=x,c=Date.now(),this.nthSequenceNumber(e,i))).next(x=>(r=x,p=Date.now(),this.removeTargets(e,r,t))).next(x=>(u=x,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(x=>(b=Date.now(),Tw()<=rl.in.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-S}ms\n\tDetermined least recently used ${i} in `+(p-c)+`ms\n\tRemoved ${u} targets in `+(y-p)+`ms\n\tRemoved ${x} documents in `+(b-y)+`ms\nTotal Duration: ${b-S}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:u,documentsRemoved:x})))}}class vT{constructor(e,t){this.db=e,this.garbageCollector=new Mb(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}kn(e){let t=0;return this.xn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(r,i)=>t(i))}addReference(e,t,r){return Km(e,r)}removeReference(e,t,r){return Km(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Km(e,t)}On(e,t){return function(r,i){let u=!1;return Ab(r).zt(c=>Tb(r,c,i).next(p=>(p&&(u=!0),de.resolve(!p)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let u=0;return this.Mn(e,(c,p)=>{if(p<=t){const y=this.On(e,c).next(b=>{if(!b)return u++,r.getEntry(e,c).next(()=>(r.removeEntry(c,vt.min()),vu(e).delete([0,vi(c.path)])))});i.push(y)}}).next(()=>de.waitFor(i)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Km(e,t)}Mn(e,t){const r=vu(e);let i,u=es.A;return r.Wt({index:"documentTargetsIndex"},([c,p],{path:y,sequenceNumber:b})=>{0===c?(u!==es.A&&t(new Ge(va(i)),u),u=b,i=y):u=es.A}).next(()=>{u!==es.A&&t(new Ge(va(i)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Km(n,e){return vu(n).put((r=n.currentSequenceNumber,{targetId:0,path:vi(e.path),sequenceNumber:r}));var r}class xb{constructor(){this.changes=new _u(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,In.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?de.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class dp{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Ei(e).put(r)}removeEntry(e,t,r){return Ei(e).delete(function(i,u){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],jm(u),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Fn(e,r)))}getEntry(e,t){let r=In.newInvalidDocument(t);return Ei(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(hp(t))},(i,u)=>{r=this.$n(t,u)}).next(()=>r)}Bn(e,t){let r={size:0,document:In.newInvalidDocument(t)};return Ei(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(hp(t))},(i,u)=>{r={document:this.$n(t,u),size:zm(u)}}).next(()=>r)}getEntries(e,t){let r=Qs();return this.Ln(e,t,(i,u)=>{const c=this.$n(i,u);r=r.insert(i,c)}).next(()=>r)}Un(e,t){let r=Qs(),i=new Gn(Ge.comparator);return this.Ln(e,t,(u,c)=>{const p=this.$n(u,c);r=r.insert(u,p),i=i.insert(u,zm(c))}).next(()=>({documents:r,qn:i}))}Ln(e,t,r){if(t.isEmpty())return de.resolve();let i=new _n(wh);t.forEach(y=>i=i.add(y));const u=IDBKeyRange.bound(hp(i.first()),hp(i.last())),c=i.getIterator();let p=c.getNext();return Ei(e).Wt({index:"documentKeyIndex",range:u},(y,b,S)=>{const x=Ge.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;p&&wh(p,x)<0;)r(p,null),p=c.getNext();p&&p.isEqual(x)&&(r(p,b),p=c.hasNext()?c.getNext():null),p?S.Ut(hp(p)):S.done()}).next(()=>{for(;p;)r(p,null),p=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),jm(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ei(e).qt(IDBKeyRange.bound(i,u,!0)).next(c=>{let p=Qs();for(const y of c){const b=this.$n(Ge.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);p=p.insert(b.key,b)}return p})}getAllFromCollectionGroup(e,t,r,i){let u=Qs();const c=Ym(t,r),p=Ym(t,Ks.max());return Ei(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,p,!0)},(y,b,S)=>{const x=this.$n(Ge.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);u=u.insert(x.key,x),u.size===i&&S.done()}).next(()=>u)}newChangeBuffer(e){return new ET(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Zm(e).get("remoteDocumentGlobalKey").next(t=>(Ct(!!t),t))}Fn(e,t){return Zm(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const r=function hh(n,e){let t;if(e.document)t=rp(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ge.fromSegments(e.noDocument.path),i=Dl(e.noDocument.readTime);t=In.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ot();{const r=Ge.fromSegments(e.unknownDocument.path),i=Dl(e.unknownDocument.version);t=In.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new gr(r[0],r[1]);return vt.fromTimestamp(i)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(vt.min()))return r}return In.newInvalidDocument(e)}}class ET extends xb{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new _u(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new _n((u,c)=>Ft(u.canonicalString(),c.canonicalString()));return this.changes.forEach((u,c)=>{const p=this.Gn.get(u);if(t.push(this.Kn.removeEntry(e,u,p.readTime)),c.isValidDocument()){const y=fh(this.Kn.M,c);i=i.add(u.path.popLast()),r+=zm(y)-p.size,t.push(this.Kn.addEntry(e,u,y))}else if(r-=p.size,this.trackRemovals){const y=fh(this.Kn.M,c.convertToNoDocument(vt.min()));t.push(this.Kn.addEntry(e,u,y))}}),i.forEach(u=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.Kn.updateMetadata(e,r)),de.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:r,qn:i})=>(i.forEach((u,c)=>{this.Gn.set(u,{size:c,readTime:r.get(u).readTime})}),r))}}function Zm(n){return Br(n,"remoteDocumentGlobal")}function Ei(n){return Br(n,"remoteDocumentsV14")}function hp(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Ym(n,e){const t=e.documentKey.path.toArray();return[n,jm(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function wh(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(i=Ft(t[u],r[u]),i)return i;return i=Ft(t.length,r.length),i||(i=Ft(t[t.length-2],r[r.length-2]),i||Ft(t[t.length-1],r[r.length-1]))}class wT{constructor(e){this.M=e}kt(e,t,r,i){const u=new dh("createOrUpgrade",t);var p;r<1&&i>=1&&(e.createObjectStore("owner"),(p=e).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",jv,{unique:!0}),p.createObjectStore("documentMutations"),Rb(e),function(p){p.createObjectStore("remoteDocuments")}(e));let c=de.resolve();return r<3&&i>=3&&(0!==r&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(e),Rb(e)),c=c.next(()=>function(p){const y=p.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:vt.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",b)}(u))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(p,y){return y.store("mutations").qt().next(b=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",jv,{unique:!0});const S=y.store("mutations"),x=b.map(F=>S.put(F));return de.waitFor(x)})}(e,u))),c=c.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.Qn(u))),r<6&&i>=6&&(c=c.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(e),this.jn(u)))),r<7&&i>=7&&(c=c.next(()=>this.Wn(u))),r<8&&i>=8&&(c=c.next(()=>this.zn(e,u))),r<9&&i>=9&&(c=c.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.Hn(u))),r<11&&i>=11&&(c=c.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(p){const y=p.createObjectStore("documentOverlays",{keyPath:fT});y.createIndex("collectionPathOverlayIndex",gb,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",mb,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(p){const y=p.createObjectStore("remoteDocumentsV14",{keyPath:iT});y.createIndex("documentKeyIndex",$v),y.createIndex("collectionGroupIndex",sT)}(e)).next(()=>this.Jn(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>{!function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:lT}).createIndex("sequenceNumberIndex",cT,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:dT}).createIndex("documentKeyIndex",hT,{unique:!1})}(e)})),c}jn(e){let t=0;return e.store("remoteDocuments").Wt((r,i)=>{t+=zm(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Qn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(i=>de.forEach(i,u=>{const c=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",c).next(p=>de.forEach(p,y=>{Ct(y.userId===u.userId);const b=gh(this.M,y);return Ib(e,u.userId,b).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const u=[];return r.Wt((c,p)=>{const y=new Gt(c),b=[0,vi(y)];u.push(t.get(b).next(S=>S?de.resolve():t.put({targetId:0,path:vi(y),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>de.waitFor(u))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:uT});const r=t.store("collectionParents"),i=new Hm,u=c=>{if(i.add(c)){const p=c.lastSegment(),y=c.popLast();return r.put({collectionId:p,parent:vi(y)})}};return t.store("remoteDocuments").Wt({jt:!0},(c,p)=>{const y=new Gt(c);return u(y.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([c,p,y],b)=>{const S=va(p);return u(S.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((r,i)=>{const u=op(i),c=bb(this.M,u);return t.put(c)})}Jn(e,t){const r=t.store("remoteDocuments"),i=[];return r.Wt((u,c)=>{const p=t.store("remoteDocumentsV14"),y=(b=c,b.document?new Ge(Gt.fromString(b.document.name).popFirst(5)):b.noDocument?Ge.fromSegments(b.noDocument.path):b.unknownDocument?Ge.fromSegments(b.unknownDocument.path):ot()).path.toArray();var b;const S={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(p.put(S))}).next(()=>de.waitFor(i))}}function Rb(n){n.createObjectStore("targetDocuments",{keyPath:oT}).createIndex("documentTargetsIndex",aT,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",pb,{unique:!0}),n.createObjectStore("targetGlobal")}const a0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class bh{constructor(e,t,r,i,u,c,p,y,b,S,x=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Yn=u,this.window=c,this.document=p,this.Xn=b,this.Zn=S,this.ts=x,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=F=>Promise.resolve(),!bh.vt())throw new Ne(ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new vT(this,i),this.hs=t+"main",this.M=new wb(y),this.ls=new Js(this.hs,this.ts,new wT(this.M)),this.fs=new cp(this.referenceDelegate,this.M),this.ds=new dp(this.M),this._s=new Jv,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===S&&pr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ne(ce.FAILED_PRECONDITION,a0);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new es(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var r=(0,be.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,be.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,be.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Qm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.bs(e).next(()=>!0))).catch(e=>{if(Vc(e))return Le("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Le("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return Sl(e).get("owner").next(t=>de.resolve(this.Ps(t)))}Vs(e){return Qm(e).delete(this.clientId)}vs(){var e=this;return(0,be.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Br(r,"clientMetadata");return i.qt().next(u=>{const c=e.Ds(u,18e5),p=u.filter(y=>-1===c.indexOf(y));return de.forEach(p,y=>i.delete(y.clientId)).next(()=>p)})}).catch(()=>[]);if(e.ws)for(const r of t)e.ws.removeItem(e.Cs(r.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?de.resolve(!0):Sl(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.Ps(t)&&this.networkEnabled)return!0;if(!this.Ps(t)){if(!t.allowTabSynchronization)throw new Ne(ce.FAILED_PRECONDITION,a0);return!1}}return!(!this.networkEnabled||!this.inForeground)||Qm(e).qt().next(r=>void 0===this.Ds(r,5e3).find(i=>{if(this.clientId!==i.clientId){const c=!this.inForeground&&i.inForeground,p=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||c&&p)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Le("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,be.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new Kv(t,es.A);return e.Rs(r).next(()=>e.Vs(r))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(r=>this.Ss(r.updateTimeMs,t)&&!this.xs(r.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>Qm(e).qt().next(t=>this.Ds(t,18e5).map(r=>r.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return r0.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new JS(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return Xv.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,r){Le("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",u=14===(c=this.ts)?gT:13===c?Hv:12===c?pT:11===c?yb:void ot();var c;let p;return this.ls.runTransaction(e,i,u,y=>(p=new Kv(y,this.es?this.es.next():es.A),"readwrite-primary"===t?this.Es(p).next(b=>!!b||this.As(p)).next(b=>{if(!b)throw pr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new Ne(ce.FAILED_PRECONDITION,_b);return r(p)}).next(b=>this.bs(p).next(()=>b)):this.$s(p).next(()=>r(p)))).then(y=>(p.raiseOnCommittedEvent(),y))}$s(e){return Sl(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.Ps(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ne(ce.FAILED_PRECONDITION,a0)})}bs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Sl(e).put("owner",t)}static vt(){return Js.vt()}Rs(e){const t=Sl(e);return t.get("owner").next(r=>this.Ps(r)?(Le("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):de.resolve())}Ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(pr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,$t.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const r=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Le("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return pr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){pr("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Sl(n){return Br(n,"owner")}function Qm(n){return Br(n,"clientMetadata")}function u0(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Nb{constructor(e,t,r){this.ds=e,this.Bs=t,this.indexManager=r}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Us(e,t,r))}Us(e,t,r){return this.ds.getEntry(e,t).next(i=>{for(const u of r)u.applyToLocalView(i);return i})}qs(e,t){e.forEach((r,i)=>{for(const u of t)u.applyToLocalView(i)})}Ks(e,t){return this.ds.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.qs(t,r))}Qs(e,t,r){return Ge.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.js(e,t.path):Iv(t)?this.Ws(e,t,r):this.zs(e,t,r);var i}js(e,t){return this.Ls(e,new Ge(t)).next(r=>{let i=Fm();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ws(e,t,r){const i=t.collectionGroup;let u=Fm();return this.indexManager.getCollectionParents(e,i).next(c=>de.forEach(c,p=>{const y=(b=t,S=p.child(i),new ya(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,S;return this.zs(e,y,r).next(b=>{b.forEach((S,x)=>{u=u.insert(S,x)})})}).next(()=>u))}zs(e,t,r){let i;return this.ds.getAllFromCollection(e,t.path,r).next(u=>(i=u,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(u=>{for(const c of u)for(const p of c.mutations){const y=p.key;let b=i.get(y);null==b&&(b=In.newInvalidDocument(y),i=i.insert(y,b)),Jw(p,b,c.localWriteTime),b.isFoundDocument()||(i=i.remove(y))}}).next(()=>(i.forEach((u,c)=>{Av(t,c)||(i=i.remove(u))}),i))}}class Jm{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hs=r,this.Js=i}static Ys(e,t){let r=an(),i=an();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}return new Jm(e,t.fromCache,r,i)}}class Xm{constructor(){this.Xs=!1}initialize(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}Qs(e,t,r,i){return this.ti(e,t).next(u=>u||this.ei(e,t,i,r)).next(u=>u||this.ni(e,t))}ti(e,t){return de.resolve(null)}ei(e,t,r,i){return function jw(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||i.isEqual(vt.min())?this.ni(e,t):this.Zs.Ks(e,r).next(u=>{const c=this.si(t,u);return this.ii(t,c,r,i)?this.ni(e,t):(Tw()<=rl.in.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Tv(t)),this.ri(e,c,t,vv(i,-1)))})}si(e,t){let r=new _n(qw(e));return t.forEach((i,u)=>{Av(e,u)&&(r=r.add(u))}),r}ii(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(i)>0)}ni(e,t){return Tw()<=rl.in.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",Tv(t)),this.Zs.Qs(e,t,Ks.min())}ri(e,t,r,i){return this.Zs.Qs(e,r,i).next(u=>(t.forEach(c=>{u=u.insert(c.key,c)}),u))}}class Ob{constructor(e,t,r,i){this.persistence=e,this.oi=t,this.M=i,this.ui=new Gn(Ft),this.ai=new _u(u=>vl(u),Kf),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(r)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new Nb(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ui))}}function Pb(n,e,t,r){return new Ob(n,e,t,r)}function kb(n,e){return Fb.apply(this,arguments)}function Fb(){return Fb=(0,be.Z)(function*(n,e){const t=Ke(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.Bs.getAllMutationBatches(r).next(u=>(i=u,t.li(e),t.Bs.getAllMutationBatches(r))).next(u=>{const c=[],p=[];let y=an();for(const b of i){c.push(b.batchId);for(const S of b.mutations)y=y.add(S.key)}for(const b of u){p.push(b.batchId);for(const S of b.mutations)y=y.add(S.key)}return t.fi.Ks(r,y).next(b=>({di:b,removedBatchIds:c,addedBatchIds:p}))})})}),Fb.apply(this,arguments)}function l0(n,e){const t=Ke(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),u=t.hi.newChangeBuffer({trackRemovals:!0});return function(c,p,y,b){const S=y.batch,x=S.keys();let F=de.resolve();return x.forEach(B=>{F=F.next(()=>b.getEntry(p,B)).next(q=>{const se=y.docVersions.get(B);Ct(null!==se),q.version.compareTo(se)<0&&(S.applyToRemoteDocument(q,y),q.isValidDocument()&&(q.setReadTime(y.commitVersion),b.addEntry(q)))})}),F.next(()=>c.Bs.removeMutationBatch(p,S))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.Bs.performConsistencyCheck(r)).next(()=>t.fi.Ks(r,i))})}function ey(n){const e=Ke(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function Lb(n,e){const t=Ke(n),r=e.snapshotVersion;let i=t.ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const c=t.hi.newChangeBuffer({trackRemovals:!0});i=t.ui;const p=[];e.targetChanges.forEach((b,S)=>{const x=i.get(S);if(!x)return;p.push(t.fs.removeMatchingKeys(u,b.removedDocuments,S).next(()=>t.fs.addMatchingKeys(u,b.addedDocuments,S)));let F=x.withSequenceNumber(u.currentSequenceNumber);var B,q,se;e.targetMismatches.has(S)?F=F.withResumeToken(nr.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):b.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(b.resumeToken,r)),i=i.insert(S,F),q=F,se=b,(0===(B=x).resumeToken.approximateByteSize()||q.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8||se.addedDocuments.size+se.modifiedDocuments.size+se.removedDocuments.size>0)&&p.push(t.fs.updateTargetData(u,F))});let y=Qs();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(u,b))}),p.push(ty(u,c,e.documentUpdates).next(b=>{y=b})),!r.isEqual(vt.min())){const b=t.fs.getLastRemoteSnapshotVersion(u).next(S=>t.fs.setTargetsMetadata(u,u.currentSequenceNumber,r));p.push(b)}return de.waitFor(p).next(()=>c.apply(u)).next(()=>t.fi.Gs(u,y)).next(()=>y)}).then(u=>(t.ui=i,u))}function ty(n,e,t){let r=an();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let u=Qs();return t.forEach((c,p)=>{const y=i.get(c);p.isNoDocument()&&p.version.isEqual(vt.min())?(e.removeEntry(c,p.readTime),u=u.insert(c,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||0===p.version.compareTo(y.version)&&y.hasPendingWrites?(e.addEntry(p),u=u.insert(c,p)):Le("LocalStore","Ignoring outdated watch update for ",c,". Current version:",y.version," Watch version:",p.version)}),u})}function c0(n,e){const t=Ke(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(r,e)))}function Ch(n,e){const t=Ke(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.fs.getTargetData(r,e).next(u=>u?(i=u,de.resolve(i)):t.fs.allocateTargetId(r).next(c=>(i=new Ro(e,c,0,r.currentSequenceNumber),t.fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ui=t.ui.insert(r.targetId,r),t.ai.set(e,r.targetId)),r})}function Dh(n,e,t){return d0.apply(this,arguments)}function d0(){return d0=(0,be.Z)(function*(n,e,t){const r=Ke(n),i=r.ui.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!Vc(c))throw c;Le("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.ui=r.ui.remove(e),r.ai.delete(i.target)}),d0.apply(this,arguments)}function ny(n,e,t){const r=Ke(n);let i=vt.min(),u=an();return r.persistence.runTransaction("Execute query","readonly",c=>function(p,y,b){const S=Ke(p),x=S.ai.get(b);return void 0!==x?de.resolve(S.ui.get(x)):S.fs.getTargetData(y,b)}(r,c,Ys(e)).next(p=>{if(p)return i=p.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(c,p.targetId).next(y=>{u=y})}).next(()=>r.oi.Qs(c,e,t?i:vt.min(),t?u:an())).next(p=>(f0(r,Gw(e),p),{documents:p,_i:u})))}function h0(n,e){const t=Ke(n),r=Ke(t.fs),i=t.ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",u=>r.Et(u,e).next(c=>c?c.target:null))}function ry(n,e){const t=Ke(n),r=t.ci.get(e)||vt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.hi.getAllFromCollectionGroup(i,e,vv(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(f0(t,e,i),i))}function f0(n,e,t){let r=vt.min();t.forEach((i,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.ci.set(e,r)}function iy(){return iy=(0,be.Z)(function*(n,e,t,r){const i=Ke(n);let u=an(),c=Qs();for(const b of t){const S=e.wi(b.metadata.name);b.document&&(u=u.add(S));const x=e.mi(b);x.setReadTime(e.gi(b.metadata.readTime)),c=c.insert(S,x)}const p=i.hi.newChangeBuffer({trackRemovals:!0}),y=yield Ch(i,(b=r,Ys(Pc(Gt.fromString(`__bundle__/docs/${b}`)))));var b;return i.persistence.runTransaction("Apply bundle documents","readwrite",b=>ty(b,p,c).next(S=>(p.apply(b),S)).next(S=>i.fs.removeMatchingKeysForTargetId(b,y.targetId).next(()=>i.fs.addMatchingKeys(b,u,y.targetId)).next(()=>i.fi.Gs(b,S)).next(()=>S)))}),iy.apply(this,arguments)}function Vb(n,e){return p0.apply(this,arguments)}function p0(){return p0=(0,be.Z)(function*(n,e,t=an()){const r=yield Ch(n,Ys(Yv(e.bundledQuery))),i=Ke(n);return i.persistence.runTransaction("Save named query","readwrite",u=>{const c=Rr(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i._s.saveNamedQuery(u,e);const p=r.withResumeToken(nr.EMPTY_BYTE_STRING,c);return i.ui=i.ui.insert(p.targetId,p),i.fs.updateTargetData(u,p).next(()=>i.fs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>i.fs.addMatchingKeys(u,t,r.targetId)).next(()=>i._s.saveNamedQuery(u,e))})}),p0.apply(this,arguments)}class Bb{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,t){return de.resolve(this.yi.get(t))}saveBundleMetadata(e,t){var r;return this.yi.set(t.id,{id:(r=t).id,version:r.version,createTime:Rr(r.createTime)}),de.resolve()}getNamedQuery(e,t){return de.resolve(this.pi.get(t))}saveNamedQuery(e,t){return this.pi.set(t.name,{name:(r=t).name,query:Yv(r.bundledQuery),readTime:Rr(r.readTime)}),de.resolve();var r}}class Ub{constructor(){this.overlays=new Gn(Ge.comparator),this.Ii=new Map}getOverlay(e,t){return de.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,u)=>{this.Xt(e,t,u)}),de.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Ii.get(r);return void 0!==i&&(i.forEach(u=>this.overlays=this.overlays.remove(u)),this.Ii.delete(r)),de.resolve()}getOverlaysForCollection(e,t,r){const i=ah(),u=t.length+1,c=new Ge(t.child("")),p=this.overlays.getIteratorFrom(c);for(;p.hasNext();){const y=p.getNext().value,b=y.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===u&&y.largestBatchId>r&&i.set(y.getKey(),y)}return de.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let u=new Gn((b,S)=>b-S);const c=this.overlays.getIterator();for(;c.hasNext();){const b=c.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>r){let S=u.get(b.largestBatchId);null===S&&(S=ah(),u=u.insert(b.largestBatchId,S)),S.set(b.getKey(),b)}}const p=ah(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((b,S)=>p.set(b,S)),!(p.size()>=i)););return de.resolve(p)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const c=this.Ii.get(i.largestBatchId).delete(r.key);this.Ii.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new Zv(t,r));let u=this.Ii.get(t);void 0===u&&(u=an(),this.Ii.set(t,u)),this.Ii.set(t,u.add(r.key))}}class g0{constructor(){this.Ti=new _n(Nr.Ei),this.Ai=new _n(Nr.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,t){const r=new Nr(e,t);this.Ti=this.Ti.add(r),this.Ai=this.Ai.add(r)}bi(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Pi(new Nr(e,t))}Vi(e,t){e.forEach(r=>this.removeReference(r,t))}vi(e){const t=new Ge(new Gt([])),r=new Nr(t,e),i=new Nr(t,e+1),u=[];return this.Ai.forEachInRange([r,i],c=>{this.Pi(c),u.push(c.key)}),u}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const t=new Ge(new Gt([])),r=new Nr(t,e),i=new Nr(t,e+1);let u=an();return this.Ai.forEachInRange([r,i],c=>{u=u.add(c.key)}),u}containsKey(e){const t=new Nr(e,0),r=this.Ti.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Nr{constructor(e,t){this.key=e,this.Ci=t}static Ei(e,t){return Ge.comparator(e.key,t.key)||Ft(e.Ci,t.Ci)}static Ri(e,t){return Ft(e.Ci,t.Ci)||Ge.comparator(e.key,t.key)}}class CT{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.xi=1,this.Ni=new _n(Nr.Ei)}checkEmpty(e){return de.resolve(0===this.Bs.length)}addMutationBatch(e,t,r,i){const u=this.xi;this.xi++;const c=new Um(u,t,r,i);this.Bs.push(c);for(const p of i)this.Ni=this.Ni.add(new Nr(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return de.resolve(c)}lookupMutationBatch(e,t){return de.resolve(this.ki(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Mi(t+1),u=i<0?0:i;return de.resolve(this.Bs.length>u?this.Bs[u]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return de.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Nr(t,0),i=new Nr(t,Number.POSITIVE_INFINITY),u=[];return this.Ni.forEachInRange([r,i],c=>{const p=this.ki(c.Ci);u.push(p)}),de.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new _n(Ft);return t.forEach(i=>{const u=new Nr(i,0),c=new Nr(i,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([u,c],p=>{r=r.add(p.Ci)})}),de.resolve(this.Oi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let u=r;Ge.isDocumentKey(u)||(u=u.child(""));const c=new Nr(new Ge(u),0);let p=new _n(Ft);return this.Ni.forEachWhile(y=>{const b=y.key.path;return!!r.isPrefixOf(b)&&(b.length===i&&(p=p.add(y.Ci)),!0)},c),de.resolve(this.Oi(p))}Oi(e){const t=[];return e.forEach(r=>{const i=this.ki(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Ct(0===this.Fi(t.batchId,"removed")),this.Bs.shift();let r=this.Ni;return de.forEach(t.mutations,i=>{const u=new Nr(i.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Ni=r})}_n(e){}containsKey(e,t){const r=new Nr(t,0),i=this.Ni.firstAfterOrEqual(r);return de.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return de.resolve()}Fi(e,t){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class ki{constructor(e){this.$i=e,this.docs=new Gn(Ge.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),u=i?i.size:0,c=this.$i(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return de.resolve(r?r.document.mutableCopy():In.newInvalidDocument(t))}getEntries(e,t){let r=Qs();return t.forEach(i=>{const u=this.docs.get(i);r=r.insert(i,u?u.document.mutableCopy():In.newInvalidDocument(i))}),de.resolve(r)}getAllFromCollection(e,t,r){let i=Qs();const u=new Ge(t.child("")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:p,value:{document:y}}=c.getNext();if(!t.isPrefixOf(p.path))break;p.path.length>t.length+1||NI(RI(y),r)<=0||(i=i.insert(y.key,y.mutableCopy()))}return de.resolve(i)}getAllFromCollectionGroup(e,t,r,i){ot()}Bi(e,t){return de.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Ih(this)}getSize(e){return de.resolve(this.size)}}class Ih extends xb{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Kn.addEntry(e,i)):this.Kn.removeEntry(r)}),de.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class DT{constructor(e){this.persistence=e,this.Li=new _u(t=>vl(t),Kf),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.Ui=0,this.qi=new g0,this.targetCount=0,this.Ki=jc.gn()}forEachTarget(e,t){return this.Li.forEach((r,i)=>t(i)),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ui&&(this.Ui=t),de.resolve()}Tn(e){this.Li.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ki=new jc(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,de.resolve()}updateTargetData(e,t){return this.Tn(t),de.resolve()}removeTargetData(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,t,r){let i=0;const u=[];return this.Li.forEach((c,p)=>{p.sequenceNumber<=t&&null===r.get(p.targetId)&&(this.Li.delete(c),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),i++)}),de.waitFor(u).next(()=>i)}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,t){const r=this.Li.get(t)||null;return de.resolve(r)}addMatchingKeys(e,t,r){return this.qi.bi(t,r),de.resolve()}removeMatchingKeys(e,t,r){this.qi.Vi(t,r);const i=this.persistence.referenceDelegate,u=[];return i&&t.forEach(c=>{u.push(i.markPotentiallyOrphaned(e,c))}),de.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.qi.vi(t),de.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qi.Di(t);return de.resolve(r)}containsKey(e,t){return de.resolve(this.qi.containsKey(t))}}class IT{constructor(e,t){this.Gi={},this.overlays={},this.es=new es(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new DT(this),this.indexManager=new QS,this.ds=new ki(r=>this.referenceDelegate.Qi(r)),this.M=new wb(t),this._s=new Bb(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ub,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Gi[e.toKey()];return r||(r=new CT(t,this.referenceDelegate),this.Gi[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,r){Le("MemoryPersistence","Starting transaction:",e);const i=new XS(this.es.next());return this.referenceDelegate.ji(),r(i).next(u=>this.referenceDelegate.Wi(i).next(()=>u)).toPromise().then(u=>(i.raiseOnCommittedEvent(),u))}zi(e,t){return de.or(Object.values(this.Gi).map(r=>()=>r.containsKey(e,t)))}}class XS extends vb{constructor(e){super(),this.currentSequenceNumber=e}}class Hc{constructor(e){this.persistence=e,this.Hi=new g0,this.Ji=null}static Yi(e){return new Hc(e)}get Xi(){if(this.Ji)return this.Ji;throw ot()}addReference(e,t,r){return this.Hi.addReference(r,t),this.Xi.delete(r.toString()),de.resolve()}removeReference(e,t,r){return this.Hi.removeReference(r,t),this.Xi.add(r.toString()),de.resolve()}markPotentiallyOrphaned(e,t){return this.Xi.add(t.toString()),de.resolve()}removeTarget(e,t){this.Hi.vi(t.targetId).forEach(i=>this.Xi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(u=>this.Xi.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}ji(){this.Ji=new Set}Wi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.Xi,r=>{const i=Ge.fromPath(r);return this.Zi(e,i).next(u=>{u||t.removeEntry(i,vt.min())})}).next(()=>(this.Ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Zi(e,t).next(r=>{r?this.Xi.delete(t.toString()):this.Xi.add(t.toString())})}Qi(e){return 0}Zi(e,t){return de.or([()=>de.resolve(this.Hi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zi(e,t)])}}function jb(n,e){return`firestore_clients_${n}_${e}`}function sy(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function m0(n,e){return`firestore_targets_${n}_${e}`}class fp{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static tr(e,t,r){const i=JSON.parse(r);let u,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(u=new Ne(i.error.code,i.error.message))),c?new fp(e,t,i.state,u):(pr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class pp{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static tr(e,t){const r=JSON.parse(t);let i,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(i=new Ne(r.error.code,r.error.message))),u?new pp(e,r.state,i):(pr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class oy{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static tr(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,u=Cl();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=Em(r.activeTargetIds[c]),u=u.add(r.activeTargetIds[c]);return i?new oy(e,u):(pr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class gp{constructor(e,t){this.clientId=e,this.onlineState=t}static tr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new gp(t.clientId,t.onlineState):(pr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class ay{constructor(){this.activeTargetIds=Cl()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uy{constructor(e,t,r,i,u){this.window=e,this.Yn=t,this.persistenceKey=r,this.ir=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new Gn(Ft),this.started=!1,this.cr=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.hr=jb(this.persistenceKey,this.ir),this.lr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.ir,new ay),this.dr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.mr=`firestore_online_state_${this.persistenceKey}`,this.gr=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,be.Z)(function*(){const t=yield e.syncEngine.Fs();for(const i of t){if(i===e.ir)continue;const u=e.getItem(jb(e.persistenceKey,i));if(u){const c=oy.tr(i,u);c&&(e.ar=e.ar.insert(c.clientId,c))}}e.yr();const r=e.storage.getItem(e.mr);if(r){const i=e.pr(r);i&&e.Ir(i)}for(const i of e.cr)e.ur(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.lr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Er(e,"pending")}updateMutationState(e,t,r){this.Er(e,t,r),this.Ar(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(m0(this.persistenceKey,e));if(r){const i=pp.tr(e,r);i&&(t=i.state)}}return this.Rr.nr(e),this.yr(),t}removeLocalQueryTarget(e){this.Rr.sr(e),this.yr()}isLocalQueryTarget(e){return this.Rr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(m0(this.persistenceKey,e))}updateQueryState(e,t,r){this.br(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Ar(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Le("SharedClientState","READ",e,t),t}setItem(e,t){Le("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Le("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ur(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Le("SharedClientState","EVENT",r.key,r.newValue),r.key===this.hr)return void pr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,be.Z)(function*(){if(t.started){if(null!==r.key)if(t.dr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Sr(i,null)}{const i=t.Dr(r.key,r.newValue);if(i)return t.Sr(i.clientId,i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Cr(r.key,r.newValue);if(i)return t.Nr(i)}}else if(t.wr.test(r.key)){if(null!==r.newValue){const i=t.kr(r.key,r.newValue);if(i)return t.Mr(i)}}else if(r.key===t.mr){if(null!==r.newValue){const i=t.pr(r.newValue);if(i)return t.Ir(i)}}else if(r.key===t.lr){const i=function(u){let c=es.A;if(null!=u)try{const p=JSON.parse(u);Ct("number"==typeof p),c=p}catch(p){pr("SharedClientState","Failed to read sequence number from WebStorage",p)}return c}(r.newValue);i!==es.A&&t.sequenceNumberHandler(i)}else if(r.key===t.gr){const i=t.Or(r.newValue);yield Promise.all(i.map(u=>t.syncEngine.Fr(u)))}}else t.cr.push(r)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(e,t,r){const i=new fp(this.currentUser,e,t,r),u=sy(this.persistenceKey,this.currentUser,e);this.setItem(u,i.er())}Ar(e){const t=sy(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Pr(e){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:e}))}br(e,t,r){const i=m0(this.persistenceKey,e),u=new pp(e,t,r);this.setItem(i,u.er())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}vr(e){const t=this.dr.exec(e);return t?t[1]:null}Dr(e,t){const r=this.vr(e);return oy.tr(r,t)}Cr(e,t){const r=this._r.exec(e),i=Number(r[1]);return fp.tr(new Mr(void 0!==r[2]?r[2]:null),i,t)}kr(e,t){const r=this.wr.exec(e),i=Number(r[1]);return pp.tr(i,t)}pr(e){return gp.tr(e)}Or(e){return JSON.parse(e)}Nr(e){var t=this;return(0,be.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);Le("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}Sr(e,t){const r=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Tr(this.ar),u=this.Tr(r),c=[],p=[];return u.forEach(y=>{i.has(y)||c.push(y)}),i.forEach(y=>{u.has(y)||p.push(y)}),this.syncEngine.Lr(c,p).then(()=>{this.ar=r})}Ir(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Tr(e){let t=Cl();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class mp{constructor(){this.Ur=new ay,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new ay,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class y0{Kr(e){}shutdown(){}}class TT{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){Le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){Le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const $b={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class AT{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class Hb extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,r,i,u){const c=this.ho(e,t);Le("RestConnection","Sending: ",c,r);const p={};return this.lo(p,i,u),this.fo(e,c,p,r).then(y=>(Le("RestConnection","Received: ",y),y),y=>{throw Yd("RestConnection",`${e} failed with error: `,y,"url: ",c,"request:",r),y})}_o(e,t,r,i,u){return this.co(e,t,r,i,u)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+fl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,u)=>e[u]=i),r&&r.headers.forEach((i,u)=>e[u]=i)}ho(e,t){return`${this.uo}/v1/${t}:${$b[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((u,c)=>{const p=new WS;p.listenOnce(Dw.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case lv.NO_ERROR:const b=p.getResponseJson();Le("Connection","XHR received:",JSON.stringify(b)),u(b);break;case lv.TIMEOUT:Le("Connection",'RPC "'+e+'" timed out'),c(new Ne(ce.DEADLINE_EXCEEDED,"Request time out"));break;case lv.HTTP_ERROR:const S=p.getStatus();if(Le("Connection",'RPC "'+e+'" failed with status:',S,"response text:",p.getResponseText()),S>0){const x=p.getResponseJson().error;if(x&&x.status&&x.message){const F=function(B){const q=B.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(q)>=0?q:ce.UNKNOWN}(x.status);c(new Ne(F,x.message))}else c(new Ne(ce.UNKNOWN,"Server responded with status "+p.getStatus()))}else c(new Ne(ce.UNAVAILABLE,"Connection failed."));break;default:ot()}}finally{Le("Connection",'RPC "'+e+'" completed.')}});const y=JSON.stringify(i);p.send(t,"POST",y,r,15)})}wo(e,t,r){const i=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Cw(),c=EI(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new bI({})),this.lo(p.initMessageHeaders,t,r),(0,$t.uI)()||(0,$t.b$)()||(0,$t.d)()||(0,$t.w1)()||(0,$t.Mn)()||(0,$t.ru)()||(p.httpHeadersOverwriteParam="$httpHeaders");const y=i.join("");Le("Connection","Creating WebChannel: "+y,p);const b=u.createWebChannel(y,p);let S=!1,x=!1;const F=new AT({Jr:q=>{x?Le("Connection","Not sending because WebChannel is closed:",q):(S||(Le("Connection","Opening WebChannel transport."),b.open(),S=!0),Le("Connection","WebChannel sending:",q),b.send(q))},Yr:()=>b.close()}),B=(q,se,De)=>{q.listen(se,Qe=>{try{De(Qe)}catch(et){setTimeout(()=>{throw et},0)}})};return B(b,gm.EventType.OPEN,()=>{x||Le("Connection","WebChannel transport opened.")}),B(b,gm.EventType.CLOSE,()=>{x||(x=!0,Le("Connection","WebChannel transport closed"),F.ro())}),B(b,gm.EventType.ERROR,q=>{x||(x=!0,Yd("Connection","WebChannel transport errored:",q),F.ro(new Ne(ce.UNAVAILABLE,"The operation could not be completed")))}),B(b,gm.EventType.MESSAGE,q=>{var se;if(!x){const De=q.data[0];Ct(!!De);const Qe=De,et=Qe.error||(null===(se=Qe[0])||void 0===se?void 0:se.error);if(et){Le("Connection","WebChannel received error:",et);const He=et.status;let nt=function(Tt){const Lt=Vn[Tt];if(void 0!==Lt)return jI(Lt)}(He),Et=et.message;void 0===nt&&(nt=ce.INTERNAL,Et="Unknown error status: "+He+" with message "+et.message),x=!0,F.ro(new Ne(nt,Et)),b.close()}else Le("Connection","WebChannel received:",De),F.oo(De)}}),B(c,wI.STAT_EVENT,q=>{q.stat===cv.PROXY?Le("Connection","Detected buffering proxy"):q.stat===cv.NOPROXY&&Le("Connection","Detected no buffering proxy")}),setTimeout(()=>{F.io()},0),F}}function yp(){return"undefined"!=typeof window?window:null}function _p(){return"undefined"!=typeof document?document:null}function vp(n){return new zI(n,!0)}class Ep{constructor(e,t,r=1e3,i=1.5,u=6e4){this.Yn=e,this.timerId=t,this.mo=r,this.yo=i,this.po=u,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&Le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class ly{constructor(e,t,r,i,u,c,p,y){this.Yn=e,this.Vo=r,this.vo=i,this.So=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new Ep(e,t)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,be.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,be.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var r=this;return(0,be.Z)(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(pr(t.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):t&&t.code===ce.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.eo(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Do===t&&this.Qo(r,i)},r=>{e(()=>{const i=new Ne(ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(i)})})}Qo(e,t){const r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr(()=>{r(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(i=>{r(()=>this.jo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.No.Ro((0,be.Z)(function*(){e.state=0,e.start()}))}jo(e){return Le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Yn.enqueueAndForget(()=>this.Do===e?t():(Le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eM extends ly{constructor(e,t,r,i,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.M=u}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function YI(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:ot(),i=e.targetChange.targetIds||[],u=function(y,b){return y.N?(Ct(void 0===b||"string"==typeof b),nr.fromBase64String(b||"")):(Ct(void 0===b||b instanceof Uint8Array),nr.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,p=c&&function(y){const b=void 0===y.code?ce.UNKNOWN:jI(y.code);return new Ne(b,y.message||"")}(c);t=new Pv(r,i,u,p||null)}else if("documentChange"in e){const r=e.documentChange,i=_a(n,r.document.name),u=Rr(r.document.updateTime),c=new _i({mapValue:{fields:r.document.fields}}),p=In.newFoundDocument(i,u,c);t=new Lm(r.targetIds||[],r.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const r=e.documentDelete,i=_a(n,r.document),u=r.readTime?Rr(r.readTime):vt.min(),c=In.newNoDocument(i,u);t=new Lm([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=_a(n,r.document);t=new Lm([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return ot();{const r=e.filter,u=new UI(r.count||0);t=new Xf(r.targetId,u)}}var y;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return vt.min();const u=i.targetChange;return u.targetIds&&u.targetIds.length?vt.min():u.readTime?Rr(u.readTime):vt.min()}(e);return this.listener.zo(t,r)}Ho(e){const t={};t.database=Vm(this.M),t.addTarget=function(i,u){let c;const p=u.target;return c=Tm(p)?{documents:ab(i,p)}:{query:ub(i,p)},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?c.resumeToken=Fv(i,u.resumeToken):u.snapshotVersion.compareTo(vt.min())>0&&(c.readTime=tp(i,u.snapshotVersion.toTimestamp())),c}(this.M,e);const r=function JI(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ot()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Lo(t)}Jo(e){const t={};t.database=Vm(this.M),t.removeTarget=e,this.Lo(t)}}class ST extends ly{constructor(e,t,r,i,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.M=u,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(Ct(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function QI(n,e){return n&&n.length>0?(Ct(void 0!==e),n.map(t=>function(r,i){let u=Rr(r.updateTime?r.updateTime:i);return u.isEqual(vt.min())&&(u=Rr(i)),new Qw(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Rr(e.commitTime);return this.listener.tu(r,t)}return Ct(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=Vm(this.M),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>lh(this.M,r))};this.Lo(t)}}class MT extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=r,this.M=i,this.su=!1}iu(){if(this.su)throw new Ne(ce.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.So.co(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ne(ce.UNKNOWN,i.toString())})}_o(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.So._o(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ne(ce.UNKNOWN,i.toString())})}terminate(){this.su=!0}}class Gb{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(pr(t),this.uu=!1):Le("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class qb{constructor(e,t,r,i,u){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=u,this.gu.Kr(p=>{r.enqueueAndForget((0,be.Z)(function*(){var y;Eu(c)&&(Le("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,be.Z)(function*(b){const S=Ke(b);S.wu.add(4),yield Gc(S),S.yu.set("Unknown"),S.wu.delete(4),yield wp(S)}),function(b){return y.apply(this,arguments)})(c))}))}),this.yu=new Gb(r,i)}}function wp(n){return cy.apply(this,arguments)}function cy(){return cy=(0,be.Z)(function*(n){if(Eu(n))for(const e of n.mu)yield e(!0)}),cy.apply(this,arguments)}function Gc(n){return _0.apply(this,arguments)}function _0(){return _0=(0,be.Z)(function*(n){for(const e of n.mu)yield e(!1)}),_0.apply(this,arguments)}function dy(n,e){const t=Ke(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),fy(t)?hy(t):Ip(t).Mo()&&v0(t,e))}function Th(n,e){const t=Ke(n),r=Ip(t);t._u.delete(e),r.Mo()&&E0(t,e),0===t._u.size&&(r.Mo()?r.$o():Eu(t)&&t.yu.set("Unknown"))}function v0(n,e){n.pu.Z(e.targetId),Ip(n).Ho(e)}function E0(n,e){n.pu.Z(e),Ip(n).Jo(e)}function hy(n){n.pu=new rb({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n._u.get(e)||null}),Ip(n).start(),n.yu.au()}function fy(n){return Eu(n)&&!Ip(n).ko()&&n._u.size>0}function Eu(n){return 0===Ke(n).wu.size}function zb(n){n.pu=void 0}function xT(n){return Wb.apply(this,arguments)}function Wb(){return Wb=(0,be.Z)(function*(n){n._u.forEach((e,t)=>{v0(n,e)})}),Wb.apply(this,arguments)}function Kb(n,e){return Zb.apply(this,arguments)}function Zb(){return Zb=(0,be.Z)(function*(n,e){zb(n),fy(n)?(n.yu.lu(e),hy(n)):n.yu.set("Unknown")}),Zb.apply(this,arguments)}function tM(n,e,t){return Yb.apply(this,arguments)}function Yb(){return Yb=(0,be.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof Pv&&2===e.state&&e.cause)try{yield(r=(0,be.Z)(function*(i,u){const c=u.cause;for(const p of u.targetIds)i._u.has(p)&&(yield i.remoteSyncer.rejectListen(p,c),i._u.delete(p),i.pu.removeTarget(p))}),function(i,u){return r.apply(this,arguments)})(n,e)}catch(r){Le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield w0(n,r)}else if(e instanceof Lm?n.pu.ut(e):e instanceof Xf?n.pu._t(e):n.pu.ht(e),!t.isEqual(vt.min()))try{const r=yield ey(n.localStore);t.compareTo(r)>=0&&(yield function(i,u){const c=i.pu.yt(u);return c.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const b=i._u.get(y);b&&i._u.set(y,b.withResumeToken(p.resumeToken,u))}}),c.targetMismatches.forEach(p=>{const y=i._u.get(p);if(!y)return;i._u.set(p,y.withResumeToken(nr.EMPTY_BYTE_STRING,y.snapshotVersion)),E0(i,p);const b=new Ro(y.target,p,1,y.sequenceNumber);v0(i,b)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Le("RemoteStore","Failed to raise snapshot:",r),yield w0(n,r)}var r}),Yb.apply(this,arguments)}function w0(n,e,t){return Qb.apply(this,arguments)}function Qb(){return Qb=(0,be.Z)(function*(n,e,t){if(!Vc(e))throw e;n.wu.add(1),yield Gc(n),n.yu.set("Offline"),t||(t=()=>ey(n.localStore)),n.asyncQueue.enqueueRetryable((0,be.Z)(function*(){Le("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield wp(n)}))}),Qb.apply(this,arguments)}function RT(n,e){return e().catch(t=>w0(n,t,e))}function bp(n){return Jb.apply(this,arguments)}function Jb(){return Jb=(0,be.Z)(function*(n){const e=Ke(n),t=qc(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;py(e);)try{const i=yield c0(e.localStore,r);if(null===i){0===e.du.length&&t.$o();break}r=i.batchId,nM(e,i)}catch(i){yield w0(e,i)}b0(e)&&gy(e)}),Jb.apply(this,arguments)}function py(n){return Eu(n)&&n.du.length<10}function nM(n,e){n.du.push(e);const t=qc(n);t.Mo()&&t.Xo&&t.Zo(e.mutations)}function b0(n){return Eu(n)&&!qc(n).ko()&&n.du.length>0}function gy(n){qc(n).start()}function Xb(n){return my.apply(this,arguments)}function my(){return my=(0,be.Z)(function*(n){qc(n).nu()}),my.apply(this,arguments)}function rM(n){return Cp.apply(this,arguments)}function Cp(){return Cp=(0,be.Z)(function*(n){const e=qc(n);for(const t of n.du)e.Zo(t.mutations)}),Cp.apply(this,arguments)}function eC(n,e,t){return yy.apply(this,arguments)}function yy(){return yy=(0,be.Z)(function*(n,e,t){const r=n.du.shift(),i=Eb.from(r,e,t);yield RT(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield bp(n)}),yy.apply(this,arguments)}function tC(n,e){return nC.apply(this,arguments)}function nC(){return nC=(0,be.Z)(function*(n,e){var t;e&&qc(n).Xo&&(yield(t=(0,be.Z)(function*(r,i){if(Bn(u=i.code)&&u!==ce.ABORTED){const c=r.du.shift();qc(r).Fo(),yield RT(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield bp(r)}var u}),function(r,i){return t.apply(this,arguments)})(n,e)),b0(n)&&gy(n)}),nC.apply(this,arguments)}function C0(n,e){return D0.apply(this,arguments)}function D0(){return D0=(0,be.Z)(function*(n,e){const t=Ke(n);t.asyncQueue.verifyOperationInProgress(),Le("RemoteStore","RemoteStore received new credentials");const r=Eu(t);t.wu.add(3),yield Gc(t),r&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield wp(t)}),D0.apply(this,arguments)}function Dp(n,e){return I0.apply(this,arguments)}function I0(){return I0=(0,be.Z)(function*(n,e){const t=Ke(n);e?(t.wu.delete(2),yield wp(t)):e||(t.wu.add(2),yield Gc(t),t.yu.set("Unknown"))}),I0.apply(this,arguments)}function Ip(n){return n.Iu||(n.Iu=function(e,t,r){const i=Ke(e);return i.iu(),new eM(t,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Xr:xT.bind(null,n),eo:Kb.bind(null,n),zo:tM.bind(null,n)}),n.mu.push(function(){var e=(0,be.Z)(function*(t){t?(n.Iu.Fo(),fy(n)?hy(n):n.yu.set("Unknown")):(yield n.Iu.stop(),zb(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function qc(n){return n.Tu||(n.Tu=function(e,t,r){const i=Ke(e);return i.iu(),new ST(t,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Xr:Xb.bind(null,n),eo:tC.bind(null,n),eu:rM.bind(null,n),tu:eC.bind(null,n)}),n.mu.push(function(){var e=(0,be.Z)(function*(t){t?(n.Tu.Fo(),yield bp(n)):(yield n.Tu.stop(),n.du.length>0&&(Le("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class rC{constructor(e,t,r,i,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=u,this.deferred=new er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,u){const c=Date.now()+r,p=new rC(e,t,c,i,u);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ne(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ah(n,e){if(pr("AsyncQueue",`${e}: ${n}`),Vc(n))return new Ne(ce.UNAVAILABLE,`${e}: ${n}`);throw n}class Sh{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ge.comparator(t.key,r.key):(t,r)=>Ge.comparator(t.key,r.key),this.keyedMap=Fm(),this.sortedSet=new Gn(this.comparator)}static emptySet(e){return new Sh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Sh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(!i.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Sh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class iC{constructor(){this.Eu=new Gn(Ge.comparator)}track(e){const t=e.doc.key,r=this.Eu.get(t);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(t):1===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):ot():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Tp{constructor(e,t,r,i,u,c,p,y){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=p,this.excludesMetadataChanges=y}static fromInitialDocuments(e,t,r,i){const u=[];return t.forEach(c=>{u.push({type:0,doc:c})}),new Tp(e,t,Sh.emptySet(t),u,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class NT{constructor(){this.Ru=void 0,this.listeners=[]}}class T0{constructor(){this.queries=new _u(e=>Hw(e),Zf),this.onlineState="Unknown",this.bu=new Set}}function A0(n,e){return Es.apply(this,arguments)}function Es(){return Es=(0,be.Z)(function*(n,e){const t=Ke(n),r=e.query;let i=!1,u=t.queries.get(r);if(u||(i=!0,u=new NT),i)try{u.Ru=yield t.onListen(r)}catch(c){const p=Ah(c,`Initialization of query '${Tv(e.query)}' failed`);return void e.onError(p)}t.queries.set(r,u),u.listeners.push(e),e.Pu(t.onlineState),u.Ru&&e.Vu(u.Ru)&&Sp(t)}),Es.apply(this,arguments)}function S0(n,e){return Ap.apply(this,arguments)}function Ap(){return Ap=(0,be.Z)(function*(n,e){const t=Ke(n),r=e.query;let i=!1;const u=t.queries.get(r);if(u){const c=u.listeners.indexOf(e);c>=0&&(u.listeners.splice(c,1),i=0===u.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),Ap.apply(this,arguments)}function OT(n,e){const t=Ke(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const p of c.listeners)p.Vu(i)&&(r=!0);c.Ru=i}}r&&Sp(t)}function PT(n,e,t){const r=Ke(n),i=r.queries.get(e);if(i)for(const u of i.listeners)u.onError(t);r.queries.delete(e)}function Sp(n){n.bu.forEach(e=>{e.next()})}class _y{constructor(e,t,r){this.query=e,this.vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Tp(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||!(this.options.ku&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=Tp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class sC{constructor(e,t){this.payload=e,this.byteLength=t}Mu(){return"metadata"in this.payload}}class oC{constructor(e){this.M=e}wi(e){return _a(this.M,e)}mi(e){return e.metadata.exists?rp(this.M,e.document,!1):In.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}gi(e){return Rr(e)}}class aC{constructor(e,t,r){this.Ou=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=M0(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=Gt.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new oC(this.M);for(const i of e)if(i.metadata.queries){const u=r.wi(i.metadata.name);for(const c of i.metadata.queries){const p=(t.get(c)||an()).add(u);t.set(c,p)}}return t}complete(){var e=this;return(0,be.Z)(function*(){const t=yield function bT(n,e,t,r){return iy.apply(this,arguments)}(e.localStore,new oC(e.M),e.documents,e.Ou.id),r=e.$u(e.documents);for(const i of e.queries)yield Vb(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function M0(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class uC{constructor(e){this.key=e}}class lC{constructor(e){this.key=e}}class vy{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=an(),this.mutatedKeys=an(),this.Gu=qw(e),this.Qu=new Sh(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new iC,i=t?t.Qu:this.Qu;let u=t?t.mutatedKeys:this.mutatedKeys,c=i,p=!1;const y="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,b="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((S,x)=>{const F=i.get(S),B=Av(this.query,x)?x:null,q=!!F&&this.mutatedKeys.has(F.key),se=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let De=!1;F&&B?F.data.isEqual(B.data)?q!==se&&(r.track({type:3,doc:B}),De=!0):this.Hu(F,B)||(r.track({type:2,doc:B}),De=!0,(y&&this.Gu(B,y)>0||b&&this.Gu(B,b)<0)&&(p=!0)):!F&&B?(r.track({type:0,doc:B}),De=!0):F&&!B&&(r.track({type:1,doc:F}),De=!0,(y||b)&&(p=!0)),De&&(B?(c=c.add(B),u=se?u.add(S):u.delete(S)):(c=c.delete(S),u=u.delete(S)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const S="F"===this.query.limitType?c.last():c.first();c=c.delete(S.key),u=u.delete(S.key),r.track({type:1,doc:S})}return{Qu:c,zu:r,ii:p,mutatedKeys:u}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const u=e.zu.Au();u.sort((b,S)=>function(x,F){const B=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot()}};return B(x)-B(F)}(b.type,S.type)||this.Gu(b.doc,S.doc)),this.Ju(r);const c=t?this.Yu():[],p=0===this.Ku.size&&this.current?1:0,y=p!==this.qu;return this.qu=p,0!==u.length||y?{snapshot:new Tp(this.query,e.Qu,i,u,e.mutatedKeys,0===p,y,!1),Xu:c}:{Xu:c}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new iC,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=an(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new lC(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new uC(r))}),t}ta(e){this.Uu=e._i,this.Ku=an();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ea(){return Tp.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class No{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class kT{constructor(e){this.key=e,this.na=!1}}class iM{constructor(e,t,r,i,u,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.sa={},this.ia=new _u(p=>Hw(p),Zf),this.ra=new Map,this.oa=new Set,this.ua=new Gn(Ge.comparator),this.aa=new Map,this.ca=new g0,this.ha={},this.la=new Map,this.fa=jc.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function FT(n,e){return Ey.apply(this,arguments)}function Ey(){return Ey=(0,be.Z)(function*(n,e){const t=wC(n);let r,i;const u=t.ia.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),i=u.view.ea();else{const c=yield Ch(t.localStore,Ys(e));t.isPrimaryClient&&dy(t.remoteStore,c);const p=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield x0(t,e,r,"current"===p)}return i}),Ey.apply(this,arguments)}function x0(n,e,t,r){return R0.apply(this,arguments)}function R0(){return R0=(0,be.Z)(function*(n,e,t,r){n._a=(S,x,F)=>{return(B=(0,be.Z)(function*(q,se,De,Qe){let et=se.view.Wu(De);et.ii&&(et=yield ny(q.localStore,se.query,!1).then(({documents:Et})=>se.view.Wu(Et,et)));const He=Qe&&Qe.targetChanges.get(se.targetId),nt=se.view.applyChanges(et,q.isPrimaryClient,He);return B0(q,se.targetId,nt.Xu),nt.snapshot}),function(q,se,De,Qe){return B.apply(this,arguments)})(n,S,x,F);var B};const i=yield ny(n.localStore,e,!0),u=new vy(e,i._i),c=u.Wu(i.documents),p=Jf.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),y=u.applyChanges(c,n.isPrimaryClient,p);B0(n,t,y.Xu);const b=new No(e,t,u);return n.ia.set(e,b),n.ra.has(t)?n.ra.get(t).push(e):n.ra.set(t,[e]),y.snapshot}),R0.apply(this,arguments)}function cC(n,e){return N0.apply(this,arguments)}function N0(){return N0=(0,be.Z)(function*(n,e){const t=Ke(n),r=t.ia.get(e),i=t.ra.get(r.targetId);if(i.length>1)return t.ra.set(r.targetId,i.filter(u=>!Zf(u,e))),void t.ia.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Dh(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Th(t.remoteStore,r.targetId),xp(t,r.targetId)}).catch(Al))):(xp(t,r.targetId),yield Dh(t.localStore,r.targetId,!0))}),N0.apply(this,arguments)}function wy(){return wy=(0,be.Z)(function*(n,e,t){const r=Ay(n);try{const i=yield function(u,c){const p=Ke(u),y=gr.now(),b=c.reduce((x,F)=>x.add(F.key),an());let S;return p.persistence.runTransaction("Locally write mutations","readwrite",x=>p.fi.Ks(x,b).next(F=>{S=F;const B=[];for(const q of c){const se=Nv(q,S.get(q.key));null!=se&&B.push(new sh(q.key,se,_v(se.value.mapValue),vn.exists(!0)))}return p.Bs.addMutationBatch(x,y,B,c)})).then(x=>(x.applyToLocalDocumentSet(S),{batchId:x.batchId,changes:S}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,c,p){let y=u.ha[u.currentUser.toKey()];y||(y=new Gn(Ft)),y=y.insert(c,p),u.ha[u.currentUser.toKey()]=y}(r,i.batchId,t),yield Ml(r,i.changes),yield bp(r.remoteStore)}catch(i){const u=Ah(i,"Failed to persist write");t.reject(u)}}),wy.apply(this,arguments)}function O0(n,e){return P0.apply(this,arguments)}function P0(){return P0=(0,be.Z)(function*(n,e){const t=Ke(n);try{const r=yield Lb(t.localStore,e);e.targetChanges.forEach((i,u)=>{const c=t.aa.get(u);c&&(Ct(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.na=!0:i.modifiedDocuments.size>0?Ct(c.na):i.removedDocuments.size>0&&(Ct(c.na),c.na=!1))}),yield Ml(t,r,e)}catch(r){yield Al(r)}}),P0.apply(this,arguments)}function dC(n,e,t){const r=Ke(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ia.forEach((u,c)=>{const p=c.view.Pu(e);p.snapshot&&i.push(p.snapshot)}),function(u,c){const p=Ke(u);p.onlineState=c;let y=!1;p.queries.forEach((b,S)=>{for(const x of S.listeners)x.Pu(c)&&(y=!0)}),y&&Sp(p)}(r.eventManager,e),i.length&&r.sa.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function hC(n,e,t){return Mp.apply(this,arguments)}function Mp(){return Mp=(0,be.Z)(function*(n,e,t){const r=Ke(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.aa.get(e),u=i&&i.key;if(u){let c=new Gn(Ge.comparator);c=c.insert(u,In.newNoDocument(u,vt.min()));const p=an().add(u),y=new Qf(vt.min(),new Map,new _n(Ft),c,p);yield O0(r,y),r.ua=r.ua.remove(u),r.aa.delete(e),U0(r)}else yield Dh(r.localStore,e,!1).then(()=>xp(r,e,t)).catch(Al)}),Mp.apply(this,arguments)}function k0(n,e){return by.apply(this,arguments)}function by(){return by=(0,be.Z)(function*(n,e){const t=Ke(n),r=e.batch.batchId;try{const i=yield l0(t.localStore,e);pC(t,r,null),L0(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ml(t,i)}catch(i){yield Al(i)}}),by.apply(this,arguments)}function LT(n,e,t){return Cy.apply(this,arguments)}function Cy(){return Cy=(0,be.Z)(function*(n,e,t){const r=Ke(n);try{const i=yield function(u,c){const p=Ke(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let b;return p.Bs.lookupMutationBatch(y,c).next(S=>(Ct(null!==S),b=S.keys(),p.Bs.removeMutationBatch(y,S))).next(()=>p.Bs.performConsistencyCheck(y)).next(()=>p.fi.Ks(y,b))})}(r.localStore,e);pC(r,e,t),L0(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ml(r,i)}catch(i){yield Al(i)}}),Cy.apply(this,arguments)}function F0(){return F0=(0,be.Z)(function*(n,e){const t=Ke(n);Eu(t.remoteStore)||Le("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const c=Ke(u);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>c.Bs.getHighestUnacknowledgedBatchId(p))}(t.localStore);if(-1===r)return void e.resolve();const i=t.la.get(r)||[];i.push(e),t.la.set(r,i)}catch(r){const i=Ah(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),F0.apply(this,arguments)}function L0(n,e){(n.la.get(e)||[]).forEach(t=>{t.resolve()}),n.la.delete(e)}function pC(n,e,t){const r=Ke(n);let i=r.ha[r.currentUser.toKey()];if(i){const u=i.get(e);u&&(t?u.reject(t):u.resolve(),i=i.remove(e)),r.ha[r.currentUser.toKey()]=i}}function xp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ra.get(e))n.ia.delete(r),t&&n.sa.wa(r,t);n.ra.delete(e),n.isPrimaryClient&&n.ca.vi(e).forEach(r=>{n.ca.containsKey(r)||V0(n,r)})}function V0(n,e){n.oa.delete(e.path.canonicalString());const t=n.ua.get(e);null!==t&&(Th(n.remoteStore,t),n.ua=n.ua.remove(e),n.aa.delete(t),U0(n))}function B0(n,e,t){for(const r of t)r instanceof uC?(n.ca.addReference(r.key,e),VT(n,r)):r instanceof lC?(Le("SyncEngine","Document no longer in limbo: "+r.key),n.ca.removeReference(r.key,e),n.ca.containsKey(r.key)||V0(n,r.key)):ot()}function VT(n,e){const t=e.key,r=t.path.canonicalString();n.ua.get(t)||n.oa.has(r)||(Le("SyncEngine","New document in limbo: "+t),n.oa.add(r),U0(n))}function U0(n){for(;n.oa.size>0&&n.ua.size<n.maxConcurrentLimboResolutions;){const e=n.oa.values().next().value;n.oa.delete(e);const t=new Ge(Gt.fromString(e)),r=n.fa.next();n.aa.set(r,new kT(t)),n.ua=n.ua.insert(t,r),dy(n.remoteStore,new Ro(Ys(Pc(t.path)),r,2,es.A))}}function Ml(n,e,t){return gC.apply(this,arguments)}function gC(){return gC=(0,be.Z)(function*(n,e,t){const r=Ke(n),i=[],u=[],c=[];var p;r.ia.isEmpty()||(r.ia.forEach((p,y)=>{c.push(r._a(y,e,t).then(b=>{if(b){r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,b.fromCache?"not-current":"current"),i.push(b);const S=Jm.Ys(y.targetId,b);u.push(S)}}))}),yield Promise.all(c),r.sa.zo(i),yield(p=(0,be.Z)(function*(y,b){const S=Ke(y);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>de.forEach(b,F=>de.forEach(F.Hs,B=>S.persistence.referenceDelegate.addReference(x,F.targetId,B)).next(()=>de.forEach(F.Js,B=>S.persistence.referenceDelegate.removeReference(x,F.targetId,B)))))}catch(x){if(!Vc(x))throw x;Le("LocalStore","Failed to update sequence numbers: "+x)}for(const x of b){const F=x.targetId;if(!x.fromCache){const B=S.ui.get(F),se=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);S.ui=S.ui.insert(F,se)}}}),function(y,b){return p.apply(this,arguments)})(r.localStore,u))}),gC.apply(this,arguments)}function oM(n,e){return mC.apply(this,arguments)}function mC(){return mC=(0,be.Z)(function*(n,e){const t=Ke(n);if(!t.currentUser.isEqual(e)){Le("SyncEngine","User change. New user:",e.toKey());const r=yield kb(t.localStore,e);t.currentUser=e,(i=t).la.forEach(c=>{c.forEach(p=>{p.reject(new Ne(ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.la.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ml(t,r.di)}var i}),mC.apply(this,arguments)}function aM(n,e){const t=Ke(n),r=t.aa.get(e);if(r&&r.na)return an().add(r.key);{let i=an();const u=t.ra.get(e);if(!u)return i;for(const c of u){const p=t.ia.get(c);i=i.unionWith(p.view.ju)}return i}}function BT(n,e){return Mh.apply(this,arguments)}function Mh(){return Mh=(0,be.Z)(function*(n,e){const t=Ke(n),r=yield ny(t.localStore,e.query,!0),i=e.view.ta(r);return t.isPrimaryClient&&B0(t,e.targetId,i.Xu),i}),Mh.apply(this,arguments)}function UT(n,e){return j0.apply(this,arguments)}function j0(){return j0=(0,be.Z)(function*(n,e){const t=Ke(n);return ry(t.localStore,e).then(r=>Ml(t,r))}),j0.apply(this,arguments)}function yC(n,e,t,r){return wu.apply(this,arguments)}function wu(){return wu=(0,be.Z)(function*(n,e,t,r){const i=Ke(n),u=yield function(c,p){const y=Ke(c),b=Ke(y.Bs);return y.persistence.runTransaction("Lookup mutation documents","readonly",S=>b.fn(S,p).next(x=>x?y.fi.Ks(S,x):de.resolve(null)))}(i.localStore,e);var p;null!==u?("pending"===t?yield bp(i.remoteStore):"acknowledged"===t||"rejected"===t?(pC(i,e,r||null),L0(i,e),p=e,Ke(Ke(i.localStore).Bs)._n(p)):ot(),yield Ml(i,u)):Le("SyncEngine","Cannot apply mutation batch with id: "+e)}),wu.apply(this,arguments)}function Rp(){return Rp=(0,be.Z)(function*(n,e){const t=Ke(n);if(wC(t),Ay(t),!0===e&&!0!==t.da){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield Dy(t,r.toArray());t.da=!0,yield Dp(t.remoteStore,!0);for(const u of i)dy(t.remoteStore,u)}else if(!1===e&&!1!==t.da){const r=[];let i=Promise.resolve();t.ra.forEach((u,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(xp(t,c),Dh(t.localStore,c,!0))),Th(t.remoteStore,c)}),yield i,yield Dy(t,r),function(u){const c=Ke(u);c.aa.forEach((p,y)=>{Th(c.remoteStore,y)}),c.ca.Si(),c.aa=new Map,c.ua=new Gn(Ge.comparator)}(t),t.da=!1,yield Dp(t.remoteStore,!1)}}),Rp.apply(this,arguments)}function Dy(n,e,t){return $0.apply(this,arguments)}function $0(){return $0=(0,be.Z)(function*(n,e,t){const r=Ke(n),i=[],u=[];for(const c of e){let p;const y=r.ra.get(c);if(y&&0!==y.length){p=yield Ch(r.localStore,Ys(y[0]));for(const b of y){const S=r.ia.get(b),x=yield BT(r,S);x.snapshot&&u.push(x.snapshot)}}else{const b=yield h0(r.localStore,c);p=yield Ch(r.localStore,b),yield x0(r,Iy(b),c,!1)}i.push(p)}return r.sa.zo(u),i}),$0.apply(this,arguments)}function Iy(n){return Dv(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function H0(n){const e=Ke(n);return Ke(Ke(e.localStore).persistence).Fs()}function Ty(n,e,t,r){return vC.apply(this,arguments)}function vC(){return vC=(0,be.Z)(function*(n,e,t,r){const i=Ke(n);if(i.da)return void Le("SyncEngine","Ignoring unexpected query state notification.");const u=i.ra.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const c=yield ry(i.localStore,Gw(u[0])),p=Qf.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Ml(i,c,p);break}case"rejected":yield Dh(i.localStore,e,!0),xp(i,e,r);break;default:ot()}}),vC.apply(this,arguments)}function uM(n,e,t){return EC.apply(this,arguments)}function EC(){return EC=(0,be.Z)(function*(n,e,t){const r=wC(n);if(r.da){for(const i of e){if(r.ra.has(i)){Le("SyncEngine","Adding an already active target "+i);continue}const u=yield h0(r.localStore,i),c=yield Ch(r.localStore,u);yield x0(r,Iy(u),c.targetId,!1),dy(r.remoteStore,c)}for(const i of t)r.ra.has(i)&&(yield Dh(r.localStore,i,!1).then(()=>{Th(r.remoteStore,i),xp(r,i)}).catch(Al))}}),EC.apply(this,arguments)}function wC(n){const e=Ke(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=O0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hC.bind(null,e),e.sa.zo=OT.bind(null,e.eventManager),e.sa.wa=PT.bind(null,e.eventManager),e}function Ay(n){const e=Ke(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=k0.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=LT.bind(null,e),e}class bC{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,be.Z)(function*(){t.M=vp(e.databaseInfo.databaseId),t.sharedClientState=t.ga(e),t.persistence=t.ya(e),yield t.persistence.start(),t.gcScheduler=t.pa(e),t.localStore=t.Ia(e)})()}pa(e){return null}Ia(e){return Pb(this.persistence,new Xm,e.initialUser,this.M)}ya(e){return new IT(Hc.Yi,this.M)}ga(e){return new mp}terminate(){var e=this;return(0,be.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class CC extends bC{constructor(e,t,r){super(),this.Ta=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,be.Z)(function*(){yield t().call(r,e),yield r.Ta.initialize(r,e),yield Ay(r.Ta.syncEngine),yield bp(r.Ta.remoteStore),yield r.persistence.Ts(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Ia(e){return Pb(this.persistence,new Xm,e.initialUser,this.M)}pa(e){return new Sb(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}ya(e){const t=u0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Pi.withCacheSize(this.cacheSizeBytes):Pi.DEFAULT;return new bh(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,yp(),_p(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(e){return new mp}}class $T extends CC{constructor(e,t){super(e,t,!1),this.Ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,be.Z)(function*(){yield t().call(r,e);const i=r.Ta.syncEngine;r.sharedClientState instanceof uy&&(r.sharedClientState.syncEngine={$r:yC.bind(null,i),Br:Ty.bind(null,i),Lr:uM.bind(null,i),Fs:H0.bind(null,i),Fr:UT.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ts(function(){var u=(0,be.Z)(function*(c){yield function _C(n,e){return Rp.apply(this,arguments)}(r.Ta.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):c||r.gcScheduler.stop())});return function(c){return u.apply(this,arguments)}}())})()}ga(e){const t=yp();if(!uy.vt(t))throw new Ne(ce.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=u0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new uy(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Sy{initialize(e,t){var r=this;return(0,be.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>dC(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=oM.bind(null,r.syncEngine),yield Dp(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new T0}createDatastore(e){const t=vp(e.databaseInfo.databaseId),r=new Hb(e.databaseInfo);return new MT(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,u=p=>dC(this.syncEngine,p,0),c=TT.vt()?new TT:new y0,new qb(t,r,i,u,c);var t,r,i,u,c}createSyncEngine(e,t){return function(r,i,u,c,p,y,b){const S=new iM(r,i,u,c,p,y);return b&&(S.da=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,be.Z)(function*(t){const r=Ke(t);Le("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield Gc(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function G0(n,e=10240){let t=0;return{read:()=>(0,be.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,be.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Np{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class HT{constructor(e,t){this.Ra=e,this.M=t,this.metadata=new er,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(r=>{r&&r.Mu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ra.cancel()}getMetadata(){var e=this;return(0,be.Z)(function*(){return e.metadata.promise})()}ma(){var e=this;return(0,be.Z)(function*(){return yield e.getMetadata(),e.Pa()})()}Pa(){var e=this;return(0,be.Z)(function*(){const t=yield e.Va();if(null===t)return null;const r=e.ba.decode(t),i=Number(r);isNaN(i)&&e.va(`length string (${r}) is not valid number`);const u=yield e.Sa(i);return new sC(JSON.parse(u),t.length+i)})()}Da(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Va(){var e=this;return(0,be.Z)(function*(){for(;e.Da()<0&&!(yield e.Ca()););if(0===e.buffer.length)return null;const t=e.Da();t<0&&e.va("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Sa(e){var t=this;return(0,be.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ca())&&t.va("Reached the end of bundle when more is expected.");const r=t.ba.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}va(e){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${e}`)}Ca(){var e=this;return(0,be.Z)(function*(){const t=yield e.Ra.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class GT{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,be.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ne(ce.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,be.Z)(function*(u,c){const p=Ke(u),y=Vm(p.M)+"/documents",b={documents:c.map(B=>np(p.M,B))},S=yield p._o("BatchGetDocuments",y,b),x=new Map;S.forEach(B=>{const q=function ZI(n,e){return"found"in e?function(t,r){Ct(!!r.found);const i=_a(t,r.found.name),u=Rr(r.found.updateTime),c=new _i({mapValue:{fields:r.found.fields}});return In.newFoundDocument(i,u,c)}(n,e):"missing"in e?function(t,r){Ct(!!r.missing),Ct(!!r.readTime);const i=_a(t,r.missing),u=Rr(r.readTime);return In.newNoDocument(i,u)}(n,e):ot()}(p.M,B);x.set(q.key.toString(),q)});const F=[];return c.forEach(B=>{const q=x.get(B.toString());Ct(!!q),F.push(q)}),F}),function(u,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Yf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,be.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const u=Ge.fromPath(i);e.mutations.push(new oh(u,e.precondition(u)))}),yield(r=(0,be.Z)(function*(i,u){const c=Ke(i),p=Vm(c.M)+"/documents",y={writes:u.map(b=>lh(c.M,b))};yield c.co("Commit",p,y)}),function(i,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ot();t=vt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ne(ce.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?vn.updateTime(t):vn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(vt.min()))throw new Ne(ce.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vn.updateTime(t)}return vn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class DC{constructor(e,t,r,i,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=u,this.xa=r.maxAttempts,this.No=new Ep(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var e=this;this.No.Ro((0,be.Z)(function*(){const t=new GT(e.datastore),r=e.ka(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(u=>{e.Ma(u)}))}).catch(i=>{e.Ma(i)})}))}ka(e){try{const t=this.updateFunction(e);return!Qd(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ma(e){this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(e)}Oa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Bn(t)}return!1}}class q0{constructor(e,t,r,i){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Mr.UNAUTHENTICATED,this.clientId=mm.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,be.Z)(function*(p){Le("FirestoreClient","Received user=",p.uid),yield u.authCredentialListener(p),u.user=p});return function(p){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Le("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,be.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ne(ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Ah(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function qT(n,e){return My.apply(this,arguments)}function My(){return My=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Le("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,be.Z)(function*(u){r.isEqual(u)||(yield kb(e.localStore,u),r=u)});return function(u){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),My.apply(this,arguments)}function xy(n,e){return z0.apply(this,arguments)}function z0(){return z0=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield W0(n);Le("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>C0(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,u)=>C0(e.remoteStore,u)),n.onlineComponents=e}),z0.apply(this,arguments)}function W0(n){return IC.apply(this,arguments)}function IC(){return IC=(0,be.Z)(function*(n){return n.offlineComponents||(Le("FirestoreClient","Using default OfflineComponentProvider"),yield qT(n,new bC)),n.offlineComponents}),IC.apply(this,arguments)}function K0(n){return TC.apply(this,arguments)}function TC(){return TC=(0,be.Z)(function*(n){return n.onlineComponents||(Le("FirestoreClient","Using default OnlineComponentProvider"),yield xy(n,new Sy)),n.onlineComponents}),TC.apply(this,arguments)}function AC(n){return W0(n).then(e=>e.persistence)}function Z0(n){return W0(n).then(e=>e.localStore)}function zT(n){return K0(n).then(e=>e.remoteStore)}function SC(n){return K0(n).then(e=>e.syncEngine)}function Op(n){return MC.apply(this,arguments)}function MC(){return MC=(0,be.Z)(function*(n){const e=yield K0(n),t=e.eventManager;return t.onListen=FT.bind(null,e.syncEngine),t.onUnlisten=cC.bind(null,e.syncEngine),t}),MC.apply(this,arguments)}function KT(n,e,t={}){const r=new er;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(i,u,c,p,y){const b=new Np({next:x=>{u.enqueueAndForget(()=>S0(i,S));const F=x.docs.has(c);!F&&x.fromCache?y.reject(new Ne(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&x.fromCache&&p&&"server"===p.source?y.reject(new Ne(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(x)},error:x=>y.reject(x)}),S=new _y(Pc(c.path),b,{includeMetadataChanges:!0,ku:!0});return A0(i,S)}(yield Op(n),n.asyncQueue,e,t,r)})),r.promise}function ZT(n,e,t={}){const r=new er;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(i,u,c,p,y){const b=new Np({next:x=>{u.enqueueAndForget(()=>S0(i,S)),x.fromCache&&"server"===p.source?y.reject(new Ne(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(x)},error:x=>y.reject(x)}),S=new _y(c,b,{includeMetadataChanges:!0,ku:!0});return A0(i,S)}(yield Op(n),n.asyncQueue,e,t,r)})),r.promise}const d=new Map;function g(n,e,t){if(!t)throw new Ne(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function v(n,e,t,r){if(!0===e&&!0===r)throw new Ne(ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function w(n){if(!Ge.isDocumentKey(n))throw new Ne(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function C(n){if(Ge.isDocumentKey(n))throw new Ne(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function A(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ot()}function M(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ne(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=A(n);throw new Ne(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function k(n,e){if(e<=0)throw new Ne(ce.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class U{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ne(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ne(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,v("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Q{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new U({}),this._settingsFrozen=!1,e instanceof gu?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Ne(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gu(i.options.projectId)}(e))}get app(){if(!this._app)throw new Ne(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ne(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new U(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Mw;switch(t.type){case"gapi":const r=t.client;return Ct(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new AI(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ne(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=d.get(e);t&&(Le("ComponentProvider","Removing Datastore"),d.delete(e),t.terminate())}(this),Promise.resolve()}}class Ae{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ze(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ae(this.firestore,e,this._key)}}class Fe{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Fe(this.firestore,e,this._query)}}class Ze extends Fe{constructor(e,t,r){super(e,t,Pc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ae(this.firestore,null,new Ge(e))}withConverter(e){return new Ze(this.firestore,e,this._path)}}function xe(n,e,...t){if(n=(0,$t.m9)(n),g("collection","path",e),n instanceof Q){const r=Gt.fromString(e,...t);return C(r),new Ze(n,null,r)}{if(!(n instanceof Ae||n instanceof Ze))throw new Ne(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Gt.fromString(e,...t));return C(r),new Ze(n.firestore,null,r)}}function Bt(n,e,...t){if(n=(0,$t.m9)(n),1===arguments.length&&(e=mm.R()),g("doc","path",e),n instanceof Q){const r=Gt.fromString(e,...t);return w(r),new Ae(n,null,new Ge(r))}{if(!(n instanceof Ae||n instanceof Ze))throw new Ne(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Gt.fromString(e,...t));return w(r),new Ae(n.firestore,n instanceof Ze?n.converter:null,new Ge(r))}}function tn(n,e){return n=(0,$t.m9)(n),e=(0,$t.m9)(e),(n instanceof Ae||n instanceof Ze)&&(e instanceof Ae||e instanceof Ze)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function ts(n,e){return n=(0,$t.m9)(n),e=(0,$t.m9)(e),n instanceof Fe&&e instanceof Fe&&n.firestore===e.firestore&&Zf(n._query,e._query)&&n.converter===e.converter}class zc{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new Ep(this,"async_queue_retry"),this.Qa=()=>{const t=_p();t&&Le("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=_p();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const t=_p();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const t=new er;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return(0,be.Z)(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(t){if(!Vc(t))throw t;Le("AsyncQueue","Operation failed with retryable error: "+t)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const t=this.Fa.then(()=>(this.qa=!0,e().catch(r=>{throw this.Ua=r,this.qa=!1,pr("INTERNAL UNHANDLED ERROR: ",function(u){let c=u.message||"";return u.stack&&(c=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),c}(r)),r}).then(r=>(this.qa=!1,r))));return this.Fa=t,t}enqueueAfterDelay(e,t,r){this.ja(),this.Ga.indexOf(e)>-1&&(t=0);const i=rC.createAndSchedule(this,e,t,r,u=>this.Ha(u));return this.La.push(i),i}ja(){this.Ua&&ot()}verifyOperationInProgress(){}Ja(){var e=this;return(0,be.Z)(function*(){let t;do{t=e.Fa,yield t}while(t!==e.Fa)})()}Ya(e){for(const t of this.La)if(t.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.La)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const t=this.La.indexOf(e);this.La.splice(t,1)}}function Pp(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class Y0{constructor(){this._progressObserver={},this._taskCompletionResolver=new er,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class En extends Q{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new zc,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Ry(this),this._firestoreClient.terminate()}}function qn(n){return n._firestoreClient||Ry(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Ry(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Pw(n._databaseId,u,n._persistenceKey,(p=t).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p.useFetchStreams));var u,p;n._firestoreClient=new q0(n._authCredentials,n._appCheckCredentials,n._queue,r)}function hM(n,e,t){const r=new er;return n.asyncQueue.enqueue((0,be.Z)(function*(){try{yield qT(n,t),yield xy(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(u=i).name?u.code===ce.FAILED_PRECONDITION||u.code===ce.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var u})).then(()=>r.promise)}function fM(n){if(n._initialized||n._terminated)throw new Ne(ce.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Wc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ne(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class xl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xl(nr.fromBase64String(e))}catch(t){throw new Ne(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new xl(nr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class kp{constructor(e){this._methodName=e}}class NC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ne(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ne(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ft(this._lat,e._lat)||Ft(this._long,e._long)}}const vO=/^__.*__$/;class EO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new sh(e,this.data,this.fieldMask,t,this.fieldTransforms):new ih(e,this.data,t,this.fieldTransforms)}}class pM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new sh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function gM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot()}}class OC{constructor(e,t,r,i,u,c){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===u&&this.tc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new OC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.nc({path:r,ic:!1});return i.rc(e),i}oc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.nc({path:r,ic:!1});return i.tc(),i}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return FC(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(gM(this.ec)&&vO.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class wO{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||vp(e)}lc(e,t,r,i=!1){return new OC({ec:e,methodName:t,hc:r,path:tr.emptyPath(),ic:!1,cc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Fp(n){const e=n._freezeSettings(),t=vp(n._databaseId);return new wO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function PC(n,e,t,r,i,u={}){const c=n.lc(u.merge||u.mergeFields?2:0,e,t,i);XT("Data must be an object, but it was:",c,r);const p=_M(r,c);let y,b;if(u.merge)y=new Hf(c.fieldMask),b=c.fieldTransforms;else if(u.mergeFields){const S=[];for(const x of u.mergeFields){const F=eA(e,x,t);if(!c.contains(F))throw new Ne(ce.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);EM(S,F)||S.push(F)}y=new Hf(S),b=c.fieldTransforms.filter(x=>y.covers(x.field))}else y=null,b=c.fieldTransforms;return new EO(new _i(p),y,b)}class X0 extends kp{_toFieldTransform(e){if(2!==e.ec)throw e.ac(1===e.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof X0}}function mM(n,e,t){return new OC({ec:3,hc:e.settings.hc,methodName:n._methodName,ic:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class YT extends kp{_toFieldTransform(e){return new nh(e.path,new kc)}isEqual(e){return e instanceof YT}}class bO extends kp{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=mM(this,e,!0),r=this.fc.map(u=>Lp(u,t)),i=new wl(r);return new nh(e.path,i)}isEqual(e){return this===e}}class CO extends kp{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=mM(this,e,!0),r=this.fc.map(u=>Lp(u,t)),i=new bl(r);return new nh(e.path,i)}isEqual(e){return this===e}}class DO extends kp{constructor(e,t){super(e),this.dc=t}_toFieldTransform(e){const t=new Fc(e.M,Kw(e.M,this.dc));return new nh(e.path,t)}isEqual(e){return this===e}}function QT(n,e,t,r){const i=n.lc(1,e,t);XT("Data must be an object, but it was:",i,r);const u=[],c=_i.empty();hu(r,(y,b)=>{const S=kC(e,y,t);b=(0,$t.m9)(b);const x=i.oc(S);if(b instanceof X0)u.push(S);else{const F=Lp(b,x);null!=F&&(u.push(S),c.set(S,F))}});const p=new Hf(u);return new pM(c,p,i.fieldTransforms)}function JT(n,e,t,r,i,u){const c=n.lc(1,e,t),p=[eA(e,r,t)],y=[i];if(u.length%2!=0)throw new Ne(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<u.length;F+=2)p.push(eA(e,u[F])),y.push(u[F+1]);const b=[],S=_i.empty();for(let F=p.length-1;F>=0;--F)if(!EM(b,p[F])){const B=p[F];let q=y[F];q=(0,$t.m9)(q);const se=c.oc(B);if(q instanceof X0)b.push(B);else{const De=Lp(q,se);null!=De&&(b.push(B),S.set(B,De))}}const x=new Hf(b);return new pM(S,x,c.fieldTransforms)}function yM(n,e,t,r=!1){return Lp(t,n.lc(r?4:3,e))}function Lp(n,e){if(vM(n=(0,$t.m9)(n)))return XT("Unsupported field value:",e,n),_M(n,e);if(n instanceof kp)return function(t,r){if(!gM(r.ec))throw r.ac(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ac(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(t,r){const i=[];let u=0;for(const c of t){let p=Lp(c,r.uc(u));null==p&&(p={nullValue:"NULL_VALUE"}),i.push(p),u++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,$t.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Kw(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=gr.fromDate(t);return{timestampValue:tp(r.M,i)}}if(t instanceof gr){const i=new gr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:tp(r.M,i)}}if(t instanceof NC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof xl)return{bytesValue:Fv(r.M,t._byteString)};if(t instanceof Ae){const i=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(i))throw r.ac(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Lv(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ac(`Unsupported field value: ${A(t)}`)}(n,e)}function _M(n,e){const t={};return ym(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hu(n,(r,i)=>{const u=Lp(i,e.sc(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function vM(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof gr||n instanceof NC||n instanceof xl||n instanceof Ae||n instanceof kp)}function XT(n,e,t){if(!vM(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=A(t);throw e.ac("an object"===r?n+" a custom object":n+" "+r)}var r}function eA(n,e,t){if((e=(0,$t.m9)(e))instanceof Wc)return e._internalPath;if("string"==typeof e)return kC(n,e);throw FC("Field path arguments must be of type string or ",n,!1,void 0,t)}const IO=new RegExp("[~\\*/\\[\\]]");function kC(n,e,t){if(e.search(IO)>=0)throw FC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Wc(...e.split("."))._internalPath}catch(r){throw FC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function FC(n,e,t,r,i){const u=r&&!r.isEmpty(),c=void 0!==i;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(u||c)&&(y+=" (found",u&&(y+=` in field ${r}`),c&&(y+=` in document ${i}`),y+=")"),new Ne(ce.INVALID_ARGUMENT,p+n+y)}function EM(n,e){return n.some(t=>t.isEqual(e))}class eE{constructor(e,t,r,i,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ae(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new TO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(LC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class TO extends eE{data(){return super.data()}}function LC(n,e){return"string"==typeof e?kC(n,e):e instanceof Wc?e._internalPath:e._delegate._internalPath}class Vp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Kc extends eE{constructor(e,t,r,i,u,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new tE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(LC("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class tE extends Kc{data(e={}){return super.data(e)}}class xh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Vp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new tE(this._firestore,this._userDataWriter,r.key,r,new Vp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ne(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new tE(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Vp(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const p=new tE(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Vp(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,b=-1;return 0!==c.type&&(y=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),1!==c.type&&(u=u.add(c.doc),b=u.indexOf(c.doc.key)),{type:AO(c.type),doc:p,oldIndex:y,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function AO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot()}}function wM(n,e){return n instanceof Kc&&e instanceof Kc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof xh&&e instanceof xh&&n._firestore===e._firestore&&ts(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function bM(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ne(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nE{}function Rh(n,...e){for(const t of e)n=t._apply(n);return n}class SO extends nE{constructor(e,t,r){super(),this._c=e,this.wc=t,this.mc=r,this.type="where"}_apply(e){const t=Fp(e.firestore),r=function(i,u,c,p,y,b,S){let x;if(y.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new Ne(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){SM(S,b);const B=[];for(const q of S)B.push(AM(p,i,q));x={arrayValue:{values:B}}}else x=AM(p,i,S)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||SM(S,b),x=yM(c,"where",S,"in"===b||"not-in"===b);const F=rr.create(y,b,x);return function(B,q){if(q.S()){const De=Nm(B);if(null!==De&&!De.isEqual(q.field))throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${De.toString()}' and '${q.field.toString()}'`);const Qe=Rm(B);null!==Qe&&MM(0,q.field,Qe)}const se=function(De,Qe){for(const et of De.filters)if(Qe.indexOf(et.op)>=0)return et.op;return null}(B,function(De){switch(De){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(q.op));if(null!==se)throw new Ne(ce.INVALID_ARGUMENT,se===q.op?`Invalid query. You cannot use more than one '${q.op.toString()}' filter.`:`Invalid query. You cannot use '${q.op.toString()}' filters with '${se.toString()}' filters.`)}(i,F),F}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new Fe(e.firestore,e.converter,function(i,u){const c=i.filters.concat([u]);return new ya(i.path,i.collectionGroup,i.explicitOrderBy.slice(),c,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class xO extends nE{constructor(e,t){super(),this._c=e,this.gc=t,this.type="orderBy"}_apply(e){const t=function(r,i,u){if(null!==r.startAt)throw new Ne(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ne(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new El(i,u);return function(p,y){if(null===Rm(p)){const b=Nm(p);null!==b&&MM(0,b,y.field)}}(r,c),c}(e._query,this._c,this.gc);return new Fe(e.firestore,e.converter,function(r,i){const u=r.explicitOrderBy.concat([i]);return new ya(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class CM extends nE{constructor(e,t,r){super(),this.type=e,this.yc=t,this.Ic=r}_apply(e){return new Fe(e.firestore,e.converter,$w(e._query,this.yc,this.Ic))}}class DM extends nE{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=TM(e,this.type,this.Tc,this.Ec);return new Fe(e.firestore,e.converter,(i=t,new ya((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class IM extends nE{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=TM(e,this.type,this.Tc,this.Ec);return new Fe(e.firestore,e.converter,(i=t,new ya((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function TM(n,e,t,r){if(t[0]=(0,$t.m9)(t[0]),t[0]instanceof eE)return function(i,u,c,p,y){if(!p)throw new Ne(ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const b=[];for(const S of th(i))if(S.field.isKeyField())b.push(_l(u,p.key));else{const x=p.data.field(S.field);if(vm(x))throw new Ne(ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const F=S.field.canonicalString();throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${F}' (used as the orderBy) does not exist.`)}b.push(x)}return new yu(b,y)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Fp(n.firestore);return function(u,c,p,y,b,S){const x=u.explicitOrderBy;if(b.length>x.length)throw new Ne(ce.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const F=[];for(let B=0;B<b.length;B++){const q=b[B];if(x[B].field.isKeyField()){if("string"!=typeof q)throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof q}`);if(!Iv(u)&&-1!==q.indexOf("/"))throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${q}' contains a slash.`);const se=u.path.child(Gt.fromString(q));if(!Ge.isDocumentKey(se))throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${se}' is not because it contains an odd number of segments.`);const De=new Ge(se);F.push(_l(c,De))}else{const se=yM(p,y,q);F.push(se)}}return new yu(F,S)}(n._query,n.firestore._databaseId,i,e,t,r)}}function AM(n,e,t){if("string"==typeof(t=(0,$t.m9)(t))){if(""===t)throw new Ne(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Iv(e)&&-1!==t.indexOf("/"))throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Gt.fromString(t));if(!Ge.isDocumentKey(r))throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _l(n,new Ge(r))}if(t instanceof Ae)return _l(n,t._key);throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${A(t)}.`)}function SM(n,e){if(!Array.isArray(n)||0===n.length)throw new Ne(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ne(ce.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function MM(n,e,t){if(!t.isEqual(e))throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const VO={maxAttempts:5};class tA{convertValue(e,t="none"){switch(yl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ln(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(pu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ot()}}convertObject(e,t){const r={};return hu(e.fields,(i,u)=>{r[i]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new NC(Ln(e.latitude),Ln(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=fv(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Rc(e));default:return null}}convertTimestamp(e){const t=fu(e);return new gr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Gt.fromString(e);Ct(hb(r));const i=new gu(r.get(1),r.get(3)),u=new Ge(r.popFirst(5));return i.isEqual(t)||pr(`Document ${u} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function VC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class BO extends tA{constructor(e){super(),this.firestore=e}convertBytes(e){return new xl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ae(this.firestore,null,t)}}class xM{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Fp(e)}set(e,t,r){this._verifyNotCommitted();const i=Nh(e,this._firestore),u=VC(i.converter,t,r),c=PC(this._dataReader,"WriteBatch.set",i._key,u,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,vn.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const u=Nh(e,this._firestore);let c;return c="string"==typeof(t=(0,$t.m9)(t))||t instanceof Wc?JT(this._dataReader,"WriteBatch.update",u._key,t,r,i):QT(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(c.toMutation(u._key,vn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Nh(e,this._firestore);return this._mutations=this._mutations.concat(new Yf(t._key,vn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ne(ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Nh(n,e){if((n=(0,$t.m9)(n)).firestore!==e)throw new Ne(ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Bp extends tA{constructor(e){super(),this.firestore=e}convertBytes(e){return new xl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ae(this.firestore,null,t)}}function RM(n,e,t){n=M(n,Ae);const r=M(n.firestore,En),i=VC(n.converter,e,t);return Ny(r,[PC(Fp(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,vn.none())])}function NM(n,e,t,...r){n=M(n,Ae);const i=M(n.firestore,En),u=Fp(i);let c;return c="string"==typeof(e=(0,$t.m9)(e))||e instanceof Wc?JT(u,"updateDoc",n._key,e,t,r):QT(u,"updateDoc",n._key,e),Ny(i,[c.toMutation(n._key,vn.exists(!0))])}function OM(n,...e){var t,r,i;n=(0,$t.m9)(n);let u={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||Pp(e[c])||(u=e[c],c++);const p={includeMetadataChanges:u.includeMetadataChanges};if(Pp(e[c])){const x=e[c];e[c]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[c+1]=null===(r=x.error)||void 0===r?void 0:r.bind(x),e[c+2]=null===(i=x.complete)||void 0===i?void 0:i.bind(x)}let y,b,S;if(n instanceof Ae)b=M(n.firestore,En),S=Pc(n._key.path),y={next:x=>{e[c]&&e[c](nA(b,n,x))},error:e[c+1],complete:e[c+2]};else{const x=M(n,Fe);b=M(x.firestore,En),S=x._query;const F=new Bp(b);y={next:B=>{e[c]&&e[c](new xh(b,F,x,B))},error:e[c+1],complete:e[c+2]},bM(n._query)}return function(x,F,B,q){const se=new Np(q),De=new _y(F,se,B);return x.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return A0(yield Op(x),De)})),()=>{se.Aa(),x.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return S0(yield Op(x),De)}))}}(qn(b),S,p,y)}function Ny(n,e){return function(t,r){const i=new er;return t.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function sM(n,e,t){return wy.apply(this,arguments)}(yield SC(t),r,i)})),i.promise}(qn(n),e)}function nA(n,e,t){const r=t.docs.get(e._key),i=new Bp(n);return new Kc(n,i,e._key,r,new Vp(t.hasPendingWrites,t.fromCache),e.converter)}class ZO extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Fp(e)}get(e){const t=Nh(e,this._firestore),r=new BO(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return ot();const u=i[0];if(u.isFoundDocument())return new eE(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new eE(this._firestore,r,t._key,null,t.converter);throw ot()})}set(e,t,r){const i=Nh(e,this._firestore),u=VC(i.converter,t,r),c=PC(this._dataReader,"Transaction.set",i._key,u,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const u=Nh(e,this._firestore);let c;return c="string"==typeof(t=(0,$t.m9)(t))||t instanceof Wc?JT(this._dataReader,"Transaction.update",u._key,t,r,i):QT(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,c),this}delete(e){const t=Nh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Nh(e,this._firestore),r=new Bp(this._firestore);return super.get(e).then(i=>new Kc(this._firestore,r,t._key,i._document,new Vp(!1,!1),t.converter))}}function rA(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ne("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function kM(){if("undefined"==typeof Uint8Array)throw new Ne("unimplemented","Uint8Arrays are not available in this environment.")}function FM(){if(!function SI(){return"undefined"!=typeof atob}())throw new Ne("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){fl=pc.SDK_VERSION,(0,pc._registerComponent)(new Hg.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),u=new En(i,new II(t.getProvider("auth-internal")),new Rw(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC")),(0,pc.registerVersion)(Iw,"3.4.9",n),(0,pc.registerVersion)(Iw,"3.4.9","esm2017")}();class rE{constructor(e){this._delegate=e}static fromBase64String(e){return FM(),new rE(xl.fromBase64String(e))}static fromUint8Array(e){return kM(),new rE(xl.fromUint8Array(e))}toBase64(){return FM(),this._delegate.toBase64()}toUint8Array(){return kM(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function iA(n){return function iP(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class sP{enableIndexedDbPersistence(e,t){return function J0(n,e){fM(n=M(n,En));const t=qn(n),r=n._freezeSettings(),i=new Sy;return hM(t,i,new CC(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function hO(n){fM(n=M(n,En));const e=qn(n),t=n._freezeSettings(),r=new Sy;return hM(e,r,new $T(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function fO(n){if(n._initialized&&!n._terminated)throw new Ne(ce.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new er;return n._queue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{yield(t=(0,be.Z)(function*(r){if(!Js.vt())return Promise.resolve();const i=r+"main";yield Js.delete(i)}),function(r){return t.apply(this,arguments)})(u0(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class LM{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof gu||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Yd("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function _e(n,e,t,r={}){var i;const u=(n=M(n,Q))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&Yd("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,p;if("string"==typeof r.mockUserToken)c=r.mockUserToken,p=Mr.MOCK_USER;else{c=(0,$t.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Ne(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Mr(y)}n._authCredentials=new DI(new Sw(c,p))}}(this._delegate,e,t,r)}enableNetwork(){return function gO(n){return function lM(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield AC(n),t=yield zT(n);return e.setNetworkEnabled(!0),function(r){const i=Ke(r);return i.wu.delete(0),wp(i)}(t)}))}(qn(n=M(n,En)))}(this._delegate)}disableNetwork(){return function mO(n){return function WT(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield AC(n),t=yield zT(n);return e.setNetworkEnabled(!1),(r=(0,be.Z)(function*(i){const u=Ke(i);u.wu.add(0),yield Gc(u),u.yu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(qn(n=M(n,En)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,v("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function pO(n){return function(e){const t=new er;return e.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function fC(n,e){return F0.apply(this,arguments)}(yield SC(e),t)})),t.promise}(qn(n=M(n,En)))}(this._delegate)}onSnapshotsInSync(e){return function KO(n,e){return function s(n,e){const t=new Np(e);return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return r=yield Op(n),i=t,Ke(r).bu.add(i),void i.next();var r,i})),()=>{t.Aa(),n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return r=yield Op(n),i=t,void Ke(r).bu.delete(i);var r,i}))}}(qn(n=M(n,En)),Pp(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ne("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Oy(this,xe(this._delegate,e))}catch(t){throw ws(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ea(this,Bt(this._delegate,e))}catch(t){throw ws(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new bs(this,function mt(n,e){if(n=M(n,Q),g("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ne(ce.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Fe(n,null,(t=e,new ya(Gt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ws(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function YO(n,e,t){n=M(n,En);const r=Object.assign(Object.assign({},VO),t);return function(i){if(i.maxAttempts<1)throw new Ne(ce.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function o(n,e,t){const r=new er;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){const i=yield(u=n,K0(u).then(c=>c.datastore));var u;new DC(n.asyncQueue,i,t,e,r).run()})),r.promise}(qn(n),i=>e(new ZO(n,i)),r)}(this._delegate,t=>e(new VM(this,t)))}batch(){return qn(this._delegate),new BM(new xM(this._delegate,e=>Ny(this._delegate,e)))}loadBundle(e){return function yO(n,e){const t=qn(n=M(n,En)),r=new Y0;return function a(n,e,t,r){const i=function(u,c){let p;return p="string"==typeof u?(new TextEncoder).encode(u):u,y=function(y,b){if(y instanceof Uint8Array)return G0(y,b);if(y instanceof ArrayBuffer)return G0(new Uint8Array(y),b);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new HT(y,c);var y}(t,vp(e));n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){!function jT(n,e,t){const r=Ke(n);var i;(i=(0,be.Z)(function*(u,c,p){try{const y=yield c.getMetadata();if(yield function(F,B){const q=Ke(F),se=Rr(B.createTime);return q.persistence.runTransaction("hasNewerBundle","readonly",De=>q._s.getBundleMetadata(De,B.id)).then(De=>!!De&&De.createTime.compareTo(se)>=0)}(u.localStore,y))return yield c.close(),p._completeWith({taskState:"Success",documentsLoaded:(F=y).totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}),Promise.resolve(new Set);p._updateProgress(M0(y));const b=new aC(y,u.localStore,c.M);let S=yield c.ma();for(;S;){const F=yield b.Fu(S);F&&p._updateProgress(F),S=yield c.ma()}const x=yield b.complete();return yield Ml(u,x.Lu,void 0),yield function(F,B){const q=Ke(F);return q.persistence.runTransaction("Save bundle","readwrite",se=>q._s.saveBundleMetadata(se,B))}(u.localStore,y),p._completeWith(x.progress),Promise.resolve(x.Bu)}catch(y){return Yd("SyncEngine",`Loading bundle failed with ${y}`),p._failWith(y),Promise.resolve(new Set)}var F}),function(u,c,p){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield SC(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function _O(n,e){return function l(n,e){return n.asyncQueue.enqueue((0,be.Z)(function*(){return function(t,r){const i=Ke(t);return i.persistence.runTransaction("Get named query","readonly",u=>i._s.getNamedQuery(u,r))}(yield Z0(n),e)}))}(qn(n=M(n,En)),e).then(t=>t?new Fe(n,null,t.query):null)}(this._delegate,e).then(t=>t?new bs(this,t):null)}}class BC extends tA{constructor(e){super(),this.firestore=e}convertBytes(e){return new rE(new xl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ea.forKey(t,this.firestore,null)}}class VM{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new BC(e)}get(e){const t=jp(e);return this._delegate.get(t).then(r=>new iE(this._firestore,new Kc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=jp(e);return r?(rA("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=jp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=jp(e);return this._delegate.delete(t),this}}class BM{constructor(e){this._delegate=e}set(e,t,r){const i=jp(e);return r?(rA("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=jp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=jp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Up{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new tE(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new sE(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Up.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let u=i.get(t);return u||(u=new Up(e,new BC(e),t),i.set(t,u)),u}}Up.INSTANCES=new WeakMap;class Ea{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new BC(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ne("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ea(t,new Ae(t._delegate,r,new Ge(e)))}static forKey(e,t,r){return new Ea(t,new Ae(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Oy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Oy(this.firestore,xe(this._delegate,e))}catch(t){throw ws(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,$t.m9)(e))instanceof Ae&&tn(this._delegate,e)}set(e,t){t=rA("DocumentReference.set",t);try{return t?RM(this._delegate,e,t):RM(this._delegate,e)}catch(r){throw ws(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?NM(this._delegate,e):NM(this._delegate,e,t,...r)}catch(i){throw ws(i,"updateDoc()","DocumentReference.update()")}}delete(){return function zO(n){return Ny(M(n.firestore,En),[new Yf(n._key,vn.none())])}(this._delegate)}onSnapshot(...e){const t=UM(e),r=jM(e,i=>new iE(this.firestore,new Kc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return OM(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function jO(n){n=M(n,Ae);const e=M(n.firestore,En),t=qn(e),r=new Bp(e);return function cM(n,e){const t=new er;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(r=(0,be.Z)(function*(i,u,c){try{const p=yield function(y,b){const S=Ke(y);return S.persistence.runTransaction("read document","readonly",x=>S.fi.Ls(x,b))}(i,u);p.isFoundDocument()?c.resolve(p):p.isNoDocument()?c.resolve(null):c.reject(new Ne(ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const y=Ah(p,`Failed to get document '${u} from cache`);c.reject(y)}}),function(i,u,c){return r.apply(this,arguments)})(yield Z0(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Kc(e,r,n._key,i,new Vp(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function $O(n){n=M(n,Ae);const e=M(n.firestore,En);return KT(qn(e),n._key,{source:"server"}).then(t=>nA(e,n,t))}(this._delegate):function UO(n){n=M(n,Ae);const e=M(n.firestore,En);return KT(qn(e),n._key).then(t=>nA(e,n,t))}(this._delegate),t.then(r=>new iE(this.firestore,new Kc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ea(this.firestore,this._delegate.withConverter(e?Up.getInstance(this.firestore,e):null))}}function ws(n,e,t){return n.message=n.message.replace(e,t),n}function UM(n){for(const e of n)if("object"==typeof e&&!iA(e))return e;return{}}function jM(n,e){var t,r;let i;return i=iA(n[0])?n[0]:iA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{i.next&&i.next(e(u))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class iE{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ea(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return wM(this._delegate,e._delegate)}}class sE extends iE{data(e){const t=this._delegate.data(e);return function CI(n,e){n||ot()}(void 0!==t),t}}class bs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new BC(e)}where(e,t,r){try{return new bs(this.firestore,Rh(this._delegate,function MO(n,e,t){const r=e,i=LC("where",n);return new SO(i,r,t)}(e,t,r)))}catch(i){throw ws(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new bs(this.firestore,Rh(this._delegate,function RO(n,e="asc"){const t=e,r=LC("orderBy",n);return new xO(r,t)}(e,t)))}catch(r){throw ws(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new bs(this.firestore,Rh(this._delegate,function NO(n){return k("limit",n),new CM("limit",n,"F")}(e)))}catch(t){throw ws(t,"limit()","Query.limit()")}}limitToLast(e){try{return new bs(this.firestore,Rh(this._delegate,function OO(n){return k("limitToLast",n),new CM("limitToLast",n,"L")}(e)))}catch(t){throw ws(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new bs(this.firestore,Rh(this._delegate,function PO(...n){return new DM("startAt",n,!0)}(...e)))}catch(t){throw ws(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new bs(this.firestore,Rh(this._delegate,function kO(...n){return new DM("startAfter",n,!1)}(...e)))}catch(t){throw ws(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new bs(this.firestore,Rh(this._delegate,function FO(...n){return new IM("endBefore",n,!1)}(...e)))}catch(t){throw ws(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new bs(this.firestore,Rh(this._delegate,function LO(...n){return new IM("endAt",n,!0)}(...e)))}catch(t){throw ws(t,"endAt()","Query.endAt()")}}isEqual(e){return ts(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function GO(n){n=M(n,Fe);const e=M(n.firestore,En),t=qn(e),r=new Bp(e);return function dM(n,e){const t=new er;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(r=(0,be.Z)(function*(i,u,c){try{const p=yield ny(i,u,!0),y=new vy(u,p._i),b=y.Wu(p.documents),S=y.applyChanges(b,!1);c.resolve(S.snapshot)}catch(p){const y=Ah(p,`Failed to execute query '${u} against cache`);c.reject(y)}}),function(i,u,c){return r.apply(this,arguments)})(yield Z0(n),e,t);var r})),t.promise}(t,n._query).then(i=>new xh(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function qO(n){n=M(n,Fe);const e=M(n.firestore,En),t=qn(e),r=new Bp(e);return ZT(t,n._query,{source:"server"}).then(i=>new xh(e,r,n,i))}(this._delegate):function HO(n){n=M(n,Fe);const e=M(n.firestore,En),t=qn(e),r=new Bp(e);return bM(n._query),ZT(t,n._query).then(i=>new xh(e,r,n,i))}(this._delegate),t.then(r=>new sA(this.firestore,new xh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=UM(e),r=jM(e,i=>new sA(this.firestore,new xh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return OM(this._delegate,t,r)}withConverter(e){return new bs(this.firestore,this._delegate.withConverter(e?Up.getInstance(this.firestore,e):null))}}class aP{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new sE(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class sA{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new bs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new sE(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new aP(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new sE(this._firestore,r))})}isEqual(e){return wM(this._delegate,e._delegate)}}class Oy extends bs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ea(this.firestore,e):null}doc(e){try{return new Ea(this.firestore,void 0===e?Bt(this._delegate):Bt(this._delegate,e))}catch(t){throw ws(t,"doc()","CollectionReference.doc()")}}add(e){return function WO(n,e){const t=M(n.firestore,En),r=Bt(n),i=VC(n.converter,e);return Ny(t,[PC(Fp(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,vn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Ea(this.firestore,t))}isEqual(e){return tn(this._delegate,e._delegate)}withConverter(e){return new Oy(this.firestore,this._delegate.withConverter(e?Up.getInstance(this.firestore,e):null))}}function jp(n){return M(n,Ae)}class oA{constructor(...e){this._delegate=new Wc(...e)}static documentId(){return new oA(tr.keyField().canonicalString())}isEqual(e){return(e=(0,$t.m9)(e))instanceof Wc&&this._delegate._internalPath.isEqual(e._internalPath)}}class $p{constructor(e){this._delegate=e}static serverTimestamp(){const e=function JO(){return new YT("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new $p(e)}static delete(){const e=function QO(){return new X0("deleteField")}();return e._methodName="FieldValue.delete",new $p(e)}static arrayUnion(...e){const t=function XO(...n){return new bO("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new $p(t)}static arrayRemove(...e){const t=function eP(...n){return new CO("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new $p(t)}static increment(e){const t=function tP(n){return new DO("increment",n)}(e);return t._methodName="FieldValue.increment",new $p(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const uP={Firestore:LM,GeoPoint:NC,Timestamp:gr,Blob:rE,Transaction:VM,WriteBatch:BM,DocumentReference:Ea,DocumentSnapshot:iE,Query:bs,QueryDocumentSnapshot:sE,QuerySnapshot:sA,CollectionReference:Oy,FieldPath:oA,FieldValue:$p,setLogLevel:function oP(n){!function KS(n){pl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function cP(n){(function lP(n,e){n.INTERNAL.registerComponent(new Hg.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},uP)))})(n,(e,t)=>new LM(e,t,new sP)),n.registerVersion("@firebase/firestore-compat","0.1.18")}(HE.Z);var $M=O(6451),UC=O(5363),dP=O(6063);class HM extends Gr.x{constructor(e=1/0,t=1/0,r=dP.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:u,_windowTime:c}=this;t||(r.push(e),!i&&r.push(u.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,u=i.slice();for(let c=0;c<u.length&&!e.closed;c+=r?1:2)e.next(u[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,u=(i?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!i){const c=t.now();let p=0;for(let y=1;y<r.length&&r[y]<=c;y+=2)p=y;p&&r.splice(0,p+1)}}}var hP=O(3099);function GM(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,hP.B)({connector:()=>new HM(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function qM(n,e){return(0,Si.m)(e)?Nn(()=>n,e):Nn(()=>n)}var aA=O(9468);O(5867);const WM=new Map,yP={activated:!1,tokenObservers:[]},_P={initialized:!1,enabled:!1};function wi(n){return WM.get(n)||yP}function bu(n,e){WM.set(n,e)}function $C(){return _P}class CP{constructor(e,t,r,i,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=i,i>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,be.Z)(function*(){t.stop();try{t.pending=new $t.BH,yield function DP(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new $t.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Cs=new $t.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ZM(n){if(!wi(n).activated)throw Cs.create("use-before-activation",{appName:n.name})}function dA(n,e){return hA.apply(this,arguments)}function hA(){return hA=(0,be.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const x=yield i.getHeartbeatsHeader();x&&(r["X-Firebase-Client"]=x)}const u={method:"POST",body:JSON.stringify(e),headers:r};let c,p;try{c=yield fetch(n,u)}catch(x){throw Cs.create("fetch-network-error",{originalErrorMessage:x.message})}if(200!==c.status)throw Cs.create("fetch-status-error",{httpStatus:c.status});try{p=yield c.json()}catch(x){throw Cs.create("fetch-parse-error",{originalErrorMessage:x.message})}const y=p.ttl.match(/^([\d.]+)(s)$/);if(!y||!y[2]||isNaN(Number(y[1])))throw Cs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});const b=1e3*Number(y[1]),S=Date.now();return{token:p.token,expireTimeMillis:S+b,issuedAtTimeMillis:S}}),hA.apply(this,arguments)}function MP(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const oE="firebase-app-check-store";let qC=null;function QM(){return qC||(qC=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Cs.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(oE,{keyPath:"compositeKey"})}}catch(t){e(Cs.create("storage-open",{originalErrorMessage:t.message}))}}),qC)}function fA(){return fA=(0,be.Z)(function*(n,e){const r=(yield QM()).transaction(oE,"readwrite"),u=r.objectStore(oE).put({compositeKey:n,value:e});return new Promise((c,p)=>{u.onsuccess=y=>{c()},r.onerror=y=>{var b;p(Cs.create("storage-set",{originalErrorMessage:null===(b=y.target.error)||void 0===b?void 0:b.message}))}})}),fA.apply(this,arguments)}const aE=new rl.Yd("@firebase/app-check");function tx(n,e){return(0,$t.hl)()?function OP(n,e){return function JM(n,e){return fA.apply(this,arguments)}(function ex(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{aE.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function nx(){return $C().enabled}function rx(){return yA.apply(this,arguments)}function yA(){return yA=(0,be.Z)(function*(){const n=$C();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),yA.apply(this,arguments)}const BP={error:"UNKNOWN_ERROR"};function UP(n){return $t.US.encodeString(JSON.stringify(n),!1)}function zC(n){return _A.apply(this,arguments)}function _A(){return _A=(0,be.Z)(function*(n,e=!1){const t=n.app;ZM(t);const r=wi(t);let u,i=r.token;if(!i){const y=yield r.cachedTokenPromise;y&&WC(y)&&(i=y)}if(!e&&i&&WC(i))return{token:i.token};let p,c=!1;if(nx()){r.exchangeTokenPromise||(r.exchangeTokenPromise=dA(MP(t,yield rx()),n.heartbeatServiceProvider).then(b=>(r.exchangeTokenPromise=void 0,b)),c=!0);const y=yield r.exchangeTokenPromise;return yield tx(t,y),bu(t,Object.assign(Object.assign({},r),{token:y})),{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(y=>(r.exchangeTokenPromise=void 0,y)),c=!0),i=yield r.exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?aE.warn(y.message):aE.error(y),u=y}return i?(p={token:i.token},bu(t,Object.assign(Object.assign({},r),{token:i})),yield tx(t,i)):p=$P(u),c&&sx(t,p),p}),_A.apply(this,arguments)}function EA(n,e){const t=wi(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),bu(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function ix(n){const{app:e}=n,t=wi(e);let r=t.tokenRefresher;r||(r=function jP(n){const{app:e}=n;return new CP((0,be.Z)(function*(){let r;if(r=wi(e).token?yield zC(n,!0):yield zC(n),r.error)throw r.error}),()=>!0,()=>{const t=wi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),bu(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function sx(n,e){const t=wi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function WC(n){return n.expireTimeMillis-Date.now()>0}function $P(n){return{token:UP(BP),error:n}}class HP{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=wi(this.app);for(const t of e)EA(this.app,t.next);return Promise.resolve()}}const fx="app-check-internal";!function rk(){(0,pc._registerComponent)(new Hg.wA("app-check",n=>function GP(n,e){return new HP(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(fx).initialize()})),(0,pc._registerComponent)(new Hg.wA(fx,n=>function qP(n){return{getToken:e=>zC(n,e),addTokenListener:e=>function vA(n,e,t,r){const{app:i}=n,u=wi(i),c={next:t,error:r,type:e};if(bu(i,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,c]})),u.token&&WC(u.token)){const p=u.token;Promise.resolve().then(()=>{t({token:p.token}),ix(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>ix(n))}(n,"INTERNAL",e),removeTokenListener:e=>EA(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,pc.registerVersion)("@firebase/app-check","0.5.8")}();class DA{constructor(){return(0,Kr.vb)("app-check")}}"undefined"!=typeof window&&window;var uk=O(127);const gx=new h.OlP("angularfire2.auth.use-emulator"),mx=new h.OlP("angularfire2.auth.settings"),yx=new h.OlP("angularfire2.auth.tenant-id"),_x=new h.OlP("angularfire2.auth.langugage-code"),vx=new h.OlP("angularfire2.auth.use-device-language"),Ex=new h.OlP("angularfire.auth.persistence"),wx=(n,e,t,r,i,u,c,p)=>(0,Xn.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=i,u&&y.useDeviceLanguage(),c)for(const[b,S]of Object.entries(c))y.settings[b]=S;return p&&y.setPersistence(p),y},[t,r,i,u,c,p]);let bx=(()=>{class n{constructor(t,r,i,u,c,p,y,b,S,x,F,B){const q=new Gr.x,se=it(void 0).pipe((0,UC.Q)(c.outsideAngular),Nn(()=>u.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,7092)))),(0,Ot.U)(()=>(0,Xn.on)(t,u,r)),(0,Ot.U)(De=>wx(De,u,p,b,S,x,y,F)),GM({bufferSize:1,refCount:!1}));if($o(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=it(null);else{se.pipe(ia()).subscribe();const Qe=se.pipe(Nn(nt=>nt.getRedirectResult().then(Et=>Et,()=>null)),Kr.iC,GM({bufferSize:1,refCount:!1})),et=se.pipe(Nn(nt=>new xn.y(Et=>({unsubscribe:u.runOutsideAngular(()=>nt.onAuthStateChanged(Tt=>Et.next(Tt),Tt=>Et.error(Tt),()=>Et.complete()))})))),He=se.pipe(Nn(nt=>new xn.y(Et=>({unsubscribe:u.runOutsideAngular(()=>nt.onIdTokenChanged(Tt=>Et.next(Tt),Tt=>Et.error(Tt),()=>Et.complete()))}))));this.authState=Qe.pipe(qM(et),(0,aA.R)(c.outsideAngular),(0,UC.Q)(c.insideAngular)),this.user=Qe.pipe(qM(He),(0,aA.R)(c.outsideAngular),(0,UC.Q)(c.insideAngular)),this.idToken=this.user.pipe(Nn(nt=>nt?(0,Cn.D)(nt.getIdToken()):it(null))),this.idTokenResult=this.user.pipe(Nn(nt=>nt?(0,Cn.D)(nt.getIdTokenResult()):it(null))),this.credential=(0,$M.T)(Qe,q,this.authState.pipe(qr(nt=>!nt))).pipe((0,Ot.U)(nt=>(null==nt?void 0:nt.user)?nt:null),(0,aA.R)(c.outsideAngular),(0,UC.Q)(c.insideAngular))}return(0,Xn.pX)(this,se,u,{spy:{apply:(De,Qe,et)=>{(De.startsWith("signIn")||De.startsWith("createUser"))&&et.then(He=>q.next(He))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Xn.Dh),h.LFG(Xn.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Kr.HU),h.LFG(gx,8),h.LFG(mx,8),h.LFG(yx,8),h.LFG(_x,8),h.LFG(vx,8),h.LFG(Ex,8),h.LFG(DA,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function Cx(n,e){return function ck(n,e=$E.z){return new xn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function TA(n,e){return Cx(n,e).pipe((0,Ot.U)(t=>({payload:t,type:"query"})))}function ZC(n,e){return TA(n,e).pipe(Yi(void 0),$g(),(0,Ot.U)(([t,r])=>{const i=r.payload.docChanges(),u=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,p)=>{const y=i.find(S=>S.doc.ref.isEqual(c.ref)),b=null==t?void 0:t.payload.docs.find(S=>S.ref.isEqual(c.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(c.metadata)||!y&&b&&JSON.stringify(b.metadata)===JSON.stringify(c.metadata)||u.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:c}})}),u}))}function Dx(n,e,t){return ZC(n,t).pipe(Qi((r,i)=>function hk(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function fk(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return AA(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return AA(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return AA(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(u=>u.payload),e),[]),function HD(n,e=Ai.y){return n=null!=n?n:GD,(0,dr.e)((t,r)=>{let i,u=!0;t.subscribe((0,Rn.x)(r,c=>{const p=e(c);(u||!n(i,p))&&(u=!1,i=p,r.next(c))}))})}(),(0,Ot.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function AA(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function Ix(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class Tx{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=ZC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Ot.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Yi(void 0),$g(),qr(([r,i])=>i.length>0||!r),(0,Ot.U)(([r,i])=>i),Kr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Qi((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Ix(e);return Dx(this.query,t,this.afs.schedulers.outsideAngular).pipe(Kr.iC)}valueChanges(e={}){return TA(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ot.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Kr.iC)}get(e){return(0,Cn.D)(this.query.get(e)).pipe(Kr.iC)}add(e){return this.ref.add(e)}doc(e){return new Ax(this.ref.doc(e),this.afs)}}class Ax{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:u}=xx(r,t);return new Tx(i,u,this.afs)}snapshotChanges(){return function dk(n,e){return Cx(n,e).pipe(Yi(void 0),$g(),(0,Ot.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Kr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Ot.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Cn.D)(this.ref.get(e)).pipe(Kr.iC)}}class pk{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?ZC(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ot.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),qr(t=>t.length>0),Kr.iC):ZC(this.query,this.afs.schedulers.outsideAngular).pipe(Kr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Qi((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Ix(e);return Dx(this.query,t,this.afs.schedulers.outsideAngular).pipe(Kr.iC)}valueChanges(e={}){return TA(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ot.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Kr.iC)}get(e){return(0,Cn.D)(this.query.get(e)).pipe(Kr.iC)}}const Sx=new h.OlP("angularfire2.enableFirestorePersistence"),Mx=new h.OlP("angularfire2.firestore.persistenceSettings"),gk=new h.OlP("angularfire2.firestore.settings"),mk=new h.OlP("angularfire2.firestore.use-emulator");function xx(n,e=(t=>t)){return{query:e(n),ref:n}}let YC=(()=>{class n{constructor(t,r,i,u,c,p,y,b,S,x,F,B,q,se,De,Qe,et){this.schedulers=y;const He=(0,Xn.on)(t,p,r),nt=S;x&&wx(He,p,F,q,se,De,B,Qe),[this.firestore,this.persistenceEnabled$]=(0,Xn.cc)(`${He.name}.firestore`,"AngularFirestore",He.name,()=>{const Et=p.runOutsideAngular(()=>He.firestore());if(u&&Et.settings(u),nt&&Et.useEmulator(...nt),i&&!$o(c)){const Tt=()=>{try{return(0,Cn.D)(Et.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(Lt){return"undefined"!=typeof console&&console.warn(Lt),it(!1)}};return[Et,p.runOutsideAngular(Tt)]}return[Et,it(!1)]},[u,nt,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:c}=xx(i,r),p=this.schedulers.ngZone.run(()=>u);return new Tx(p,c,this)}collectionGroup(t,r){const i=r||(c=>c),u=this.firestore.collectionGroup(t);return new pk(i(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new Ax(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Xn.Dh),h.LFG(Xn.xv,8),h.LFG(Sx,8),h.LFG(gk,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Kr.HU),h.LFG(Mx,8),h.LFG(mk,8),h.LFG(bx,8),h.LFG(gx,8),h.LFG(mx,8),h.LFG(yx,8),h.LFG(_x,8),h.LFG(vx,8),h.LFG(Ex,8),h.LFG(DA,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),SA=(()=>{class n{constructor(){uk.Z.registerVersion("angularfire",Kr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:Sx,useValue:!0},{provide:Mx,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[YC]}),n})();const Rx=(n,e)=>{if(void 0===e)return n;const t=Object.keys(e);return n.filter(i=>((i,u,c)=>void 0===i.find(p=>u[p]!==c[p]))(t,i,e))};let MA=(()=>{class n{constructor(t){this._client=t}getAll(t){return this._client.collection("products-list").valueChanges({idField:"id"}).pipe((0,Ot.U)(r=>Rx(r,t)))}getOne(t){return console.log(t),this._client.doc("products-list/"+t).valueChanges({idField:"id"})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(YC))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Nx=new h.OlP("GETS_ONE_PRODUCT_DTO");let Ox=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[MA,{provide:BE,useExisting:MA},{provide:Nx,useExisting:MA}],imports:[[SA]]}),n})();const Px=new h.OlP("GETS_ALL_CART_DTO");let QC=(()=>{class n{constructor(t){this._client=t}getAll(t){return this._client.collection("carts").valueChanges({idField:"id"}).pipe((0,Ot.U)(r=>Rx(r,t)))}add(t){console.log(t),this._client.collection("carts").add(t)}remove(t){this._client.doc("carts/"+t).delete()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(YC))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const kx=new h.OlP("REMOVES_CART_DTO");let Fx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[QC,{provide:Px,useExisting:QC},{provide:__,useExisting:QC},{provide:kx,useExisting:QC}],imports:[[SA]]}),n})(),yk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[],imports:[[Dr,Xi.forChild([{path:"",component:jE}]),LS,Ox,Fx]]}),n})(),Lx=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n}),n})(),Hp=(()=>{class n extends Lx{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();const Rl=new h.OlP("NgValueAccessor"),Ek={provide:Rl,useExisting:(0,h.Gpc)(()=>uE),multi:!0},bk=new h.OlP("CompositionEventMode");let uE=(()=>{class n extends Lx{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function wk(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(bk,8))},n.\u0275dir=h.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&h.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[h._Bn([Ek]),h.qOj]}),n})();const ns=new h.OlP("NgValidators"),Ph=new h.OlP("NgAsyncValidators");function Kx(n){return null!=n}function Zx(n){const e=(0,h.QGY)(n)?(0,Cn.D)(n):n;return(0,h.CqO)(e),e}function Yx(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Qx(n,e){return e.map(t=>t(n))}function Jx(n){return n.map(e=>function Dk(n){return!n.validate}(e)?e:t=>e.validate(t))}function xA(n){return null!=n?function Xx(n){if(!n)return null;const e=n.filter(Kx);return 0==e.length?null:function(t){return Yx(Qx(t,e))}}(Jx(n)):null}function RA(n){return null!=n?function eR(n){if(!n)return null;const e=n.filter(Kx);return 0==e.length?null:function(t){return function _k(...n){const e=(0,ja.jO)(n),{args:t,keys:r}=un(n),i=new xn.y(u=>{const{length:c}=t;if(!c)return void u.complete();const p=new Array(c);let y=c,b=c;for(let S=0;S<c;S++){let x=!1;(0,po.Xf)(t[S]).subscribe((0,Rn.x)(u,F=>{x||(x=!0,b--),p[S]=F},()=>y--,void 0,()=>{(!y||!x)&&(b||u.next(r?ec(r,p):p),u.complete())}))}});return e?i.pipe(Xl(e)):i}(Qx(t,e).map(Zx)).pipe((0,Ot.U)(Yx))}}(Jx(n)):null}function tR(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function nR(n){return n._rawValidators}function rR(n){return n._rawAsyncValidators}function NA(n){return n?Array.isArray(n)?n:[n]:[]}function XC(n,e){return Array.isArray(n)?n.includes(e):n===e}function iR(n,e){const t=NA(e);return NA(n).forEach(i=>{XC(t,i)||t.push(i)}),t}function sR(n,e){return NA(e).filter(t=>!XC(n,t))}class oR{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=xA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=RA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class kh extends oR{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ds extends oR{get formDirective(){return null}get path(){return null}}class aR{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let OA=(()=>{class n extends aR{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(kh,2))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[h.qOj]}),n})(),PA=(()=>{class n extends aR{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Ds,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[h.qOj]}),n})();function lE(n,e){LA(n,e),e.valueAccessor.writeValue(n.value),function Nk(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&lR(n,e)})}(n,e),function Pk(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Ok(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&lR(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Rk(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function nD(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),iD(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function rD(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function LA(n,e){const t=nR(n);null!==e.validator?n.setValidators(tR(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=rR(n);null!==e.asyncValidator?n.setAsyncValidators(tR(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();rD(e._rawValidators,i),rD(e._rawAsyncValidators,i)}function iD(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=nR(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(c=>c!==e.validator);u.length!==i.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const i=rR(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(c=>c!==e.asyncValidator);u.length!==i.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return rD(e._rawValidators,r),rD(e._rawAsyncValidators,r),t}function lR(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function UA(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const cE="VALID",sD="INVALID",Py="PENDING",dE="DISABLED";function $A(n){return(oD(n)?n.validators:n)||null}function fR(n){return Array.isArray(n)?xA(n):n||null}function HA(n,e){return(oD(e)?e.asyncValidators:n)||null}function pR(n){return Array.isArray(n)?RA(n):n||null}function oD(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const gR=n=>n instanceof Fh,GA=n=>n instanceof hE;function mR(n){return gR(n)?n.value:n.getRawValue()}function yR(n,e){const t=GA(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new h.vHH(1e3,"");if(!r[e])throw new h.vHH(1001,"")}function _R(n,e){GA(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new h.vHH(1002,"")})}class qA{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=fR(this._rawValidators),this._composedAsyncValidatorFn=pR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===cE}get invalid(){return this.status===sD}get pending(){return this.status==Py}get disabled(){return this.status===dE}get enabled(){return this.status!==dE}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=fR(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=pR(e)}addValidators(e){this.setValidators(iR(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(iR(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(sR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(sR(e,this._rawAsyncValidators))}hasValidator(e){return XC(this._rawValidators,e)}hasAsyncValidator(e){return XC(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Py,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=dE,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=cE,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===cE||this.status===Py)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?dE:cE}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Py,this._hasOwnPendingAsyncValidator=!0;const t=Zx(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function Vk(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=GA(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof Uk)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?dE:this.errors?sD:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Py)?Py:this._anyControlsHaveStatus(sD)?sD:cE}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){oD(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Fh extends qA{constructor(e=null,t,r){super($A(t),HA(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),oD(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){UA(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){UA(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class hE extends qA{constructor(e,t,r){super($A(t),HA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){_R(this,e),Object.keys(e).forEach(r=>{yR(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=mR(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,u)=>{r=t(r,i,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Uk extends qA{constructor(e,t,r){super($A(t),HA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){_R(this,e),e.forEach((r,i)=>{yR(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>mR(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let WA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),DR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();const KA=new h.OlP("NgModelWithFormControlWarning"),Zk={provide:Ds,useExisting:(0,h.Gpc)(()=>pE)};let pE=(()=>{class n extends Ds{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new h.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(iD(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return lE(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){nD(t.control||null,t,!1),UA(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function hR(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(nD(r||null,t),gR(i)&&(lE(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function cR(n,e){LA(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function kk(n,e){return iD(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){LA(this.form,this),this._oldForm&&iD(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(ns,10),h.Y36(Ph,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&h.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([Zk]),h.qOj,h.TTD]}),n})();const Jk={provide:kh,useExisting:(0,h.Gpc)(()=>aD)};let aD=(()=>{class n extends kh{constructor(t,r,i,u,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new h.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function BA(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(u=>{u.constructor===uE?t=u:function Lk(n){return Object.getPrototypeOf(n.constructor)===Hp}(u)?r=u:i=u}),i||r||t||null}(0,u)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function VA(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function tD(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(h.Y36(Ds,13),h.Y36(ns,10),h.Y36(Ph,10),h.Y36(Rl,10),h.Y36(KA,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[h._Bn([Jk]),h.qOj,h.TTD]}),n})(),g1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[DR]]}),n})(),UR=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:KA,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[g1]}),n})();function m1(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div",4)(1,"ul",16)(2,"li",17),h._uU(3),h.qZA(),h.TgZ(4,"li",17),h._uU(5),h.qZA(),h.TgZ(6,"li",17)(7,"form",18)(8,"button",19),h.NdJ("click",function(){return h.CHM(t),h.oxw().onEditAmountPlus()}),h.O4$(),h.TgZ(9,"svg",20),h._UZ(10,"path",21),h.qZA()(),h.kcU(),h._UZ(11,"input",22),h.TgZ(12,"button",19),h.NdJ("click",function(){return h.CHM(t),h.oxw().onEditAmountMinus()}),h.O4$(),h.TgZ(13,"svg",23),h._UZ(14,"path",24),h.qZA()()()(),h.kcU(),h.TgZ(15,"li",25),h._uU(16),h.qZA(),h.TgZ(17,"button",26),h.NdJ("click",function(){const u=h.CHM(t).$implicit;return h.oxw().clickConfirm(u.id)}),h.qZA()()()}if(2&n){const t=e.$implicit,r=h.oxw();h.xp6(3),h.Oqu(t.name),h.xp6(2),h.hij("",t.price," $"),h.xp6(2),h.Q6J("formGroup",r.editAmount),h.xp6(9),h.hij("",t.price," $")}}let y1=(()=>{class n{constructor(t,r){this._getsAllCartDto=t,this._removesCartDto=r,this.cartList$=this._getsAllCartDto.getAll(),this.editAmount=new hE({number:new Fh})}removeItem(t){console.log(t),this._removesCartDto.remove(t)}clickConfirm(t){confirm("Are you sure to delete this product?")&&(console.log(t),this._removesCartDto.remove(t))}onEditAmountPlus(){}onEditAmountMinus(){}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Px),h.Y36(kx))},n.\u0275cmp=h.Xpm({type:n,selectors:[["lib-cart-list"]],decls:44,vars:3,consts:[[1,"mb-3","ps-2"],["href","/home",1,"text-reset","text-decoration-none","fw-light"],["href","/cart",1,"text-reset","text-decoration-none","fw-light"],[1,"container"],[1,""],[1,"row","justify-content-md-center"],[1,"col-md-2","list-group-item"],[1,"border","border-2","rounded","break-line"],["class"," ",4,"ngFor","ngForOf"],[1,"mt-3","pt-3",2,"width","18rem"],[1,"p-2","mt-2"],[1,"card-title","mb-2","pb-2"],[1,"d-flex","justify-content-between","align-items-center"],[1,"card-subtitle","text-muted","align-middle"],[1,"d-flex","justify-content-between"],[1,"mt-4","btn","btn-click"],[1,"d-flex","row","justify-content-md-center","align-items-center"],[1,"list-group-item","col-sm-2"],[1,"d-flex","align-items-center",3,"formGroup"],["type","submit","value","Submit",1,"btn","btn-light","btn-plus-minus",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-dash"],["d","M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"],["type","text","formControlName","number","placeholder","1",2,"width","30px"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-plus"],["d","M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"],[1,"list-group-item","col-2"],[1,"col-2","btn-close",3,"click"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"a",1),h._uU(2,"HOME"),h.qZA(),h._uU(3," / "),h.TgZ(4,"a",2),h._uU(5,"Shopping cart"),h.qZA()(),h.TgZ(6,"div",3)(7,"div",4)(8,"ul",5)(9,"li",6),h._uU(10," Product "),h.qZA(),h.TgZ(11,"li",6),h._uU(12," Price "),h.qZA(),h.TgZ(13,"li",6),h._uU(14," Quantity "),h.qZA(),h.TgZ(15,"li",6),h._uU(16," Total "),h.qZA()(),h._UZ(17,"hr",7),h.qZA(),h.YNc(18,m1,18,4,"div",8),h.ALo(19,"async"),h.TgZ(20,"div",9)(21,"div",10)(22,"h4",11),h._uU(23,"Cart Totals"),h.qZA(),h.TgZ(24,"div",12)(25,"div")(26,"h6",13),h._uU(27,"Subtotal"),h.qZA()(),h.TgZ(28,"div"),h._uU(29,"cena $"),h.qZA()(),h._UZ(30,"hr",7),h.TgZ(31,"div",14)(32,"h6",13),h._uU(33,"Shipping free"),h.qZA(),h.TgZ(34,"div"),h._uU(35,"cena $"),h.qZA()(),h._UZ(36,"hr",7),h.TgZ(37,"div",14)(38,"h6",13),h._uU(39,"Total"),h.qZA(),h.TgZ(40,"div"),h._uU(41,"cena $"),h.qZA()(),h.TgZ(42,"button",15),h._uU(43," PROCEED TO CHECKOUT "),h.qZA()()()()),2&t&&(h.xp6(18),h.Q6J("ngForOf",h.lcZ(19,1,r.cartList$)))},directives:[Fn,WA,PA,pE,uE,OA,aD],pipes:[Fl],encapsulation:2,changeDetection:0}),n})(),_1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-cart-page"]],decls:1,vars:0,template:function(t,r){1&t&&h._UZ(0,"lib-cart-list")},directives:[y1],encapsulation:2,changeDetection:0}),n})(),v1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[],imports:[[Dr,Xi,UR]]}),n})(),E1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[],imports:[[Dr,Xi.forChild([{path:"",component:_1}]),v1,Fx]]}),n})(),w1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-checkout-page"]],decls:2,vars:0,template:function(t,r){1&t&&(h.TgZ(0,"h1"),h._uU(1,"CheckoutPage"),h.qZA())},encapsulation:2,changeDetection:0}),n})(),b1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[],imports:[[Dr,Xi.forChild([{path:"",component:w1}])]]}),n})();const jR=new h.OlP("ADDS_CHECKOUT_DTO");let C1=(()=>{class n{constructor(t){this._addsCheckoutDto=t,this.addCheckout=new hE({fullName:new Fh,address:new Fh,town:new Fh,phone:new Fh,email:new Fh})}onProductsClicked(t){var r,i,u,c,p;this._addsCheckoutDto.add({fullName:null===(r=t.get("fullName"))||void 0===r?void 0:r.value,address:null===(i=t.get("address"))||void 0===i?void 0:i.value,town:null===(u=t.get("town"))||void 0===u?void 0:u.value,phone:null===(c=t.get("phone"))||void 0===c?void 0:c.value,email:null===(p=t.get("email"))||void 0===p?void 0:p.value}),t.reset()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(jR))},n.\u0275cmp=h.Xpm({type:n,selectors:[["lib-checkout"]],decls:26,vars:1,consts:[[3,"formGroup"],[2,"color","red"],["type","text","formControlName","fullName","placeholder",""],["type","text","formControlName","address","placeholder","House number and street name"],["type","text","formControlName","town","placeholder",""],["type","text","formControlName","phone","placeholder",""],["type","text","formControlName","email","placeholder",""],["type","submit","value","Submit",1,"btn","btn-danger",3,"click"]],template:function(t,r){1&t&&(h.TgZ(0,"h2"),h._uU(1,"Billing details"),h.qZA(),h.TgZ(2,"form",0)(3,"p"),h._uU(4,"Full Name "),h.TgZ(5,"span",1),h._uU(6,"*"),h.qZA()(),h._UZ(7,"input",2),h.TgZ(8,"p"),h._uU(9,"Street adress "),h.TgZ(10,"span",1),h._uU(11,"*"),h.qZA()(),h._UZ(12,"input",3),h.TgZ(13,"p"),h._uU(14,"Town/City"),h.qZA(),h._UZ(15,"input",4),h.TgZ(16,"p"),h._uU(17,"Phone"),h.qZA(),h._UZ(18,"input",5),h.TgZ(19,"p"),h._uU(20,"Email adress "),h.TgZ(21,"span",1),h._uU(22,"*"),h.qZA()(),h._UZ(23,"input",6),h.TgZ(24,"button",7),h.NdJ("click",function(){return r.onProductsClicked(r.addCheckout)}),h._uU(25," PLACE ORDER "),h.qZA()()),2&t&&(h.xp6(2),h.Q6J("formGroup",r.addCheckout))},directives:[WA,PA,pE,uE,OA,aD],encapsulation:2,changeDetection:0}),n})(),D1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["lib-checkout-summary"]],decls:1,vars:0,template:function(t,r){1&t&&h._UZ(0,"lib-checkout")},directives:[C1],encapsulation:2,changeDetection:0}),n})(),I1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[],imports:[[Dr,UR]]}),n})(),eS=(()=>{class n{constructor(t){this._client=t}add(t){this._client.collection("checkouts").add(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(YC))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const T1=new h.OlP("GETS_ALL_CHECKOUT_DTO");let A1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[eS,{provide:T1,useExisting:eS},{provide:jR,useExisting:eS}],imports:[[SA]]}),n})(),S1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[],imports:[[Dr,Xi.forChild([{path:"",component:D1}]),A1,I1]]}),n})();class M1{constructor(e,t){this.open=e,this.close=t||e}isManual(){return"manual"===this.open||"manual"===this.close}}const x1={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};const zn="undefined"!=typeof window&&window||{};var uD=(()=>(function(n){n.isBs3="bs3",n.isBs4="bs4",n.isBs5="bs5"}(uD||(uD={})),uD))();let Oo;function tS(){if(void 0===zn.document)return"bs4";const n=zn.document.createElement("span");n.innerText="testing bs version",n.classList.add("d-none"),n.classList.add("pl-1"),zn.document.head.appendChild(n);const e=n.getBoundingClientRect(),t=zn.getComputedStyle(n).paddingLeft;return!e||e&&0!==e.top?(zn.document.head.removeChild(n),"bs3"):t&&parseFloat(t)?(zn.document.head.removeChild(n),"bs4"):(zn.document.head.removeChild(n),"bs5")}function Zc(){return void 0===zn||(void 0===zn.__theme?(Oo||(Oo=tS()),"bs3"===Oo):"bs3"===zn.__theme)}function HR(){return!Zc()&&(Oo||(Oo=tS()),"bs4"===Oo)}function gE(){return{isBs3:Zc(),isBs4:HR(),isBs5:!Zc()&&!HR()&&(Oo||(Oo=tS()),"bs5"===Oo)}}"undefined"==typeof console||console;class lD{}const Yc="*";function qR(n,e=null){return{type:2,steps:n,options:e}}function cD(n){return{type:6,styles:n,offset:null}}function zR(n){Promise.resolve(null).then(n)}class mE{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){zR(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class WR{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const u=this.players.length;0==u?zR(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==u&&this._onFinish()}),c.onDestroy(()=>{++r==u&&this._onDestroy()}),c.onStart(()=>{++i==u&&this._onStart()})}),this.totalTime=this.players.reduce((c,p)=>Math.max(c,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}var U1=O(1144);const j1=["addListener","removeListener"],$1=["addEventListener","removeEventListener"],H1=["on","off"];function dD(n,e,t,r){if((0,Si.m)(t)&&(r=t,t=void 0),r)return dD(n,e,t).pipe(Xl(r));const[i,u]=function z1(n){return(0,Si.m)(n.addEventListener)&&(0,Si.m)(n.removeEventListener)}(n)?$1.map(c=>p=>n[c](e,p,t)):function G1(n){return(0,Si.m)(n.addListener)&&(0,Si.m)(n.removeListener)}(n)?j1.map(KR(n,e)):function q1(n){return(0,Si.m)(n.on)&&(0,Si.m)(n.off)}(n)?H1.map(KR(n,e)):[];if(!i&&(0,U1.z)(n))return(0,gn.z)(c=>dD(c,e,t))((0,po.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new xn.y(c=>{const p=(...y)=>c.next(1<y.length?y:y[0]);return i(p),()=>u(p)})}function KR(n,e){return t=>r=>n[t](e,r)}var W1=O(4408);const yE={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=yE;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(u=>{t=void 0,n(u)});return new cs.w0(()=>null==t?void 0:t(i))},requestAnimationFrame(...n){const{delegate:e}=yE;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=yE;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var Z1=O(7565);const Q1=new class Y1 extends Z1.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class K1 extends W1.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=yE.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(yE.cancelAnimationFrame(t),e._scheduled=void 0)}});var hD=(()=>(function(n){n.top="top",n.bottom="bottom",n.left="left",n.right="right",n.auto="auto",n.end="right",n.start="left",n["top left"]="top left",n["top right"]="top right",n["right top"]="right top",n["right bottom"]="right bottom",n["bottom right"]="bottom right",n["bottom left"]="bottom left",n["left bottom"]="left bottom",n["left top"]="left top",n["top start"]="top left",n["top end"]="top right",n["end top"]="right top",n["end bottom"]="right bottom",n["bottom end"]="bottom right",n["bottom start"]="bottom left",n["start bottom"]="start bottom",n["start top"]="left top"}(hD||(hD={})),hD))(),_E=(()=>(function(n){n.top="top",n.bottom="bottom",n.left="start",n.right="end",n.auto="auto",n.end="end",n.start="start",n["top left"]="top start",n["top right"]="top end",n["right top"]="end top",n["right bottom"]="end bottom",n["bottom right"]="bottom end",n["bottom left"]="bottom start",n["left bottom"]="start bottom",n["left top"]="start top",n["top start"]="top start",n["top end"]="top end",n["end top"]="end top",n["end bottom"]="end bottom",n["bottom end"]="bottom end",n["bottom start"]="bottom start",n["start bottom"]="start bottom",n["start top"]="start top"}(_E||(_E={})),_E))();function qp(n,e){if(1!==n.nodeType)return[];const t=n.ownerDocument.defaultView,r=null==t?void 0:t.getComputedStyle(n,null);return e?r&&r[e]:r}function rS(n){if(!n)return document.documentElement;let r,t=null==n?void 0:n.offsetParent;for(;null===t&&n.nextElementSibling&&r!==n.nextElementSibling;)r=n.nextElementSibling,t=r.offsetParent;const i=t&&t.nodeName;return i&&"BODY"!==i&&"HTML"!==i?t&&-1!==["TH","TD","TABLE"].indexOf(t.nodeName)&&"static"===qp(t,"position")?rS(t):t:r?r.ownerDocument.documentElement:document.documentElement}function iS(n){return null!==n.parentNode?iS(n.parentNode):n}function fD(n,e){if(!(n&&n.nodeType&&e&&e.nodeType))return document.documentElement;const t=n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=t?n:e,i=t?e:n,u=document.createRange();u.setStart(r,0),u.setEnd(i,0);const c=u.commonAncestorContainer;if(n!==c&&e!==c||r.contains(i))return function J1(n){const{nodeName:e}=n;return"BODY"!==e&&("HTML"===e||rS(n.firstElementChild)===n)}(c)?c:rS(c);const p=iS(n);return p.host?fD(p.host,e):fD(n,iS(e).host)}function ZR(n){if(!n||!n.parentElement)return document.documentElement;let e=n.parentElement;for(;(null==e?void 0:e.parentElement)&&"none"===qp(e,"transform");)e=e.parentElement;return e||document.documentElement}function YR(n,e){const t="x"===e?"Left":"Top",r="Left"===t?"Right":"Bottom";return parseFloat(n[`border${t}Width`])+parseFloat(n[`border${r}Width`])}function QR(n,e,t,r){return Math.max(e[`offset${n}`],e[`scroll${n}`],t[`client${n}`],t[`offset${n}`],t[`scroll${n}`],0)}function JR(n){const e=n.body,t=n.documentElement;return{height:QR("Height",e,t),width:QR("Width",e,t)}}function vE(n){return Object.assign(Object.assign({},n),{right:(n.left||0)+n.width,bottom:(n.top||0)+n.height})}function Wn(n){return"number"==typeof n||"[object Number]"===Object.prototype.toString.call(n)}function XR(n){const e=n.getBoundingClientRect();if(!(e&&Wn(e.top)&&Wn(e.left)&&Wn(e.bottom)&&Wn(e.right)))return e;const t={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},r="HTML"===n.nodeName?JR(n.ownerDocument):void 0,i=(null==r?void 0:r.width)||n.clientWidth||Wn(e.right)&&Wn(t.left)&&e.right-t.left||0,u=(null==r?void 0:r.height)||n.clientHeight||Wn(e.bottom)&&Wn(t.top)&&e.bottom-t.top||0;let c=n.offsetWidth-i,p=n.offsetHeight-u;if(c||p){const y=qp(n);c-=YR(y,"x"),p-=YR(y,"y"),t.width-=c,t.height-=p}return vE(t)}function sS(n){return"HTML"===n.nodeName?n:n.parentNode||n.host}function oS(n){if(!n)return document.body;switch(n.nodeName){case"HTML":case"BODY":return n.ownerDocument.body;case"#document":return n.body}const{overflow:e,overflowX:t,overflowY:r}=qp(n);return/(auto|scroll|overlay)/.test(String(e)+String(r)+String(t))?n:oS(sS(n))}function aS(n,e,t=!1){var r,i,u,c,p,y;const b="HTML"===e.nodeName,S=XR(n),x=XR(e),B=(oS(n),qp(e)),q=parseFloat(B.borderTopWidth),se=parseFloat(B.borderLeftWidth);t&&b&&(x.top=Math.max(null!==(r=x.top)&&void 0!==r?r:0,0),x.left=Math.max(null!==(i=x.left)&&void 0!==i?i:0,0));const De=vE({top:(null!==(u=S.top)&&void 0!==u?u:0)-(null!==(c=x.top)&&void 0!==c?c:0)-q,left:(null!==(p=S.left)&&void 0!==p?p:0)-(null!==(y=x.left)&&void 0!==y?y:0)-se,width:S.width,height:S.height});if(De.marginTop=0,De.marginLeft=0,b){const Qe=parseFloat(B.marginTop),et=parseFloat(B.marginLeft);Wn(De.top)&&(De.top-=q-Qe),Wn(De.bottom)&&(De.bottom-=q-Qe),Wn(De.left)&&(De.left-=se-et),Wn(De.right)&&(De.right-=se-et),De.marginTop=Qe,De.marginLeft=et}return De}function eN(n,e="top"){const t="top"===e?"scrollTop":"scrollLeft",r=n.nodeName;if("BODY"===r||"HTML"===r){const i=n.ownerDocument.documentElement;return(n.ownerDocument.scrollingElement||i)[t]}return n[t]}function tN(n){const e=n.nodeName;return"BODY"!==e&&"HTML"!==e&&("fixed"===qp(n,"position")||tN(sS(n)))}function uS(n,e,t=0,r,i=!1){let u={top:0,left:0};const c=i?ZR(n):fD(n,e);if("viewport"===r)u=function eF(n,e=!1){const t=n.ownerDocument.documentElement,r=aS(n,t),i=Math.max(t.clientWidth,window.innerWidth||0),u=Math.max(t.clientHeight,window.innerHeight||0),c=e?0:eN(t),p=e?0:eN(t,"left");return vE({top:c-Number(null==r?void 0:r.top)+Number(null==r?void 0:r.marginTop),left:p-Number(null==r?void 0:r.left)+Number(null==r?void 0:r.marginLeft),width:i,height:u})}(c,i);else{let p;"scrollParent"===r?(p=oS(sS(e)),"BODY"===p.nodeName&&(p=n.ownerDocument.documentElement)):p="window"===r?n.ownerDocument.documentElement:r;const y=aS(p,c,i);if(y&&"HTML"===p.nodeName&&!tN(c)){const{height:b,width:S}=JR(n.ownerDocument);Wn(u.top)&&Wn(y.top)&&Wn(y.marginTop)&&(u.top+=y.top-y.marginTop),Wn(u.top)&&(u.bottom=Number(b)+Number(y.top)),Wn(u.left)&&Wn(y.left)&&Wn(y.marginLeft)&&(u.left+=y.left-y.marginLeft),Wn(u.top)&&(u.right=Number(S)+Number(y.left))}else y&&(u=y)}return Wn(u.left)&&(u.left+=t),Wn(u.top)&&(u.top+=t),Wn(u.right)&&(u.right-=t),Wn(u.bottom)&&(u.bottom-=t),u}function tF({width:n,height:e}){return n*e}function nN(n,e,t,r,i=["top","bottom","right","left"],u="viewport",c=0){var p,y,b,S,x,F,B,q,se,De,Qe,et;if(-1===n.indexOf("auto"))return n;const He=uS(t,r,c,u),nt={top:{width:null!==(p=null==He?void 0:He.width)&&void 0!==p?p:0,height:(null!==(y=null==e?void 0:e.top)&&void 0!==y?y:0)-(null!==(b=null==He?void 0:He.top)&&void 0!==b?b:0)},right:{width:(null!==(S=null==He?void 0:He.right)&&void 0!==S?S:0)-(null!==(x=null==e?void 0:e.right)&&void 0!==x?x:0),height:null!==(F=null==He?void 0:He.height)&&void 0!==F?F:0},bottom:{width:null!==(B=null==He?void 0:He.width)&&void 0!==B?B:0,height:(null!==(q=null==He?void 0:He.bottom)&&void 0!==q?q:0)-(null!==(se=null==e?void 0:e.bottom)&&void 0!==se?se:0)},left:{width:(null!==(De=e.left)&&void 0!==De?De:0)-(null!==(Qe=null==He?void 0:He.left)&&void 0!==Qe?Qe:0),height:null!==(et=null==He?void 0:He.height)&&void 0!==et?et:0}},Et=Object.keys(nt).map(ir=>Object.assign(Object.assign({position:ir},nt[ir]),{area:tF(nt[ir])})).sort((ir,Yr)=>Yr.area-ir.area);let Tt=Et.filter(({width:ir,height:Yr})=>ir>=t.clientWidth&&Yr>=t.clientHeight);Tt=Tt.filter(({position:ir})=>i.some(Yr=>Yr===ir));const Lt=Tt.length>0?Tt[0].position:Et[0].position,mr=n.split(" ")[1];return t.className=t.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${gE().isBs5?_E[Lt]:Lt}`),Lt+(mr?`-${mr}`:"")}const pD=(n,e=0)=>n?parseFloat(n):e;function rN(n){const e=n.ownerDocument.defaultView,t=null==e?void 0:e.getComputedStyle(n),r=pD(null==t?void 0:t.marginTop)+pD(null==t?void 0:t.marginBottom),i=pD(null==t?void 0:t.marginLeft)+pD(null==t?void 0:t.marginRight);return{width:Number(n.offsetWidth)+i,height:Number(n.offsetHeight)+r}}function iN(n,e,t){return aS(e,t?ZR(n):fD(n,e),t)}function lS(n,e,t){var r,i,u;const c=t.split(" ")[0],p=rN(n),y={width:p.width,height:p.height},b=-1!==["right","left"].indexOf(c),S=b?"top":"left",x=b?"left":"top",F=b?"height":"width",B=b?"width":"height";return y[S]=(null!==(r=e[S])&&void 0!==r?r:0)+e[F]/2-p[F]/2,y[x]=c===x?(null!==(i=e[x])&&void 0!==i?i:0)-p[B]:null!==(u=e[function rF(n){const e={left:"right",right:"left",bottom:"top",top:"bottom"};return n.replace(/left|right|bottom|top/g,t=>e[t])}(x)])&&void 0!==u?u:0,y}function sN(n,e){var t;return!!(null===(t=n.modifiers[e])||void 0===t?void 0:t.enabled)}const sF={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function gD(n,e){return!!gE().isBs5&&sF[e].includes(n)}function oN(n,e,t){!n||!e||Object.keys(e).forEach(r=>{let i="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&function X1(n){return""!==n&&!isNaN(parseFloat(n))&&isFinite(Number(n))}(e[r])&&(i="px"),t?t.setStyle(n,r,`${String(e[r])}${i}`):n.style[r]=String(e[r])+i})}function uF(n){var e,t,r,i,u,c;let p=n.offsets.target;const y=n.instance.target.querySelector(".arrow");if(!y)return n;const b=-1!==["left","right"].indexOf(n.placement.split(" ")[0]),S=b?"height":"width",x=b?"Top":"Left",F=x.toLowerCase(),B=b?"left":"top",q=b?"bottom":"right",se=rN(y)[S],De=n.placement.split(" ")[1];(null!==(e=n.offsets.host[q])&&void 0!==e?e:0)-se<(null!==(t=p[F])&&void 0!==t?t:0)&&(p[F]-=(null!==(r=p[F])&&void 0!==r?r:0)-((null!==(i=n.offsets.host[q])&&void 0!==i?i:0)-se)),Number(n.offsets.host[F])+Number(se)>(null!==(u=p[q])&&void 0!==u?u:0)&&(p[F]+=Number(n.offsets.host[F])+Number(se)-Number(p[q])),p=vE(p);const Qe=qp(n.instance.target),et=parseFloat(Qe[`margin${x}`])||0,He=parseFloat(Qe[`border${x}Width`])||0;let nt;if(De){const Tt=parseFloat(Qe.borderRadius)||0,Lt=Number(et+He+Tt);nt=F===De?Number(n.offsets.host[F])+Lt:Number(n.offsets.host[F])+Number(n.offsets.host[S]-Lt)}else nt=Number(n.offsets.host[F])+Number(n.offsets.host[S]/2-se/2);let Et=nt-(null!==(c=p[F])&&void 0!==c?c:0)-et-He;return Et=Math.max(Math.min(p[S]-(se+5),Et),0),n.offsets.arrow={[F]:Math.round(Et),[B]:""},n.instance.arrow=y,n}function lF(n){if(n.offsets.target=vE(n.offsets.target),!sN(n.options,"flip"))return n.offsets.target=Object.assign(Object.assign({},n.offsets.target),lS(n.instance.target,n.offsets.host,n.placement)),n;const e=uS(n.instance.target,n.instance.host,0,"viewport",!1);let t=n.placement.split(" ")[0],r=n.placement.split(" ")[1]||"";const p=nN("auto",n.offsets.host,n.instance.target,n.instance.host,n.options.allowedPositions),y=[t,p];return y.forEach((b,S)=>{var x,F,B,q,se,De,Qe,et,He,nt,Et,Tt,Lt,mr,ir,Yr;if(t!==b||y.length===S+1)return;t=n.placement.split(" ")[0];const DE="left"===t&&Math.floor(null!==(x=n.offsets.target.right)&&void 0!==x?x:0)>Math.floor(null!==(F=n.offsets.host.left)&&void 0!==F?F:0)||"right"===t&&Math.floor(null!==(B=n.offsets.target.left)&&void 0!==B?B:0)<Math.floor(null!==(q=n.offsets.host.right)&&void 0!==q?q:0)||"top"===t&&Math.floor(null!==(se=n.offsets.target.bottom)&&void 0!==se?se:0)>Math.floor(null!==(De=n.offsets.host.top)&&void 0!==De?De:0)||"bottom"===t&&Math.floor(null!==(Qe=n.offsets.target.top)&&void 0!==Qe?Qe:0)<Math.floor(null!==(et=n.offsets.host.bottom)&&void 0!==et?et:0),Bh=Math.floor(null!==(He=n.offsets.target.left)&&void 0!==He?He:0)<Math.floor(null!==(nt=e.left)&&void 0!==nt?nt:0),Ol=Math.floor(null!==(Et=n.offsets.target.right)&&void 0!==Et?Et:0)>Math.floor(null!==(Tt=e.right)&&void 0!==Tt?Tt:0),IE=Math.floor(null!==(Lt=n.offsets.target.top)&&void 0!==Lt?Lt:0)<Math.floor(null!==(mr=e.top)&&void 0!==mr?mr:0),TE=Math.floor(null!==(ir=n.offsets.target.bottom)&&void 0!==ir?ir:0)>Math.floor(null!==(Yr=e.bottom)&&void 0!==Yr?Yr:0),at="left"===t&&Bh||"right"===t&&Ol||"top"===t&&IE||"bottom"===t&&TE,gt=-1!==["top","bottom"].indexOf(t),Mt=gt&&"left"===r&&Bh||gt&&"right"===r&&Ol||!gt&&"left"===r&&IE||!gt&&"right"===r&&TE;(DE||at||Mt)&&((DE||at)&&(t=y[S+1]),Mt&&(r=function iF(n){return"right"===n?"left":"left"===n?"right":n}(r)),n.placement=t+(r?` ${r}`:""),n.offsets.target=Object.assign(Object.assign({},n.offsets.target),lS(n.instance.target,n.offsets.host,n.placement)))}),n}function dF(n){var e;if(!sN(n.options,"preventOverflow"))return n;const t="transform",r=n.instance.target.style,{top:i,left:u,[t]:c}=r;r.top="",r.left="",r[t]="";const p=uS(n.instance.target,n.instance.host,0,(null===(e=n.options.modifiers.preventOverflow)||void 0===e?void 0:e.boundariesElement)||"scrollParent",!1);r.top=i,r.left=u,r[t]=c;const b={primary(S){var x,F,B,q;let se=n.offsets.target[S];return(null!==(x=n.offsets.target[S])&&void 0!==x?x:0)<(null!==(F=p[S])&&void 0!==F?F:0)&&(se=Math.max(null!==(B=n.offsets.target[S])&&void 0!==B?B:0,null!==(q=p[S])&&void 0!==q?q:0)),{[S]:se}},secondary(S){var x,F,B,q;const se="right"===S,De=se?"left":"top";let et=n.offsets.target[De];return(null!==(x=n.offsets.target[S])&&void 0!==x?x:0)>(null!==(F=p[S])&&void 0!==F?F:0)&&(et=Math.min(null!==(B=n.offsets.target[De])&&void 0!==B?B:0,(null!==(q=p[S])&&void 0!==q?q:0)-n.offsets.target[se?"width":"height"])),{[De]:et}}};return["left","right","top","bottom"].forEach(S=>{const x=-1!==["left","top","start"].indexOf(S)?b.primary:b.secondary;n.offsets.target=Object.assign(Object.assign({},n.offsets.target),x(S))}),n}function hF(n){var e;const t=n.placement,r=t.split(" ")[0],i=t.split(" ")[1];if(i){const{host:u,target:c}=n.offsets,p=-1!==["bottom","top"].indexOf(r),y=p?"left":"top",b=p?"width":"height",S={start:{[y]:u[y]},end:{[y]:(null!==(e=u[y])&&void 0!==e?e:0)+u[b]-c[b]}};n.offsets.target=Object.assign(Object.assign({},c),{[y]:y===i?S.start[y]:S.end[y]})}return n}const pF=new class fF{position(e,t){return this.offset(e,t)}offset(e,t){return iN(t,e)}positionElements(e,t,r,i,u){const c=[lF,hF,dF,uF],y=function cF(n,e,t,r){if(!n||!e)return;const i=iN(n,e);!t.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!t.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(t="auto");const u=!!t.match(/auto/g);let c=t.match(/auto\s(left|right|top|bottom|start|end)/)?t.split(" ")[1]||"auto":t;const p=c.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return p&&(c=p[1]+(p[2]?` ${p[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(c)&&(c="auto"),c=nN(c,i,n,e,r?r.allowedPositions:void 0),{options:r||{modifiers:{}},instance:{target:n,host:e,arrow:void 0},offsets:{target:lS(n,i,c),host:i,arrow:void 0},positionFixed:!1,placement:c,placementAuto:u}}(t,e,hD[r],u);if(y)return c.reduce((b,S)=>S(b),y)}};function gF(n,e,t,r,i,u){const c=pF.positionElements(n,e,t,r,i);if(!c)return;const p=function nF(n){var e,t,r,i;return{width:n.offsets.target.width,height:n.offsets.target.height,left:Math.floor(null!==(e=n.offsets.target.left)&&void 0!==e?e:0),top:Math.round(null!==(t=n.offsets.target.top)&&void 0!==t?t:0),bottom:Math.round(null!==(r=n.offsets.target.bottom)&&void 0!==r?r:0),right:Math.floor(null!==(i=n.offsets.target.right)&&void 0!==i?i:0)}}(c);oN(e,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${p.left}px, ${p.top}px, 0px)`},u),c.instance.arrow&&oN(c.instance.arrow,c.offsets.arrow,u),function aF(n,e){const t=n.instance.target;let r=t.className;const i=gE().isBs5?_E[n.placement]:n.placement;n.placementAuto&&(r=r.replace(/bs-popover-auto/g,`bs-popover-${i}`),r=r.replace(/ms-2|me-2|mb-2|mt-2/g,""),r=r.replace(/bs-tooltip-auto/g,`bs-tooltip-${i}`),r=r.replace(/\sauto/g,` ${i}`),-1!==r.indexOf("popover")&&(r=r+" "+function oF(n){return gE().isBs5?gD(n,"end")?"ms-2":gD(n,"start")?"me-2":gD(n,"top")?"mb-2":gD(n,"bottom")?"mt-2":"":""}(i)),-1!==r.indexOf("popover")&&-1===r.indexOf("popover-auto")&&(r+=" popover-auto"),-1!==r.indexOf("tooltip")&&-1===r.indexOf("tooltip-auto")&&(r+=" tooltip-auto")),r=r.replace(/left|right|top|bottom|end|start/g,`${i.split(" ")[0]}`),e?e.setAttribute(t,"class",r):t.className=r}(c,u)}let mD=(()=>{class n{constructor(t,r,i){this.update$$=new Gr.x,this.positionElements=new Map,this.isDisabled=!1,ar(i)&&t.runOutsideAngular(()=>{this.triggerEvent$=(0,$M.T)(dD(window,"scroll",{passive:!0}),dD(window,"resize",{passive:!0}),it(0,Q1),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(u=>{gF(yD(u.target),yD(u.element),u.attachment,u.appendToBody,this.options,r.createRenderer(null,null))})})})}position(t){this.addPositionElement(t)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(t){this.positionElements.set(yD(t.element),t)}calcPosition(){this.update$$.next(null)}deletePositionElement(t){this.positionElements.delete(yD(t))}setOptions(t){this.options=t}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.R0b),h.LFG(h.FYo),h.LFG(h.Lbi))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yD(n){return"string"==typeof n?document.querySelector(n):n instanceof h.SBq?n.nativeElement:null!=n?n:null}class EE{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}class mF{constructor(e,t,r,i,u,c,p,y){this._viewContainerRef=e,this._renderer=t,this._elementRef=r,this._injector=i,this._componentFactoryResolver=u,this._ngZone=c,this._applicationRef=p,this._posService=y,this.onBeforeShow=new h.vpe,this.onShown=new h.vpe,this.onBeforeHide=new h.vpe,this.onHidden=new h.vpe,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(e){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(e),this}to(e){return this.container=e||this.container,this}position(e){return e?(this.attachment=e.attachment||this.attachment,this._elementRef=e.target||this._elementRef,this):this}provide(e){return this._providers.push(e),this}show(e={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(e.content,e.context,e.initialState);const t=h.zs3.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(t,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,e),this.container instanceof h.SBq&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&"undefined"!=typeof document){const r=document.querySelector(this.container)||document.querySelector(this.containerDefaultSelector);if(!r)return;r.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(e.id?{id:e.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(e){var t,r,i,u,c,p;if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const y=this._componentRef.location.nativeElement;return null===(t=y.parentNode)||void 0===t||t.removeChild(y),null===(i=null===(r=this._contentRef)||void 0===r?void 0:r.componentRef)||void 0===i||i.destroy(),this._viewContainerRef&&(null===(u=this._contentRef)||void 0===u?void 0:u.viewRef)&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),null===(p=null===(c=this._contentRef)||void 0===c?void 0:c.viewRef)||void 0===p||p.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(e?{id:e}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(e){var t;this.triggers=e.triggers||this.triggers,this._listenOpts.outsideClick=e.outsideClick,this._listenOpts.outsideEsc=e.outsideEsc,e.target=e.target||(null===(t=this._elementRef)||void 0===t?void 0:t.nativeElement);const r=this._listenOpts.hide=()=>e.hide?e.hide():void this.hide(),i=this._listenOpts.show=c=>{e.show?e.show(c):this.show(c),c()};return this._renderer&&(this._unregisterListenersFn=function R1(n,e){const t=function $R(n,e=x1){const t=(n||"").trim();if(0===t.length)return[];const r=t.split(/\s+/).map(u=>u.split(":")).map(u=>{const c=e[u[0]]||u;return new M1(c[0],c[1])}),i=r.filter(u=>u.isManual());if(i.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===i.length&&r.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return r}(e.triggers),r=e.target;if(1===t.length&&t[0].isManual())return Function.prototype;const i=[],u=[],c=()=>{u.forEach(p=>i.push(p())),u.length=0};return t.forEach(p=>{const y=p.open===p.close,b=y?e.toggle:e.show;if(!y&&p.close&&e.hide){const S=n.listen(r,p.close,e.hide);u.push(()=>S)}b&&i.push(n.listen(r,p.open,()=>b(c)))}),()=>{i.forEach(p=>p())}}(this._renderer,{target:e.target,triggers:e.triggers,show:i,hide:r,toggle:c=>{this.isShown?r():i(c)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(e,t){return e&&t&&(this._inlineViewRef=e.createEmbeddedView(t)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const e=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=function N1(n,e){return e.outsideClick?n.listen("document","click",t=>{e.target&&e.target.contains(t.target)||e.targets&&e.targets.some(r=>r.contains(t.target))||e.hide&&e.hide()}):Function.prototype}(this._renderer,{targets:[e,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=function O1(n,e){return e.outsideEsc?n.listen("document","keyup.esc",t=>{e.target&&e.target.contains(t.target)||e.targets&&e.targets.some(r=>r.contains(t.target))||e.hide&&e.hide()}):Function.prototype}(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{var e;this._posService.position({element:null===(e=this._componentRef)||void 0===e?void 0:e.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{!this._componentRef||this._posService.calcPosition()}))}_unsubscribePositioning(){!this._zoneSubscription||(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(e,t,r){if(!e)return new EE([]);if(e instanceof h.Rgc){if(this._viewContainerRef){const c=this._viewContainerRef.createEmbeddedView(e,t);return c.markForCheck(),new EE([c.rootNodes],c)}const u=e.createEmbeddedView({});return this._applicationRef.attachView(u),new EE([u.rootNodes],u)}if("function"==typeof e){const u=this._componentFactoryResolver.resolveComponentFactory(e),c=h.zs3.create({providers:this._providers,parent:this._injector}),p=u.create(c);return Object.assign(p.instance,r),this._applicationRef.attachView(p.hostView),new EE([[p.location.nativeElement]],p.hostView,p)}const i=this._renderer?[this._renderer.createText(`${e}`)]:[];return new EE([i])}}let wE=(()=>{class n{constructor(t,r,i,u,c){this._componentFactoryResolver=t,this._ngZone=r,this._injector=i,this._posService=u,this._applicationRef=c}createLoader(t,r,i){return new mF(r,i,t,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h._Vd),h.LFG(h.R0b),h.LFG(h.zs3),h.LFG(mD),h.LFG(h.z2F))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yF=function(n){return{dropdown:n}},_F=["*"],aN=[cD({height:0,overflow:"hidden"}),function B1(n,e=null){return{type:4,styles:e,timings:n}}("220ms cubic-bezier(0, 0, 0.2, 1)",cD({height:"*",overflow:"hidden"}))];let zp=(()=>{class n{constructor(){this.direction="down",this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1,this.isOpenChange=new h.vpe,this.isDisabledChange=new h.vpe,this.toggleClick=new h.vpe,this.counts=0,this.dropdownMenu=new Promise(t=>{this.resolveDropdownMenu=t})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),EF=(()=>{class n{constructor(t,r,i,u,c){this._state=t,this.cd=r,this._renderer=i,this._element=u,this.isOpen=!1,this._factoryDropDownAnimation=c.build(aN),this._subscription=t.isOpenChange.subscribe(p=>{this.isOpen=p;const y=this._element.nativeElement.querySelector(".dropdown-menu");this._renderer.addClass(this._element.nativeElement.querySelector("div"),"open"),y&&!Zc()&&(this._renderer.addClass(y,"show"),(y.classList.contains("dropdown-menu-right")||y.classList.contains("dropdown-menu-end"))&&(this._renderer.setStyle(y,"left","auto"),this._renderer.setStyle(y,"right","0")),"up"===this.direction&&(this._renderer.setStyle(y,"top","auto"),this._renderer.setStyle(y,"transform","translateY(-101%)"))),y&&this._state.isAnimated&&this._factoryDropDownAnimation.create(y).play(),this.cd.markForCheck(),this.cd.detectChanges()})}get direction(){return this._state.direction}_contains(t){return this._element.nativeElement.contains(t)}ngOnDestroy(){this._subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(zp),h.Y36(h.sBO),h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(lD))},n.\u0275cmp=h.Xpm({type:n,selectors:[["bs-dropdown-container"]],hostAttrs:[2,"display","block","position","absolute","z-index","1040"],ngContentSelectors:_F,decls:2,vars:9,consts:[[3,"ngClass"]],template:function(t,r){1&t&&(h.F$t(),h.TgZ(0,"div",0),h.Hsn(1),h.qZA()),2&t&&(h.ekj("dropup","up"===r.direction)("show",r.isOpen)("open",r.isOpen),h.Q6J("ngClass",h.VKq(7,yF,"down"===r.direction)))},directives:[ss],encapsulation:2,changeDetection:0}),n})(),uN=(()=>{class n{constructor(){this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lN=(()=>{class n{constructor(t,r,i,u,c,p,y){this._elementRef=t,this._renderer=r,this._viewContainerRef=i,this._cis=u,this._state=c,this._config=p,this.dropup=!1,this._isInlineOpen=!1,this._isDisabled=!1,this._subscriptions=[],this._isInited=!1,this._state.autoClose=this._config.autoClose,this._state.insideClick=this._config.insideClick,this._state.isAnimated=this._config.isAnimated,this._state.stopOnClickPropagation=this._config.stopOnClickPropagation,this._factoryDropDownAnimation=y.build(aN),this._dropdown=this._cis.createLoader(this._elementRef,this._viewContainerRef,this._renderer).provide({provide:zp,useValue:this._state}),this.onShown=this._dropdown.onShown,this.onHidden=this._dropdown.onHidden,this.isOpenChange=this._state.isOpenChange}set autoClose(t){this._state.autoClose=t}get autoClose(){return this._state.autoClose}set isAnimated(t){this._state.isAnimated=t}get isAnimated(){return this._state.isAnimated}set insideClick(t){this._state.insideClick=t}get insideClick(){return this._state.insideClick}set isDisabled(t){this._isDisabled=t,this._state.isDisabledChange.emit(t),t&&this.hide()}get isDisabled(){return this._isDisabled}get isOpen(){return this._showInline?this._isInlineOpen:this._dropdown.isShown}set isOpen(t){t?this.show():this.hide()}get isBs4(){return!Zc()}get _showInline(){return!this.container}ngOnInit(){this._isInited||(this._isInited=!0,this._dropdown.listen({outsideClick:!1,triggers:this.triggers,show:()=>this.show()}),this._subscriptions.push(this._state.toggleClick.subscribe(t=>this.toggle(t))),this._subscriptions.push(this._state.isDisabledChange.pipe(qr(t=>t)).subscribe(()=>this.hide())))}show(){if(!this.isOpen&&!this.isDisabled){if(this._showInline)return this._inlinedMenu||this._state.dropdownMenu.then(t=>{this._dropdown.attachInline(t.viewContainer,t.templateRef),this._inlinedMenu=this._dropdown._inlineViewRef,this.addBs4Polyfills(),this._inlinedMenu&&this._renderer.addClass(this._inlinedMenu.rootNodes[0].parentNode,"open"),this.playAnimation()}).catch(),this.addBs4Polyfills(),this._isInlineOpen=!0,this.onShown.emit(!0),this._state.isOpenChange.emit(!0),void this.playAnimation();this._state.dropdownMenu.then(t=>{const r=this.dropup||void 0!==this.dropup&&this.dropup;this._state.direction=r?"up":"down";const i=this.placement||(r?"top start":"bottom start");this._dropdown.attach(EF).to(this.container).position({attachment:i}).show({content:t.templateRef,placement:i}),this._state.isOpenChange.emit(!0)}).catch()}}hide(){!this.isOpen||(this._showInline?(this.removeShowClass(),this.removeDropupStyles(),this._isInlineOpen=!1,this.onHidden.emit(!0)):this._dropdown.hide(),this._state.isOpenChange.emit(!1))}toggle(t){return this.isOpen||!t?this.hide():this.show()}_contains(t){return this._elementRef.nativeElement.contains(t.target)||this._dropdown.instance&&this._dropdown.instance._contains(t.target)}navigationClick(t){const r=this._elementRef.nativeElement.querySelector(".dropdown-menu");if(!r)return;const i=this._elementRef.nativeElement.ownerDocument.activeElement,u=r.querySelectorAll(".dropdown-item");switch(t.keyCode){case 38:this._state.counts>0&&u[--this._state.counts].focus();break;case 40:this._state.counts+1<u.length&&(i.classList!==u[this._state.counts].classList?u[this._state.counts].focus():u[++this._state.counts].focus())}t.preventDefault()}ngOnDestroy(){for(const t of this._subscriptions)t.unsubscribe();this._dropdown.dispose()}addBs4Polyfills(){Zc()||(this.addShowClass(),this.checkRightAlignment(),this.addDropupStyles())}playAnimation(){this._state.isAnimated&&this._inlinedMenu&&setTimeout(()=>{this._inlinedMenu&&this._factoryDropDownAnimation.create(this._inlinedMenu.rootNodes[0]).play()})}addShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.addClass(this._inlinedMenu.rootNodes[0],"show")}removeShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.removeClass(this._inlinedMenu.rootNodes[0],"show")}checkRightAlignment(){if(this._inlinedMenu&&this._inlinedMenu.rootNodes[0]){const t=this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-right")||this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-end");this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"left",t?"auto":"0"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"right",t?"0":"auto")}}addDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"top",this.dropup?"auto":"100%"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"transform",this.dropup?"translateY(-101%)":"translateY(0)"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"bottom","auto"))}removeDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"top"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"transform"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"bottom"))}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(h.s_b),h.Y36(wE),h.Y36(zp),h.Y36(uN),h.Y36(lD))},n.\u0275dir=h.lG2({type:n,selectors:[["","bsDropdown",""],["","dropdown",""]],hostVars:6,hostBindings:function(t,r){1&t&&h.NdJ("keydown.arrowDown",function(u){return r.navigationClick(u)})("keydown.arrowUp",function(u){return r.navigationClick(u)}),2&t&&h.ekj("dropup",r.dropup)("open",r.isOpen)("show",r.isOpen&&r.isBs4)},inputs:{placement:"placement",triggers:"triggers",container:"container",dropup:"dropup",autoClose:"autoClose",isAnimated:"isAnimated",insideClick:"insideClick",isDisabled:"isDisabled",isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange",onShown:"onShown",onHidden:"onHidden"},exportAs:["bs-dropdown"],features:[h._Bn([zp])]}),n})(),wF=(()=>{class n{constructor(t,r,i){t.resolveDropdownMenu({templateRef:i,viewContainer:r})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(zp),h.Y36(h.s_b),h.Y36(h.Rgc))},n.\u0275dir=h.lG2({type:n,selectors:[["","bsDropdownMenu",""],["","dropdownMenu",""]],exportAs:["bs-dropdown-menu"]}),n})(),bF=(()=>{class n{constructor(t,r,i,u,c){this._changeDetectorRef=t,this._dropdown=r,this._element=i,this._renderer=u,this._state=c,this.isOpen=!1,this._subscriptions=[],this._subscriptions.push(this._state.isOpenChange.subscribe(p=>{this.isOpen=p,p?(this._documentClickListener=this._renderer.listen("document","click",y=>{this._state.autoClose&&2!==y.button&&!this._element.nativeElement.contains(y.target)&&(!this._state.insideClick||!this._dropdown._contains(y))&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())}),this._escKeyUpListener=this._renderer.listen(this._element.nativeElement,"keyup.esc",()=>{this._state.autoClose&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())})):(this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener())})),this._subscriptions.push(this._state.isDisabledChange.subscribe(p=>this.isDisabled=p||void 0))}onClick(t){this._state.stopOnClickPropagation&&t.stopPropagation(),!this.isDisabled&&this._state.toggleClick.emit(!0)}ngOnDestroy(){this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener();for(const t of this._subscriptions)t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.sBO),h.Y36(lN),h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(zp))},n.\u0275dir=h.lG2({type:n,selectors:[["","bsDropdownToggle",""],["","dropdownToggle",""]],hostVars:3,hostBindings:function(t,r){1&t&&h.NdJ("click",function(u){return r.onClick(u)}),2&t&&h.uIk("aria-haspopup",!0)("disabled",r.isDisabled)("aria-expanded",r.isOpen)},exportAs:["bs-dropdown-toggle"]}),n})(),cN=(()=>{class n{static forRoot(){return{ngModule:n,providers:[wE,mD,zp]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[Dr]]}),n})();function CF(n,e){if(1&n&&(h.TgZ(0,"li")(1,"a",17),h._uU(2),h.qZA()()),2&n){const t=e.$implicit;h.xp6(2),h.Oqu(t)}}function DF(n,e){if(1&n&&(h.TgZ(0,"ul",15),h.YNc(1,CF,3,1,"li",16),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.Q6J("ngForOf",t.size$)}}let cS,IF=(()=>{class n{constructor(t,r){this._getsOneProductDto=t,this._contextDtoStoragePort=r,this.product$=this._contextDtoStoragePort.asObservable().pipe(Nn(i=>this._getsOneProductDto.getOne(i.productId))),this.size$=["S","M","L"]}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Nx),h.Y36(jg))},n.\u0275cmp=h.Xpm({type:n,selectors:[["lib-product-detail"]],features:[h._Bn([{provide:uN,useValue:{isAnimated:!0,autoClose:!0}}])],decls:38,vars:21,consts:[[1,"row","row-cols-2",2,"margin","4%"],[1,"col"],["alt","",1,"shadow-lg","mb-4",2,"width","500px",3,"src"],[2,"font-size","xx-large","margin-top","40px"],[1,"row"],[1,"col-2",2,"text-align","left","font-size","x-large","color","gray","text-decoration","line-through"],[1,"col-2",2,"text-align","left","font-size","x-large"],[2,"text-align","justify","margin-bottom","60px","margin-top","20px"],["dropdown","",1,"btn-group"],["type","button","disabled","",1,"btn","btn-light",2,"width","170px","text-align","left"],["id","button-animated","dropdownToggle","","type","button","aria-controls","dropdown-animated",1,"btn","btn-light","dropdown-toggle"],[1,"caret"],["id","dropdown-animated","class","dropdown-menu","role","menu","aria-labelledby","button-animated","aria-disabled","true",4,"dropdownMenu"],["type","button",1,"btn","btn-dark","p-3",2,"margin-top","20px","margin-bottom","20px","width","210px"],[2,"text-align","justify","font-size","smaller"],["id","dropdown-animated","role","menu","aria-labelledby","button-animated","aria-disabled","true",1,"dropdown-menu"],[4,"ngFor","ngForOf"],[1,"dropdown-item"]],template:function(t,r){if(1&t&&(h.TgZ(0,"div",0)(1,"div",1),h._UZ(2,"img",2),h.ALo(3,"async"),h.qZA(),h.TgZ(4,"div",1)(5,"p",3)(6,"strong"),h._uU(7),h.ALo(8,"async"),h.qZA()(),h.TgZ(9,"p"),h._uU(10," \u{1f610} \u{1f610} \u{1f610} \u{1fae5} \u{1fae5} (13) "),h.qZA(),h.TgZ(11,"div",4)(12,"div",5),h._uU(13),h.ALo(14,"number"),h.ALo(15,"async"),h.qZA(),h.TgZ(16,"div",6),h._uU(17),h.ALo(18,"number"),h.ALo(19,"async"),h.qZA(),h.TgZ(20,"p",7),h._uU(21),h.ALo(22,"async"),h.qZA()(),h.TgZ(23,"div",8)(24,"button",9),h._uU(25," Select Size"),h.qZA(),h.TgZ(26,"button",10),h._UZ(27,"span",11),h.qZA(),h.YNc(28,DF,2,1,"ul",12),h.qZA(),h.TgZ(29,"div")(30,"button",13),h._uU(31," ADD TO CART"),h.qZA()(),h.TgZ(32,"p",14)(33,"strong"),h._uU(34,"Category: "),h.qZA()(),h.TgZ(35,"p",14)(36,"strong"),h._uU(37,"Tags: "),h.qZA()()()()),2&t){let i,u,c,p,y;h.xp6(2),h.Q6J("src",null==(i=h.lcZ(3,5,r.product$))?null:i.imageUrl,h.LSH),h.xp6(5),h.hij(" ",null==(u=h.lcZ(8,7,r.product$))?null:u.name,""),h.xp6(6),h.hij(" $1",h.xi3(14,9,null==(c=h.lcZ(15,12,r.product$))?null:c.price,"1.2-2"),""),h.xp6(4),h.hij(" $",h.xi3(18,14,null==(p=h.lcZ(19,17,r.product$))?null:p.price,"1.2-2"),""),h.xp6(4),h.hij(" Opis: ",null==(y=h.lcZ(22,19,r.product$))?null:y.desc,"")}},directives:[lN,bF,wF,Fn],pipes:[Fl,Vl],encapsulation:2,changeDetection:0}),n})(),TF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-product-detail-page"]],decls:1,vars:0,template:function(t,r){1&t&&h._UZ(0,"lib-product-detail")},directives:[IF],encapsulation:2,changeDetection:0}),n})(),AF=(()=>{class n{constructor(){this._focusTrapStack=[]}register(t){this._focusTrapStack=this._focusTrapStack.filter(i=>i!==t);let r=this._focusTrapStack;r.length&&r[r.length-1]._disable(),r.push(t),t._enable()}deregister(t){t._disable();const r=this._focusTrapStack,i=r.indexOf(t);-1!==i&&(r.splice(i,1),r.length&&r[r.length-1]._enable())}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();try{cS="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){cS=!1}let dN=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?ar(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!cS)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.Lbi))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hN=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function MF(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function SF(n){try{return n.frameElement}catch(e){return null}}(function LF(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===pN(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),u=pN(t);return t.hasAttribute("contenteditable")?-1!==u:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function kF(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==u:"video"===i?-1!==u&&(null!==u||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function FF(n){return!function RF(n){return function OF(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function xF(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function NF(n){return function PF(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||fN(n))}(t)&&!this.isDisabled(t)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(dN))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fN(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function pN(n){if(!fN(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function gN(n){return null!=n&&"false"!=`${n}`}class VF{constructor(e,t,r,i,u=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,u||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),t&&(t.removeEventListener("focus",this.endAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement()))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);for(let r=0;r<t.length;r++)t[r].hasAttribute(`cdk-focus-${e}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[r]):t[r].hasAttribute(`cdk-focus-region-${e}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[r]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const t=this._getFirstTabbableElement(e);return null==t||t.focus(),!!t}return e.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const e=this._getRegionBoundary("start");return e&&e.focus(),!!e}focusLastTabbableElement(){const e=this._getRegionBoundary("end");return e&&e.focus(),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let r=0;r<t.length;r++){let i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let r=t.length-1;r>=0;r--){let i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe((0,Ls.q)(1)).subscribe(e)}}let BF=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new VF(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(hN),h.LFG(h.R0b),h.LFG(ue))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UF=(()=>{class n{constructor(t,r,i){this._elementRef=t,this._focusTrapFactory=r,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=i,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(t){this.focusTrap.enabled=gN(t)}get autoCapture(){return this._autoCapture}set autoCapture(t){this._autoCapture=gN(t)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(t){const r=t.autoCapture;r&&!r.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(BF),h.Y36(ue))},n.\u0275dir=h.lG2({type:n,selectors:[["","focusTrap",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[h.TTD]}),n})(),mN=(()=>{class n{static forRoot(){return{ngModule:n,providers:[AF,dN,hN]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[Dr]]}),n})();const jF=["*"];let yN=(()=>{class n{constructor(){this.hide=()=>{},this.setClass=()=>{}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),_N=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const _D={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},$F=new h.OlP("override-default-config");let HF=(()=>{class n{constructor(t,r,i){this._element=r,this._renderer=i,this.isShown=!1,this.isAnimated=!1,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},t)}ngOnInit(){this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,Zc()?"in":"show")},this.isAnimated?150:0),document&&document.body&&(this.bsModalService&&1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y","hidden")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(t){this.clickStartedInContent=t.target!==this._element.nativeElement}onClickStop(t){var r;this.config.ignoreBackdropClick||"static"===this.config.backdrop||t.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(null===(r=this.bsModalService)||void 0===r||r.setDismissReason("backdrop-click"),this.hide())}onPopState(){var t;null===(t=this.bsModalService)||void 0===t||t.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(t){var r,i;!this.isShown||((27===t.keyCode||"Escape"===t.key)&&t.preventDefault(),this.config.keyboard&&this.level===(null===(r=this.bsModalService)||void 0===r?void 0:r.getModalsCount())&&(null===(i=this.bsModalService)||void 0===i||i.setDismissReason("esc"),this.hide()))}ngOnDestroy(){this.isShown&&this._hide()}hide(){if(!this.isModalHiding&&this.isShown){if(this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,Zc()?"in":"show"),setTimeout(()=>{var t,r;this.isShown=!1,document&&document.body&&1===(null===(t=this.bsModalService)||void 0===t?void 0:t.getModalsCount())&&(this._renderer.removeClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y","")),null===(r=this.bsModalService)||void 0===r||r.hide(this.config.id),this.isModalHiding=!1},this.isAnimated?300:0)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(_N),h.Y36(h.SBq),h.Y36(h.Qsj))},n.\u0275cmp=h.Xpm({type:n,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(t,r){1&t&&h.NdJ("mousedown",function(u){return r.onClickStarted(u)})("click",function(u){return r.onClickStop(u)})("popstate",function(){return r.onPopState()},!1,h.Jf7)("keydown.esc",function(u){return r.onEsc(u)},!1,h.Jf7),2&t&&h.uIk("aria-modal",!0)("aria-labelledby",r.config.ariaLabelledBy)("aria-describedby",r.config.ariaDescribedby)},ngContentSelectors:jF,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(t,r){1&t&&(h.F$t(),h.TgZ(0,"div",0)(1,"div",1),h.Hsn(2),h.qZA()()),2&t&&h.Tol("modal-dialog"+(r.config.class?" "+r.config.class:""))},directives:[UF],encapsulation:2}),n})(),GF=(()=>{class n{constructor(t,r){this._isAnimated=!1,this._isShown=!1,this.element=t,this.renderer=r}get isAnimated(){return this._isAnimated}set isAnimated(t){this._isAnimated=t}get isShown(){return this._isShown}set isShown(t){this._isShown=t,t?this.renderer.addClass(this.element.nativeElement,"in"):this.renderer.removeClass(this.element.nativeElement,"in"),Zc()||(t?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show"))}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),class F1{static reflow(e){}static getStyles(e){let t=e.ownerDocument.defaultView;return(!t||!t.opener)&&(t=zn),t.getComputedStyle(e)}static stackOverflowConfig(){const e=function k1(){const n=gE(),e=Object.keys(n).find(t=>n[t]);return uD[e]}();return{crossorigin:"bs3"!==e?"anonymous":void 0,integrity:"bs5"===e?"sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We":"bs4"===e?"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2":void 0,cdnLink:"bs5"===e?"https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css":"bs4"===e?"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css":"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"}}}.reflow(this.element.nativeElement)),this.isShown=!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(h.Qsj))},n.\u0275cmp=h.Xpm({type:n,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})(),qF=1,vN=(()=>{class n{constructor(t,r,i){this.clf=r,this.modalDefaultOption=i,this.onShow=new h.vpe,this.onShown=new h.vpe,this.onHide=new h.vpe,this.onHidden=new h.vpe,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.loaders=[],this._backdropLoader=this.clf.createLoader(),this._renderer=t.createRenderer(null,null),this.config=i?Object.assign({},_D,i):_D}show(t,r){this.modalsCount++,this._createLoaders();const i=(null==r?void 0:r.id)||qF++;return this.config=this.modalDefaultOption?Object.assign({},_D,this.modalDefaultOption,r):Object.assign({},_D,r),this.config.id=i,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(t)}hide(t){(1===this.modalsCount||null==t)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=t?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(t),this.removeLoaders(t)},this.config.animated?150:0)}_showBackdrop(){const t=!0===this.config.backdrop||"static"===this.config.backdrop,r=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),t&&r&&(this._backdropLoader.attach(GF).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(t){var r;const i=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const p of this.config.providers)i.provide(p);const u=new yN,c=i.provide({provide:_N,useValue:this.config}).provide({provide:yN,useValue:u}).attach(HF).to("body");return u.hide=()=>{var p;return null===(p=c.instance)||void 0===p?void 0:p.hide()},u.setClass=p=>{c.instance&&(c.instance.config.class=p)},u.onHidden=new h.vpe,u.onHide=new h.vpe,this.copyEvent(i.onBeforeHide,u.onHide),this.copyEvent(i.onHidden,u.onHidden),c.show({content:t,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),c.instance&&(c.instance.level=this.getModalsCount(),u.content=i.getInnerComponent(),u.id=null===(r=c.instance.config)||void 0===r?void 0:r.id),u}_hideModal(t){if(null!=t){const r=this.loaders.findIndex(u=>{var c;return(null===(c=u.instance)||void 0===c?void 0:c.config.id)===t}),i=this.loaders[r];i&&i.hide(t)}else this.loaders.forEach(r=>{r.instance&&r.hide(r.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(t){this.lastDismissReason=t}removeBackdrop(){this._renderer.removeClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y",""),this._backdropLoader.hide(),this.backdropRef=void 0}checkScrollbar(){this.isBodyOverflowing=document.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){!document||(this.originalBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(document.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){document.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const t=this._renderer.createElement("div");this._renderer.addClass(t,"modal-scrollbar-measure"),this._renderer.appendChild(document.body,t);const r=t.offsetWidth-t.clientWidth;return this._renderer.removeChild(document.body,t),r}_createLoaders(){const t=this.clf.createLoader();this.copyEvent(t.onBeforeShow,this.onShow),this.copyEvent(t.onShown,this.onShown),this.copyEvent(t.onBeforeHide,this.onHide),this.copyEvent(t.onHidden,this.onHidden),this.loaders.push(t)}removeLoaders(t){if(null!=t){const r=this.loaders.findIndex(i=>{var u;return(null===(u=i.instance)||void 0===u?void 0:u.config.id)===t});r>=0&&(this.loaders.splice(r,1),this.loaders.forEach((i,u)=>{i.instance&&(i.instance.level=u+1)}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(t,r){t.subscribe(i=>{r.emit(this.lastDismissReason||i)})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.FYo),h.LFG(wE),h.LFG($F,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();mN.forRoot();let zF=(()=>{class n{static forRoot(){return{ngModule:n,providers:[vN,wE,mD]}}static forChild(){return{ngModule:n,providers:[vN,wE,mD]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[mN]]}),n})(),WF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[],imports:[[Dr,cN.forRoot(),zF.forRoot()]]}),n})(),EN=(()=>{class n{constructor(t){this._contextDtoStorage=t}resolve(t,r){return console.log(t.params.productId),this._contextDtoStorage.next({productId:t.params.productId}),it(!0)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(jg))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),KF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[EN],imports:[[]]}),n})(),ZF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[],imports:[[Dr,Xi.forChild([{path:":productId",component:TF,resolve:[EN]}]),WF,Ox,KF]]}),n})(),YF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-contact-page"]],decls:2,vars:0,template:function(t,r){1&t&&(h.TgZ(0,"h1"),h._uU(1,"ContactPage"),h.qZA())},encapsulation:2,changeDetection:0}),n})(),QF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[],imports:[[Dr,Xi.forChild([{path:"",component:YF}])]]}),n})(),JF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-about-us-page"]],decls:2,vars:0,template:function(t,r){1&t&&(h.TgZ(0,"h1"),h._uU(1,"AboutUsPage"),h.qZA())},encapsulation:2,changeDetection:0}),n})(),XF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[],imports:[[Dr,Xi.forChild([{path:"",component:JF}])]]}),n})();const eL=[{path:"home",loadChildren:()=>yk},{path:"cart",loadChildren:()=>E1},{path:"checkout",loadChildren:()=>b1},{path:"checkout-summary",loadChildren:()=>S1},{path:"product-detail",loadChildren:()=>ZF},{path:"contact",loadChildren:()=>QF},{path:"about-us",loadChildren:()=>XF}];let tL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[Xi.forRoot(eL)],Xi]}),n})(),nL=(()=>{class n{constructor(){this.title="hackathon"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],decls:23,vars:0,consts:[[1,"navbar","navbar-expand-lg","p-2","mb-2",2,"background-color","#c0b8b8","color","black"],["href","/",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarToggleExternalContent","aria-controls","navbarToggleExternalContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarToggleExternalContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","href","/home",1,"nav-link","active","link-light"],["href","/about-us",1,"nav-link","link-light"],["href","/contact",1,"nav-link","link-light"],[1,"row","d-flex","justify-content-end"],["href","/cart",1,"nav-link","link-light"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-basket2"],["d","M4 10a1 1 0 0 1 2 0v2a1 1 0 0 1-2 0v-2zm3 0a1 1 0 0 1 2 0v2a1 1 0 0 1-2 0v-2zm3 0a1 1 0 1 1 2 0v2a1 1 0 0 1-2 0v-2z"],["d","M5.757 1.071a.5.5 0 0 1 .172.686L3.383 6h9.234L10.07 1.757a.5.5 0 1 1 .858-.514L13.783 6H15.5a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-.623l-1.844 6.456a.75.75 0 0 1-.722.544H3.69a.75.75 0 0 1-.722-.544L1.123 8H.5a.5.5 0 0 1-.5-.5v-1A.5.5 0 0 1 .5 6h1.717L5.07 1.243a.5.5 0 0 1 .686-.172zM2.163 8l1.714 6h8.246l1.714-6H2.163z"]],template:function(t,r){1&t&&(h.TgZ(0,"nav",0)(1,"a",1),h._uU(2," Kapibara "),h.qZA(),h.TgZ(3,"button",2),h._UZ(4,"span",3),h.qZA(),h.TgZ(5,"div",4)(6,"ul",5)(7,"li",6)(8,"a",7),h._uU(9,"Home"),h.qZA()(),h.TgZ(10,"li",6)(11,"a",8),h._uU(12,"O nas"),h.qZA()(),h.TgZ(13,"li",6)(14,"a",9),h._uU(15,"Kontakt"),h.qZA()(),h.TgZ(16,"div",10)(17,"li",6)(18,"a",11),h.O4$(),h.TgZ(19,"svg",12),h._UZ(20,"path",13)(21,"path",14),h.qZA()()()()()()(),h.kcU(),h._UZ(22,"router-outlet"))},directives:[lc],styles:[""]}),n})();const wN_firebase={projectId:"hackathon-team",appId:"1:183321359963:web:5fa6f8ccfc65f54745b17e",storageBucket:"hackathon-team.appspot.com",apiKey:"AIzaSyDW5VwweGCo2Bk1PYSCkiGworhKWB3s6ZU",authDomain:"hackathon-team.firebaseapp.com",messagingSenderId:"183321359963"};let bN=(()=>{class n extends HM{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),rL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[bN,{provide:jg,useExisting:bN}],imports:[[]]}),n})();const Yt=!1;function CN(n){return new h.vHH(3e3,Yt)}function LL(){return"undefined"!=typeof window&&void 0!==window.document}function hS(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Lh(n){switch(n.length){case 0:return new mE;case 1:return n[0];default:return new WR(n)}}function DN(n,e,t,r,i={},u={}){const c=[],p=[];let y=-1,b=null;if(r.forEach(S=>{const x=S.offset,F=x==y,B=F&&b||{};Object.keys(S).forEach(q=>{let se=q,De=S[q];if("offset"!==q)switch(se=e.normalizePropertyName(se,c),De){case"!":De=i[q];break;case Yc:De=u[q];break;default:De=e.normalizeStyleValue(q,se,De,c)}B[se]=De}),F||p.push(B),b=B,y=x}),c.length)throw function TL(n){return new h.vHH(3502,Yt)}();return p}function fS(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&pS(t,"start",n)));break;case"done":n.onDone(()=>r(t&&pS(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&pS(t,"destroy",n)))}}function pS(n,e,t){const r=t.totalTime,u=gS(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),c=n._data;return null!=c&&(u._data=c),u}function gS(n,e,t,r,i="",u=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:u,disabled:!!c}}function Po(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function IN(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let mS=(n,e)=>!1,TN=(n,e,t)=>[],AN=null;function yS(n){const e=n.parentNode||n.host;return e===AN?null:e}(hS()||"undefined"!=typeof Element)&&(LL()?(AN=(()=>document.documentElement)(),mS=(n,e)=>{for(;e;){if(e===n)return!0;e=yS(e)}return!1}):mS=(n,e)=>n.contains(e),TN=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Wp=null,SN=!1;function MN(n){Wp||(Wp=function BL(){return"undefined"!=typeof document?document.body:null}()||{},SN=!!Wp.style&&"WebkitAppearance"in Wp.style);let e=!0;return Wp.style&&!function VL(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Wp.style,!e&&SN&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Wp.style)),e}const xN=mS,RN=TN;let NN=(()=>{class n{validateStyleProperty(t){return MN(t)}matchesElement(t,r){return!1}containsElement(t,r){return xN(t,r)}getParentElement(t){return yS(t)}query(t,r,i){return RN(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,u,c,p=[],y){return new mE(i,u)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),_S=(()=>{class n{}return n.NOOP=new NN,n})();const vS="ng-enter",wD="ng-leave",bD="ng-trigger",CD=".ng-trigger",PN="ng-animating",ES=".ng-animating";function Kp(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:wS(parseFloat(e[1]),e[2])}function wS(n,e){return"s"===e?1e3*n:n}function DD(n,e,t){return n.hasOwnProperty("duration")?n:function $L(n,e,t){let i,u=0,c="";if("string"==typeof n){const p=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return e.push(CN()),{duration:0,delay:0,easing:""};i=wS(parseFloat(p[1]),p[2]);const y=p[3];null!=y&&(u=wS(parseFloat(y),p[4]));const b=p[5];b&&(c=b)}else i=n;if(!t){let p=!1,y=e.length;i<0&&(e.push(function iL(){return new h.vHH(3100,Yt)}()),p=!0),u<0&&(e.push(function sL(){return new h.vHH(3101,Yt)}()),p=!0),p&&e.splice(y,0,CN())}return{duration:i,delay:u,easing:c}}(n,e,t)}function ky(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Vh(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else ky(n,t);return t}function FN(n,e,t){return t?e+":"+t+";":""}function LN(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=FN(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=FN(0,qL(t),n.style[t]));n.setAttribute("style",e)}function Nl(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=CS(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),hS()&&LN(n))}function Zp(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=CS(t);n.style[r]=""}),hS()&&LN(n))}function bE(n){return Array.isArray(n)?1==n.length?n[0]:qR(n):n}const bS=new RegExp("{{\\s*(.+?)\\s*}}","g");function VN(n){let e=[];if("string"==typeof n){let t;for(;t=bS.exec(n);)e.push(t[1]);bS.lastIndex=0}return e}function ID(n,e,t){const r=n.toString(),i=r.replace(bS,(u,c)=>{let p=e[c];return e.hasOwnProperty(c)||(t.push(function aL(n){return new h.vHH(3003,Yt)}()),p=""),p.toString()});return i==r?n:i}function TD(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const GL=/-+([a-z0-9])/g;function CS(n){return n.replace(GL,(...e)=>e[1].toUpperCase())}function qL(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ko(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function uL(n){return new h.vHH(3004,Yt)}()}}function BN(n,e){return window.getComputedStyle(n)[e]}function QL(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function JL(n,e,t){if(":"==n[0]){const y=function XL(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function bL(n){return new h.vHH(3016,Yt)}()),"* => *"}}(n,t);if("function"==typeof y)return void e.push(y);n=y}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function wL(n){return new h.vHH(3015,Yt)}()),e;const i=r[1],u=r[2],c=r[3];e.push(UN(i,c));"<"==u[0]&&!("*"==i&&"*"==c)&&e.push(UN(c,i))}(r,t,e)):t.push(n),t}const xD=new Set(["true","1"]),RD=new Set(["false","0"]);function UN(n,e){const t=xD.has(n)||RD.has(n),r=xD.has(e)||RD.has(e);return(i,u)=>{let c="*"==n||n==i,p="*"==e||e==u;return!c&&t&&"boolean"==typeof i&&(c=i?xD.has(n):RD.has(n)),!p&&r&&"boolean"==typeof u&&(p=u?xD.has(e):RD.has(e)),c&&p}}const eV=new RegExp("s*:selfs*,?","g");function DS(n,e,t,r){return new tV(n).build(e,t,r)}class tV{constructor(e){this._driver=e}build(e,t,r){const i=new iV(t);this._resetContextStyleTimingState(i);const u=ko(this,bE(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),u}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const u=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function cL(){return new h.vHH(3006,Yt)}()),e.definitions.forEach(p=>{if(this._resetContextStyleTimingState(t),0==p.type){const y=p,b=y.name;b.toString().split(/\s*,\s*/).forEach(S=>{y.name=S,u.push(this.visitState(y,t))}),y.name=b}else if(1==p.type){const y=this.visitTransition(p,t);r+=y.queryCount,i+=y.depCount,c.push(y)}else t.errors.push(function dL(){return new h.vHH(3007,Yt)}())}),{type:7,name:e.name,states:u,transitions:c,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const u=new Set,c=i||{};r.styles.forEach(p=>{if(ND(p)){const y=p;Object.keys(y).forEach(b=>{VN(y[b]).forEach(S=>{c.hasOwnProperty(S)||u.add(S)})})}}),u.size&&(TD(u.values()),t.errors.push(function hL(n,e){return new h.vHH(3008,Yt)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=ko(this,bE(e.animation),t);return{type:1,matchers:QL(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Yp(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>ko(this,r,t)),options:Yp(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const u=e.steps.map(c=>{t.currentTime=r;const p=ko(this,c,t);return i=Math.max(i,t.currentTime),p});return t.currentTime=i,{type:3,steps:u,options:Yp(e.options)}}visitAnimate(e,t){const r=function oV(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return IS(DD(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=IS(0,0,"");return u.dynamic=!0,u.strValue=r,u}return t=t||DD(r,e),IS(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,u=e.styles?e.styles:cD({});if(5==u.type)i=this.visitKeyframes(u,t);else{let c=e.styles,p=!1;if(!c){p=!0;const b={};r.easing&&(b.easing=r.easing),c=cD(b)}t.currentTime+=r.duration+r.delay;const y=this.visitStyle(c,t);y.isEmptyStep=p,i=y}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(c=>{"string"==typeof c?c==Yc?r.push(c):t.errors.push(function fL(n){return new h.vHH(3002,Yt)}()):r.push(c)}):r.push(e.styles);let i=!1,u=null;return r.forEach(c=>{if(ND(c)){const p=c,y=p.easing;if(y&&(u=y,delete p.easing),!i)for(let b in p)if(p[b].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:u,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,u=t.currentTime;r&&u>0&&(u-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&Object.keys(c).forEach(p=>{if(!this._driver.validateStyleProperty(p))return delete c[p],void t.unsupportedCSSPropertiesFound.add(p);const y=t.collectedStyles[t.currentQuerySelector],b=y[p];let S=!0;b&&(u!=i&&u>=b.startTime&&i<=b.endTime&&(t.errors.push(function pL(n,e,t,r,i){return new h.vHH(3010,Yt)}()),S=!1),u=b.startTime),S&&(y[p]={startTime:u,endTime:i}),t.options&&function HL(n,e,t){const r=e.params||{},i=VN(n);i.length&&i.forEach(u=>{r.hasOwnProperty(u)||t.push(function oL(n){return new h.vHH(3001,Yt)}())})}(c[p],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function gL(){return new h.vHH(3011,Yt)}()),r;let u=0;const c=[];let p=!1,y=!1,b=0;const S=e.steps.map(Qe=>{const et=this._makeStyleAst(Qe,t);let He=null!=et.offset?et.offset:function sV(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(ND(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(ND(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(et.styles),nt=0;return null!=He&&(u++,nt=et.offset=He),y=y||nt<0||nt>1,p=p||nt<b,b=nt,c.push(nt),et});y&&t.errors.push(function mL(){return new h.vHH(3012,Yt)}()),p&&t.errors.push(function yL(){return new h.vHH(3200,Yt)}());const x=e.steps.length;let F=0;u>0&&u<x?t.errors.push(function _L(){return new h.vHH(3202,Yt)}()):0==u&&(F=1/(x-1));const B=x-1,q=t.currentTime,se=t.currentAnimateTimings,De=se.duration;return S.forEach((Qe,et)=>{const He=F>0?et==B?1:F*et:c[et],nt=He*De;t.currentTime=q+se.delay+nt,se.duration=nt,this._validateStyleAst(Qe,t),Qe.offset=He,r.styles.push(Qe)}),r}visitReference(e,t){return{type:8,animation:ko(this,bE(e.animation),t),options:Yp(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Yp(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Yp(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[u,c]=function nV(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(eV,"")),n=n.replace(/@\*/g,CD).replace(/@\w+/g,t=>CD+"-"+t.substr(1)).replace(/:animating/g,ES),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+u:u,Po(t.collectedStyles,t.currentQuerySelector,{});const p=ko(this,bE(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:u,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:p,originalSelector:e.selector,options:Yp(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function vL(){return new h.vHH(3013,Yt)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:DD(e.timings,t.errors,!0);return{type:12,animation:ko(this,bE(e.animation),t),timings:r,options:null}}}class iV{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ND(n){return!Array.isArray(n)&&"object"==typeof n}function Yp(n){return n?(n=ky(n)).params&&(n.params=function rV(n){return n?ky(n):null}(n.params)):n={},n}function IS(n,e,t){return{duration:n,delay:e,easing:t}}function TS(n,e,t,r,i,u,c=null,p=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:u,totalTime:i+u,easing:c,subTimeline:p}}class OD{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const lV=new RegExp(":enter","g"),dV=new RegExp(":leave","g");function AS(n,e,t,r,i,u={},c={},p,y,b=[]){return(new hV).buildKeyframes(n,e,t,r,i,u,c,p,y,b)}class hV{buildKeyframes(e,t,r,i,u,c,p,y,b,S=[]){b=b||new OD;const x=new SS(e,t,b,i,u,S,[]);x.options=y,x.currentTimeline.setStyles([c],null,x.errors,y),ko(this,r,x);const F=x.timelines.filter(B=>B.containsAnimation());if(Object.keys(p).length){let B;for(let q=F.length-1;q>=0;q--){const se=F[q];if(se.element===t){B=se;break}}B&&!B.allowOnlyTimelineStyles()&&B.setStyles([p],null,x.errors,y)}return F.length?F.map(B=>B.buildKeyframes()):[TS(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),u=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);u!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let u=t.currentTimeline.currentTime;const c=null!=r.duration?Kp(r.duration):null,p=null!=r.delay?Kp(r.delay):null;return 0!==c&&e.forEach(y=>{const b=t.appendInstructionToTimeline(y,c,p);u=Math.max(u,b.duration+b.delay)}),u}visitReference(e,t){t.updateOptions(e.options,!0),ko(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const u=e.options;if(u&&(u.params||u.delay)&&(i=t.createSubContext(u),i.transformIntoNewTimeline(),null!=u.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=PD);const c=Kp(u.delay);i.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>ko(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const u=e.options&&e.options.delay?Kp(e.options.delay):0;e.steps.forEach(c=>{const p=t.createSubContext(e.options);u&&p.delayNextStep(u),ko(this,c,p),i=Math.max(i,p.currentTimeline.currentTime),r.push(p.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return DD(t.params?ID(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const u=e.style;5==u.type?this.visitKeyframes(u,t):(t.incrementTime(r.duration),this.visitStyle(u,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const u=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(u):r.setStyles(e.styles,u,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,u=r.duration,p=t.createSubContext().currentTimeline;p.easing=r.easing,e.styles.forEach(y=>{p.forwardTime((y.offset||0)*u),p.setStyles(y.styles,y.easing,t.errors,t.options),p.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(p),t.transformIntoNewTimeline(i+u),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},u=i.delay?Kp(i.delay):0;u&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=PD);let c=r;const p=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=p.length;let y=null;p.forEach((b,S)=>{t.currentQueryIndex=S;const x=t.createSubContext(e.options,b);u&&x.delayNextStep(u),b===t.element&&(y=x.currentTimeline),ko(this,e.animation,x),x.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,x.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),y&&(t.currentTimeline.mergeTimelineCollectedStyles(y),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,u=e.timings,c=Math.abs(u.duration),p=c*(t.currentQueryTotal-1);let y=c*t.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":y=p-y;break;case"full":y=r.currentStaggerTime}const S=t.currentTimeline;y&&S.delayNextStep(y);const x=S.currentTime;ko(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-x+(i.startTime-r.currentTimeline.startTime)}}const PD={};class SS{constructor(e,t,r,i,u,c,p,y){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=u,this.errors=c,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=PD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new kD(this._driver,t,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Kp(r.duration)),null!=r.delay&&(i.delay=Kp(r.delay));const u=r.params;if(u){let c=i.params;c||(c=this.options.params={}),Object.keys(u).forEach(p=>{(!t||!c.hasOwnProperty(p))&&(c[p]=ID(u[p],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,u=new SS(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(e),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(e){return this.previousNode=PD,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},u=new fV(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(u),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,u,c){let p=[];if(i&&p.push(this.element),e.length>0){e=(e=e.replace(lV,"."+this._enterClassName)).replace(dV,"."+this._leaveClassName);let b=this._driver.query(this.element,e,1!=r);0!==r&&(b=r<0?b.slice(b.length+r,b.length):b.slice(0,r)),p.push(...b)}return!u&&0==p.length&&c.push(function EL(n){return new h.vHH(3014,Yt)}()),p}}class kD{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new kD(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Yc,this._currentKeyframe[t]=Yc}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const u=i&&i.params||{},c=function pV(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(u=>{t[u]=Yc})):Vh(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(c).forEach(p=>{const y=ID(c[p],u,r);this._pendingStyles[p]=y,this._localTimelineStyles.hasOwnProperty(p)||(this._backFill[p]=this._globalTimelineStyles.hasOwnProperty(p)?this._globalTimelineStyles[p]:Yc),this._updateStyle(p,y)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((p,y)=>{const b=Vh(p,!0);Object.keys(b).forEach(S=>{const x=b[S];"!"==x?e.add(S):x==Yc&&t.add(S)}),r||(b.offset=y/this.duration),i.push(b)});const u=e.size?TD(e.values()):[],c=t.size?TD(t.values()):[];if(r){const p=i[0],y=ky(p);p.offset=0,y.offset=1,i=[p,y]}return TS(this.element,i,u,c,this.duration,this.startTime,this.easing,!1)}}class fV extends kD{constructor(e,t,r,i,u,c,p=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=u,this._stretchStartingKeyframe=p,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const u=[],c=r+t,p=t/c,y=Vh(e[0],!1);y.offset=0,u.push(y);const b=Vh(e[0],!1);b.offset=HN(p),u.push(b);const S=e.length-1;for(let x=1;x<=S;x++){let F=Vh(e[x],!1);F.offset=HN((t+F.offset*r)/c),u.push(F)}r=c,t=0,i="",e=u}return TS(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function HN(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class MS{}class gV extends MS{normalizePropertyName(e,t){return CS(e)}normalizeStyleValue(e,t,r,i){let u="";const c=r.toString().trim();if(mV[t]&&0!==r&&"0"!==r)if("number"==typeof r)u="px";else{const p=r.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&i.push(function lL(n,e){return new h.vHH(3005,Yt)}())}return c+u}}const mV=(()=>function yV(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function GN(n,e,t,r,i,u,c,p,y,b,S,x,F){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:u,toState:r,toStyles:c,timelines:p,queriedElements:y,preStyleProps:b,postStyleProps:S,totalTime:x,errors:F}}const xS={};class qN{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function _V(n,e,t,r,i){return n.some(u=>u(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],u=this._stateStyles[e],c=i?i.buildStyles(t,r):{};return u?u.buildStyles(t,r):c}build(e,t,r,i,u,c,p,y,b,S){const x=[],F=this.ast.options&&this.ast.options.params||xS,q=this.buildStyles(r,p&&p.params||xS,x),se=y&&y.params||xS,De=this.buildStyles(i,se,x),Qe=new Set,et=new Map,He=new Map,nt="void"===i,Et={params:Object.assign(Object.assign({},F),se)},Tt=S?[]:AS(e,t,this.ast.animation,u,c,q,De,Et,b,x);let Lt=0;if(Tt.forEach(ir=>{Lt=Math.max(ir.duration+ir.delay,Lt)}),x.length)return GN(t,this._triggerName,r,i,nt,q,De,[],[],et,He,Lt,x);Tt.forEach(ir=>{const Yr=ir.element,DE=Po(et,Yr,{});ir.preStyleProps.forEach(Ol=>DE[Ol]=!0);const Bh=Po(He,Yr,{});ir.postStyleProps.forEach(Ol=>Bh[Ol]=!0),Yr!==t&&Qe.add(Yr)});const mr=TD(Qe.values());return GN(t,this._triggerName,r,i,nt,q,De,Tt,mr,et,He,Lt)}}class vV{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=ky(this.defaultParams);return Object.keys(e).forEach(u=>{const c=e[u];null!=c&&(i[u]=c)}),this.styles.styles.forEach(u=>{if("string"!=typeof u){const c=u;Object.keys(c).forEach(p=>{let y=c[p];y.length>1&&(y=ID(y,i,t));const b=this.normalizer.normalizePropertyName(p,t);y=this.normalizer.normalizeStyleValue(p,b,y,t),r[b]=y})}}),r}}class wV{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new vV(i.style,i.options&&i.options.params||{},r)}),zN(this.states,"true","1"),zN(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new qN(e,i,this.states))}),this.fallbackTransition=function bV(n,e,t){return new qN(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,p)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(c=>c.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function zN(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const CV=new OD;class DV{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],u=DS(this._driver,t,r,[]);if(r.length)throw function AL(n){return new h.vHH(3503,Yt)}();this._animations[e]=u}_buildPlayer(e,t,r){const i=e.element,u=DN(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,u,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],u=this._animations[e];let c;const p=new Map;if(u?(c=AS(this._driver,t,u,vS,wD,{},{},r,CV,i),c.forEach(S=>{const x=Po(p,S.element,{});S.postStyleProps.forEach(F=>x[F]=null)})):(i.push(function SL(){return new h.vHH(3300,Yt)}()),c=[]),i.length)throw function ML(n){return new h.vHH(3504,Yt)}();p.forEach((S,x)=>{Object.keys(S).forEach(F=>{S[F]=this._driver.computeStyle(x,F,Yc)})});const b=Lh(c.map(S=>{const x=p.get(S.element);return this._buildPlayer(S,{},x)}));return this._playersById[e]=b,b.onDestroy(()=>this.destroy(e)),this.players.push(b),b}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function xL(n){return new h.vHH(3301,Yt)}();return t}listen(e,t,r,i){const u=gS(t,"","","");return fS(this._getPlayer(e),r,u,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const u=this._getPlayer(e);switch(r){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const WN="ng-animate-queued",RS="ng-animate-disabled",MV=[],KN={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},xV={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},wa="__ng_removed";class NS{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function PV(n){return null!=n?n:null}(r?e.value:e),r){const u=ky(e);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const CE="void",OS=new NS(CE);class RV{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ba(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function RL(n,e){return new h.vHH(3302,Yt)}();if(null==r||0==r.length)throw function NL(n){return new h.vHH(3303,Yt)}();if(!function kV(n){return"start"==n||"done"==n}(r))throw function OL(n,e){return new h.vHH(3400,Yt)}();const u=Po(this._elementListeners,e,[]),c={name:t,phase:r,callback:i};u.push(c);const p=Po(this._engine.statesByElement,e,{});return p.hasOwnProperty(t)||(ba(e,bD),ba(e,bD+"-"+t),p[t]=OS),()=>{this._engine.afterFlush(()=>{const y=u.indexOf(c);y>=0&&u.splice(y,1),this._triggers[t]||delete p[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function PL(n){return new h.vHH(3401,Yt)}();return t}trigger(e,t,r,i=!0){const u=this._getTrigger(t),c=new PS(this.id,t,e);let p=this._engine.statesByElement.get(e);p||(ba(e,bD),ba(e,bD+"-"+t),this._engine.statesByElement.set(e,p={}));let y=p[t];const b=new NS(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&y&&b.absorbOptions(y.options),p[t]=b,y||(y=OS),b.value!==CE&&y.value===b.value){if(!function VV(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const u=t[i];if(!e.hasOwnProperty(u)||n[u]!==e[u])return!1}return!0}(y.params,b.params)){const se=[],De=u.matchStyles(y.value,y.params,se),Qe=u.matchStyles(b.value,b.params,se);se.length?this._engine.reportError(se):this._engine.afterFlush(()=>{Zp(e,De),Nl(e,Qe)})}return}const F=Po(this._engine.playersByElement,e,[]);F.forEach(se=>{se.namespaceId==this.id&&se.triggerName==t&&se.queued&&se.destroy()});let B=u.matchTransition(y.value,b.value,e,b.params),q=!1;if(!B){if(!i)return;B=u.fallbackTransition,q=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:B,fromState:y,toState:b,player:c,isFallbackTransition:q}),q||(ba(e,WN),c.onStart(()=>{Fy(e,WN)})),c.onDone(()=>{let se=this.players.indexOf(c);se>=0&&this.players.splice(se,1);const De=this._engine.playersByElement.get(e);if(De){let Qe=De.indexOf(c);Qe>=0&&De.splice(Qe,1)}}),this.players.push(c),F.push(c),c}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,CD,!0);r.forEach(i=>{if(i[wa])return;const u=this._engine.fetchNamespacesByElement(i);u.size?u.forEach(c=>c.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const u=this._engine.statesByElement.get(e),c=new Map;if(u){const p=[];if(Object.keys(u).forEach(y=>{if(c.set(y,u[y].value),this._triggers[y]){const b=this.trigger(e,y,CE,i);b&&p.push(b)}}),p.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&Lh(p).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(u=>{const c=u.name;if(i.has(c))return;i.add(c);const y=this._triggers[c].fallbackTransition,b=r[c]||OS,S=new NS(CE),x=new PS(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:y,fromState:b,toState:S,player:x,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const u=r.players.length?r.playersByQueriedElement.get(e):[];if(u&&u.length)i=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const u=e[wa];(!u||u===KN)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){ba(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const u=r.element,c=this._elementListeners.get(u);c&&c.forEach(p=>{if(p.name==r.triggerName){const y=gS(u,r.triggerName,r.fromState.value,r.toState.value);y._data=e,fS(r.player,p.phase,y,p.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const u=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==u||0==c?u-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class NV{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,u)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new RV(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,u=r.length-1;if(u>=0){let c=!1;if(void 0!==this.driver.getParentElement){let p=this.driver.getParentElement(t);for(;p;){const y=i.get(p);if(y){const b=r.indexOf(y);r.splice(b+1,0,e),c=!0;break}p=this.driver.getParentElement(p)}}else for(let p=u;p>=0;p--)if(this.driver.containsElement(r[p].hostElement,t)){r.splice(p+1,0,e),c=!0;break}c||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let u=0;u<i.length;u++){const c=r[i[u]].namespaceId;if(c){const p=this._fetchNamespace(c);p&&t.add(p)}}}return t}trigger(e,t,r,i){if(FD(t)){const u=this._fetchNamespace(e);if(u)return u.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!FD(t))return;const u=t[wa];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ba(e,RS)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Fy(e,RS))}removeNode(e,t,r,i){if(FD(t)){const u=e?this._fetchNamespace(e):null;if(u?u.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,u){this.collectedLeaveElements.push(t),t[wa]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:u}}listen(e,t,r,i,u){return FD(t)?this._fetchNamespace(e).listen(t,r,i,u):()=>{}}_buildInstruction(e,t,r,i,u){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,u)}destroyInnerAnimations(e){let t=this.driver.query(e,CD,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,ES,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Lh(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[wa];if(r&&r.setForRemoval){if(e[wa]=KN,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(RS))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)ba(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Lh(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function kL(n){return new h.vHH(3402,Yt)}()}_flushAnimations(e,t){const r=new OD,i=[],u=new Map,c=[],p=new Map,y=new Map,b=new Map,S=new Set;this.disabledNodes.forEach(at=>{S.add(at);const gt=this.driver.query(at,".ng-animate-queued",!0);for(let Mt=0;Mt<gt.length;Mt++)S.add(gt[Mt])});const x=this.bodyNode,F=Array.from(this.statesByElement.keys()),B=QN(F,this.collectedEnterElements),q=new Map;let se=0;B.forEach((at,gt)=>{const Mt=vS+se++;q.set(gt,Mt),at.forEach(nn=>ba(nn,Mt))});const De=[],Qe=new Set,et=new Set;for(let at=0;at<this.collectedLeaveElements.length;at++){const gt=this.collectedLeaveElements[at],Mt=gt[wa];Mt&&Mt.setForRemoval&&(De.push(gt),Qe.add(gt),Mt.hasAnimation?this.driver.query(gt,".ng-star-inserted",!0).forEach(nn=>Qe.add(nn)):et.add(gt))}const He=new Map,nt=QN(F,Array.from(Qe));nt.forEach((at,gt)=>{const Mt=wD+se++;He.set(gt,Mt),at.forEach(nn=>ba(nn,Mt))}),e.push(()=>{B.forEach((at,gt)=>{const Mt=q.get(gt);at.forEach(nn=>Fy(nn,Mt))}),nt.forEach((at,gt)=>{const Mt=He.get(gt);at.forEach(nn=>Fy(nn,Mt))}),De.forEach(at=>{this.processLeaveNode(at)})});const Et=[],Tt=[];for(let at=this._namespaceList.length-1;at>=0;at--)this._namespaceList[at].drainQueuedTransitions(t).forEach(Mt=>{const nn=Mt.player,bi=Mt.element;if(Et.push(nn),this.collectedEnterElements.length){const Is=bi[wa];if(Is&&Is.setForMove){if(Is.previousTriggersValues&&Is.previousTriggersValues.has(Mt.triggerName)){const Qp=Is.previousTriggersValues.get(Mt.triggerName),jh=this.statesByElement.get(Mt.element);jh&&jh[Mt.triggerName]&&(jh[Mt.triggerName].value=Qp)}return void nn.destroy()}}const Pl=!x||!this.driver.containsElement(x,bi),Fo=He.get(bi),Uh=q.get(bi),sr=this._buildInstruction(Mt,r,Uh,Fo,Pl);if(sr.errors&&sr.errors.length)return void Tt.push(sr);if(Pl)return nn.onStart(()=>Zp(bi,sr.fromStyles)),nn.onDestroy(()=>Nl(bi,sr.toStyles)),void i.push(nn);if(Mt.isFallbackTransition)return nn.onStart(()=>Zp(bi,sr.fromStyles)),nn.onDestroy(()=>Nl(bi,sr.toStyles)),void i.push(nn);const aO=[];sr.timelines.forEach(Is=>{Is.stretchStartingKeyframe=!0,this.disabledNodes.has(Is.element)||aO.push(Is)}),sr.timelines=aO,r.append(bi,sr.timelines),c.push({instruction:sr,player:nn,element:bi}),sr.queriedElements.forEach(Is=>Po(p,Is,[]).push(nn)),sr.preStyleProps.forEach((Is,Qp)=>{const jh=Object.keys(Is);if(jh.length){let Jp=y.get(Qp);Jp||y.set(Qp,Jp=new Set),jh.forEach(FS=>Jp.add(FS))}}),sr.postStyleProps.forEach((Is,Qp)=>{const jh=Object.keys(Is);let Jp=b.get(Qp);Jp||b.set(Qp,Jp=new Set),jh.forEach(FS=>Jp.add(FS))})});if(Tt.length){const at=[];Tt.forEach(gt=>{at.push(function FL(n,e){return new h.vHH(3505,Yt)}())}),Et.forEach(gt=>gt.destroy()),this.reportError(at)}const Lt=new Map,mr=new Map;c.forEach(at=>{const gt=at.element;r.has(gt)&&(mr.set(gt,gt),this._beforeAnimationBuild(at.player.namespaceId,at.instruction,Lt))}),i.forEach(at=>{const gt=at.element;this._getPreviousPlayers(gt,!1,at.namespaceId,at.triggerName,null).forEach(nn=>{Po(Lt,gt,[]).push(nn),nn.destroy()})});const ir=De.filter(at=>XN(at,y,b)),Yr=new Map;YN(Yr,this.driver,et,b,Yc).forEach(at=>{XN(at,y,b)&&ir.push(at)});const Bh=new Map;B.forEach((at,gt)=>{YN(Bh,this.driver,new Set(at),y,"!")}),ir.forEach(at=>{const gt=Yr.get(at),Mt=Bh.get(at);Yr.set(at,Object.assign(Object.assign({},gt),Mt))});const Ol=[],IE=[],TE={};c.forEach(at=>{const{element:gt,player:Mt,instruction:nn}=at;if(r.has(gt)){if(S.has(gt))return Mt.onDestroy(()=>Nl(gt,nn.toStyles)),Mt.disabled=!0,Mt.overrideTotalTime(nn.totalTime),void i.push(Mt);let bi=TE;if(mr.size>1){let Fo=gt;const Uh=[];for(;Fo=Fo.parentNode;){const sr=mr.get(Fo);if(sr){bi=sr;break}Uh.push(Fo)}Uh.forEach(sr=>mr.set(sr,bi))}const Pl=this._buildAnimation(Mt.namespaceId,nn,Lt,u,Bh,Yr);if(Mt.setRealPlayer(Pl),bi===TE)Ol.push(Mt);else{const Fo=this.playersByElement.get(bi);Fo&&Fo.length&&(Mt.parentPlayer=Lh(Fo)),i.push(Mt)}}else Zp(gt,nn.fromStyles),Mt.onDestroy(()=>Nl(gt,nn.toStyles)),IE.push(Mt),S.has(gt)&&i.push(Mt)}),IE.forEach(at=>{const gt=u.get(at.element);if(gt&&gt.length){const Mt=Lh(gt);at.setRealPlayer(Mt)}}),i.forEach(at=>{at.parentPlayer?at.syncPlayerEvents(at.parentPlayer):at.destroy()});for(let at=0;at<De.length;at++){const gt=De[at],Mt=gt[wa];if(Fy(gt,wD),Mt&&Mt.hasAnimation)continue;let nn=[];if(p.size){let Pl=p.get(gt);Pl&&Pl.length&&nn.push(...Pl);let Fo=this.driver.query(gt,ES,!0);for(let Uh=0;Uh<Fo.length;Uh++){let sr=p.get(Fo[Uh]);sr&&sr.length&&nn.push(...sr)}}const bi=nn.filter(Pl=>!Pl.destroyed);bi.length?FV(this,gt,bi):this.processLeaveNode(gt)}return De.length=0,Ol.forEach(at=>{this.players.push(at),at.onDone(()=>{at.destroy();const gt=this.players.indexOf(at);this.players.splice(gt,1)}),at.play()}),Ol}elementContainsData(e,t){let r=!1;const i=t[wa];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,u){let c=[];if(t){const p=this.playersByQueriedElement.get(e);p&&(c=p)}else{const p=this.playersByElement.get(e);if(p){const y=!u||u==CE;p.forEach(b=>{b.queued||!y&&b.triggerName!=i||c.push(b)})}}return(r||i)&&(c=c.filter(p=>!(r&&r!=p.namespaceId||i&&i!=p.triggerName))),c}_beforeAnimationBuild(e,t,r){const u=t.element,c=t.isRemovalTransition?void 0:e,p=t.isRemovalTransition?void 0:t.triggerName;for(const y of t.timelines){const b=y.element,S=b!==u,x=Po(r,b,[]);this._getPreviousPlayers(b,S,c,p,t.toState).forEach(B=>{const q=B.getRealPlayer();q.beforeDestroy&&q.beforeDestroy(),B.destroy(),x.push(B)})}Zp(u,t.fromStyles)}_buildAnimation(e,t,r,i,u,c){const p=t.triggerName,y=t.element,b=[],S=new Set,x=new Set,F=t.timelines.map(q=>{const se=q.element;S.add(se);const De=se[wa];if(De&&De.removedBeforeQueried)return new mE(q.duration,q.delay);const Qe=se!==y,et=function LV(n){const e=[];return JN(n,e),e}((r.get(se)||MV).map(Lt=>Lt.getRealPlayer())).filter(Lt=>!!Lt.element&&Lt.element===se),He=u.get(se),nt=c.get(se),Et=DN(0,this._normalizer,0,q.keyframes,He,nt),Tt=this._buildPlayer(q,Et,et);if(q.subTimeline&&i&&x.add(se),Qe){const Lt=new PS(e,p,se);Lt.setRealPlayer(Tt),b.push(Lt)}return Tt});b.forEach(q=>{Po(this.playersByQueriedElement,q.element,[]).push(q),q.onDone(()=>function OV(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,q.element,q))}),S.forEach(q=>ba(q,PN));const B=Lh(F);return B.onDestroy(()=>{S.forEach(q=>Fy(q,PN)),Nl(y,t.toStyles)}),x.forEach(q=>{Po(i,q,[]).push(B)}),B}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new mE(e.duration,e.delay)}}class PS{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new mE,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>fS(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Po(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function FD(n){return n&&1===n.nodeType}function ZN(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function YN(n,e,t,r,i){const u=[];t.forEach(y=>u.push(ZN(y)));const c=[];r.forEach((y,b)=>{const S={};y.forEach(x=>{const F=S[x]=e.computeStyle(b,x,i);(!F||0==F.length)&&(b[wa]=xV,c.push(b))}),n.set(b,S)});let p=0;return t.forEach(y=>ZN(y,u[p++])),c}function QN(n,e){const t=new Map;if(n.forEach(p=>t.set(p,[])),0==e.length)return t;const i=new Set(e),u=new Map;function c(p){if(!p)return 1;let y=u.get(p);if(y)return y;const b=p.parentNode;return y=t.has(b)?b:i.has(b)?1:c(b),u.set(p,y),y}return e.forEach(p=>{const y=c(p);1!==y&&t.get(y).push(p)}),t}function ba(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Fy(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function FV(n,e,t){Lh(t).onDone(()=>n.processLeaveNode(e))}function JN(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof WR?JN(r.players,e):e.push(r)}}function XN(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(u=>i.add(u)):e.set(n,r),t.delete(n),!0}class LD{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,u)=>{},this._transitionEngine=new NV(e,t,r),this._timelineEngine=new DV(e,t,r),this._transitionEngine.onRemovalComplete=(i,u)=>this.onRemovalComplete(i,u)}registerTrigger(e,t,r,i,u){const c=e+"-"+i;let p=this._triggerCache[c];if(!p){const y=[],S=DS(this._driver,u,y,[]);if(y.length)throw function IL(n,e){return new h.vHH(3404,Yt)}();p=function EV(n,e,t){return new wV(n,e,t)}(i,S,this._normalizer),this._triggerCache[c]=p}this._transitionEngine.registerTrigger(t,i,p)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[u,c]=IN(r);this._timelineEngine.command(u,t,c,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,u){if("@"==r.charAt(0)){const[c,p]=IN(r);return this._timelineEngine.listen(c,t,p,u)}return this._transitionEngine.listen(e,t,r,i,u)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let UV=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let u=n.initialStylesByElement.get(t);u||n.initialStylesByElement.set(t,u={}),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&Nl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Nl(this._element,this._initialStyles),this._endStyles&&(Nl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Zp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Zp(this._element,this._endStyles),this._endStyles=null),Nl(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function kS(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];jV(i)&&(e=e||{},e[i]=n[i])}return e}function jV(n){return"display"===n||"position"===n}class eO{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:BN(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class $V{validateStyleProperty(e){return MN(e)}matchesElement(e,t){return!1}containsElement(e,t){return xN(e,t)}getParentElement(e){return yS(e)}query(e,t,r){return RN(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,u,c=[]){const y={duration:r,delay:i,fill:0==i?"both":"forwards"};u&&(y.easing=u);const b={},S=c.filter(F=>F instanceof eO);(function zL(n,e){return 0===n||0===e})(r,i)&&S.forEach(F=>{let B=F.currentSnapshot;Object.keys(B).forEach(q=>b[q]=B[q])}),t=function WL(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let u=e[0],c=[];if(r.forEach(p=>{u.hasOwnProperty(p)||c.push(p),u[p]=t[p]}),c.length)for(var i=1;i<e.length;i++){let p=e[i];c.forEach(function(y){p[y]=BN(n,y)})}}return e}(e,t=t.map(F=>Vh(F,!1)),b);const x=function BV(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=kS(e[0]),e.length>1&&(r=kS(e[e.length-1]))):e&&(t=kS(e)),t||r?new UV(n,t,r):null}(e,t);return new eO(e,t,y,x)}}let HV=(()=>{class n extends lD{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:h.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?qR(t):t;return tO(this._renderer,null,r,"register",[i]),new GV(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.FYo),h.LFG(ue))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class GV extends class V1{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new qV(this._id,e,t||{},this._renderer)}}class qV{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return tO(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function tO(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const nO="@.disabled";let zV=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(u,c)=>{const p=null==c?void 0:c.parentNode(u);p&&c.removeChild(p,u)}}createRenderer(t,r){const u=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let S=this._rendererCache.get(u);return S||(S=new rO("",u,this.engine),this._rendererCache.set(u,S)),S}const c=r.id,p=r.id+"-"+this._currentId;this._currentId++,this.engine.register(p,t);const y=S=>{Array.isArray(S)?S.forEach(y):this.engine.registerTrigger(c,p,t,S.name,S)};return r.data.animation.forEach(y),new WV(this,p,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[c,p]=u;c(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.FYo),h.LFG(LD),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class rO{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==nO?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class WV extends rO{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==nO?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function KV(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let u=t.substr(1),c="";return"@"!=u.charAt(0)&&([u,c]=function ZV(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(u)),this.engine.listen(this.namespaceId,i,u,c,p=>{this.factory.scheduleListenerCallback(p._data||-1,r,p)})}return this.delegate.listen(e,t,r)}}let YV=(()=>{class n extends LD{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ue),h.LFG(_S),h.LFG(MS))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const iO=new h.OlP("AnimationModuleType"),sO=[{provide:lD,useClass:HV},{provide:MS,useFactory:function QV(){return new gV}},{provide:LD,useClass:YV},{provide:h.FYo,useFactory:function JV(n,e,t){return new zV(n,e,t)},deps:[hn,LD,h.R0b]}],oO=[{provide:_S,useFactory:()=>new $V},{provide:iO,useValue:"BrowserAnimations"},...sO],XV=[{provide:_S,useClass:NN},{provide:iO,useValue:"NoopAnimations"},...sO];let eB=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?XV:oO}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:oO,imports:[Wo]}),n})(),tB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n,bootstrap:[nL]}),n.\u0275inj=h.cJS({providers:[],imports:[[Wo,tL,Xn.hO.initializeApp(wN_firebase),rL,cN.forRoot(),eB]]}),n})();(0,h.G48)(),ku().bootstrapModule(tB).catch(n=>console.error(n))},5867:(rt,we,O)=>{O.d(we,{Mq:()=>h.getApp,C6:()=>h.getApps});var h=O(9681);(0,h.registerVersion)("firebase","9.8.1","app")},127:(rt,we,O)=>{O.d(we,{Z:()=>h.Z});var h=O(3942);h.Z.registerVersion("firebase","9.8.1","app-compat")},7092:(rt,we,O)=>{O.r(we);var h=O(5861),X=O(3942),P=O(2090),le=O(9681),re=O(655),ge=O(1877),ue=O(4859);const Pe=function qe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ue=function Re(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},fe=new P.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ze=new ge.Yd("@firebase/auth");function Je(_,...f){ze.logLevel<=ge.in.ERROR&&ze.error(`Auth (${le.SDK_VERSION}): ${_}`,...f)}function Se(_,...f){throw je(_,...f)}function Ee(_,...f){return je(_,...f)}function Ce(_,f,m){const E=Object.assign(Object.assign({},Ue()),{[f]:m});return new P.LL("auth","Firebase",E).create(f,{appName:_.name})}function $e(_,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&Se(_,"argument-error"),Ce(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function je(_,...f){if("string"!=typeof _){const m=f[0],E=[...f.slice(1)];return E[0]&&(E[0].appName=_.name),_._errorFactory.create(m,...E)}return fe.create(_,...f)}function $(_,f,...m){if(!_)throw je(f,...m)}function ve(_){const f="INTERNAL ASSERTION FAILED: "+_;throw Je(f),new Error(f)}function Z(_,f){_||ve(f)}const ie=new Map;function ee(_){Z(_ instanceof Function,"Expected a class definition");let f=ie.get(_);return f?(Z(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,ie.set(_,f),f)}function ke(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function ct(){return"http:"===zt()||"https:"===zt()}function zt(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Xt{constructor(f,m){this.shortDelay=f,this.longDelay=m,Z(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return function Ut(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ct()||(0,P.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Tn(_,f){Z(_.emulator,"Emulator should always be set here");const{url:m}=_.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class rn{static initialize(f,m,E){this.fetchImpl=f,m&&(this.headersImpl=m),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ve("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ve("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ve("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Qt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Or=new Xt(3e4,6e4);function Zt(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function Vt(_,f,m,E){return rs.apply(this,arguments)}function rs(){return(rs=(0,h.Z)(function*(_,f,m,E,T={}){return Qr(_,T,(0,h.Z)(function*(){let N={},K={};E&&("GET"===f?K=E:N={body:JSON.stringify(E)});const pe=(0,P.xO)(Object.assign({key:_.config.apiKey},K)).slice(1),Ve=yield _._getAdditionalHeaders();return Ve["Content-Type"]="application/json",_.languageCode&&(Ve["X-Firebase-Locale"]=_.languageCode),rn.fetch()(Ts(_,_.config.apiHost,m,pe),Object.assign({method:f,headers:Ve,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function Qr(_,f,m){return yr.apply(this,arguments)}function yr(){return(yr=(0,h.Z)(function*(_,f,m){_._canInitEmulator=!1;const E=Object.assign(Object.assign({},Qt),f);try{const T=new Jr(_),N=yield Promise.race([m(),T.promise]);T.clearNetworkTimeout();const K=yield N.json();if("needConfirmation"in K)throw Li(_,"account-exists-with-different-credential",K);if(N.ok&&!("errorMessage"in K))return K;{const pe=N.ok?K.errorMessage:K.error.message,[Ve,Ye]=pe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ve)throw Li(_,"credential-already-in-use",K);if("EMAIL_EXISTS"===Ve)throw Li(_,"email-already-in-use",K);const _t=E[Ve]||Ve.toLowerCase().replace(/[_\s]+/g,"-");if(Ye)throw Ce(_,_t,Ye);Se(_,_t)}}catch(T){if(T instanceof P.ZR)throw T;Se(_,"network-request-failed")}})).apply(this,arguments)}function Pr(_,f,m,E){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,h.Z)(function*(_,f,m,E,T={}){const N=yield Vt(_,f,m,E,T);return"mfaPendingCredential"in N&&Se(_,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function Ts(_,f,m,E){const T=`${f}${m}?${E}`;return _.config.emulator?Tn(_.config,T):`${_.config.apiScheme}://${T}`}class Jr{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,E)=>{this.timer=setTimeout(()=>E(Ee(this.auth,"network-request-failed")),Or.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Li(_,f,m){const E={appName:_.name};m.email&&(E.email=m.email),m.phoneNumber&&(E.phoneNumber=m.phoneNumber);const T=Ee(_,f,E);return T.customData._tokenResponse=m,T}function Xr(){return(Xr=(0,h.Z)(function*(_,f){return Vt(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function wn(_,f){return An.apply(this,arguments)}function An(){return(An=(0,h.Z)(function*(_,f){return Vt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function to(_,f){return ei.apply(this,arguments)}function ei(){return(ei=(0,h.Z)(function*(_,f){return Vt(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Kn(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function Lo(){return(Lo=(0,h.Z)(function*(_,f=!1){const m=(0,P.m9)(_),E=yield m.getIdToken(f),T=ut(E);$(T&&T.exp&&T.auth_time&&T.iat,m.auth,"internal-error");const N="object"==typeof T.firebase?T.firebase:void 0,K=null==N?void 0:N.sign_in_provider;return{claims:T,token:E,authTime:Kn(Wt(T.auth_time)),issuedAtTime:Kn(Wt(T.iat)),expirationTime:Kn(Wt(T.exp)),signInProvider:K||null,signInSecondFactor:(null==N?void 0:N.sign_in_second_factor)||null}})).apply(this,arguments)}function Wt(_){return 1e3*Number(_)}function ut(_){const[f,m,E]=_.split(".");if(void 0===f||void 0===m||void 0===E)return Je("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,P.tV)(m);return T?JSON.parse(T):(Je("Failed to decode base64 JWT payload"),null)}catch(T){return Je("Caught error parsing JWT payload as JSON",T),null}}function _r(_,f){return ti.apply(this,arguments)}function ti(){return(ti=(0,h.Z)(function*(_,f,m=!1){if(m)return f;try{return yield f}catch(E){throw E instanceof P.ZR&&jt(E)&&_.auth.currentUser===_&&(yield _.auth.signOut()),E}})).apply(this,arguments)}function jt({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class no{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const T=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const E=this.getInterval(f);this.timerId=setTimeout((0,h.Z)(function*(){yield m.iteration()}),E)}iteration(){var f=this;return(0,h.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&f.schedule(!0))}f.schedule()})()}}class vr{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kn(this.lastLoginAt),this.creationTime=Kn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Er(_){return V.apply(this,arguments)}function V(){return(V=(0,h.Z)(function*(_){var f;const m=_.auth,E=yield _.getIdToken(),T=yield _r(_,to(m,{idToken:E}));$(null==T?void 0:T.users.length,m,"internal-error");const N=T.users[0];_._notifyReloadListener(N);const K=(null===(f=N.providerUserInfo)||void 0===f?void 0:f.length)?G(N.providerUserInfo):[],pe=Ie(_.providerData,K),_t=!!_.isAnonymous&&!(_.email&&N.passwordHash||(null==pe?void 0:pe.length)),dt={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:pe,metadata:new vr(N.createdAt,N.lastLoginAt),isAnonymous:_t};Object.assign(_,dt)})).apply(this,arguments)}function W(){return(W=(0,h.Z)(function*(_){const f=(0,P.m9)(_);yield Er(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Ie(_,f){return[..._.filter(E=>!f.some(T=>T.providerId===E.providerId)),...f]}function G(_){return _.map(f=>{var{providerId:m}=f,E=(0,re._T)(f,["providerId"]);return{providerId:m,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function Oe(){return(Oe=(0,h.Z)(function*(_,f){const m=yield Qr(_,{},(0,h.Z)(function*(){const E=(0,P.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:T,apiKey:N}=_.config,K=Ts(_,T,"/v1/token",`key=${N}`),pe=yield _._getAdditionalHeaders();return pe["Content-Type"]="application/x-www-form-urlencoded",rn.fetch()(K,{method:"POST",headers:pe,body:E})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class tt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){$(f.idToken,"internal-error"),$(void 0!==f.idToken,"internal-error"),$(void 0!==f.refreshToken,"internal-error");const m="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function bt(_){const f=ut(_);return $(f,"internal-error"),$(void 0!==f.exp,"internal-error"),$(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var E=this;return(0,h.Z)(function*(){return $(!E.accessToken||E.refreshToken,f,"user-token-expired"),m||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(f,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var E=this;return(0,h.Z)(function*(){const{accessToken:T,refreshToken:N,expiresIn:K}=yield function J(_,f){return Oe.apply(this,arguments)}(f,m);E.updateTokensAndExpiration(T,N,Number(K))})()}updateTokensAndExpiration(f,m,E){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(f,m){const{refreshToken:E,accessToken:T,expirationTime:N}=m,K=new tt;return E&&($("string"==typeof E,"internal-error",{appName:f}),K.refreshToken=E),T&&($("string"==typeof T,"internal-error",{appName:f}),K.accessToken=T),N&&($("number"==typeof N,"internal-error",{appName:f}),K.expirationTime=N),K}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new tt,this.toJSON())}_performRefresh(){return ve("not implemented")}}function ft(_,f){$("string"==typeof _||void 0===_,"internal-error",{appName:f})}class At{constructor(f){var{uid:m,auth:E,stsTokenManager:T}=f,N=(0,re._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new no(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=E,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new vr(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,h.Z)(function*(){const E=yield _r(m,m.stsTokenManager.getToken(m.auth,f));return $(E,m.auth,"internal-error"),m.accessToken!==E&&(m.accessToken=E,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),E})()}getIdTokenResult(f){return function Ci(_){return Lo.apply(this,arguments)}(this,f)}reload(){return function z(_){return W.apply(this,arguments)}(this)}_assign(f){this!==f&&($(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new At(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){$(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var E=this;return(0,h.Z)(function*(){let T=!1;f.idToken&&f.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(f),T=!0),m&&(yield Er(E)),yield E.auth._persistUserIfCurrent(E),T&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var f=this;return(0,h.Z)(function*(){const m=yield f.getIdToken();return yield _r(f,function yt(_,f){return Xr.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var E,T,N,K,pe,Ve,Ye,_t;const dt=null!==(E=m.displayName)&&void 0!==E?E:void 0,Dn=null!==(T=m.email)&&void 0!==T?T:void 0,pi=null!==(N=m.phoneNumber)&&void 0!==N?N:void 0,hc=null!==(K=m.photoURL)&&void 0!==K?K:void 0,u_=null!==(pe=m.tenantId)&&void 0!==pe?pe:void 0,ha=null!==(Ve=m._redirectEventId)&&void 0!==Ve?Ve:void 0,Od=null!==(Ye=m.createdAt)&&void 0!==Ye?Ye:void 0,Pd=null!==(_t=m.lastLoginAt)&&void 0!==_t?_t:void 0,{uid:hf,emailVerified:kd,isAnonymous:gi,providerData:ff,stsTokenManager:pf}=m;$(hf&&pf,f,"internal-error");const Fd=tt.fromJSON(this.name,pf);$("string"==typeof hf,f,"internal-error"),ft(dt,f.name),ft(Dn,f.name),$("boolean"==typeof kd,f,"internal-error"),$("boolean"==typeof gi,f,"internal-error"),ft(pi,f.name),ft(hc,f.name),ft(u_,f.name),ft(ha,f.name),ft(Od,f.name),ft(Pd,f.name);const fc=new At({uid:hf,auth:f,email:Dn,emailVerified:kd,displayName:dt,isAnonymous:gi,photoURL:hc,phoneNumber:pi,tenantId:u_,stsTokenManager:Fd,createdAt:Od,lastLoginAt:Pd});return ff&&Array.isArray(ff)&&(fc.providerData=ff.map(nl=>Object.assign({},nl))),ha&&(fc._redirectEventId=ha),fc}static _fromIdTokenResponse(f,m,E=!1){return(0,h.Z)(function*(){const T=new tt;T.updateFromServerResponse(m);const N=new At({uid:m.localId,auth:f,stsTokenManager:T,isAnonymous:E});return yield Er(N),N})()}}const Dt=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(m,E){var T=this;return(0,h.Z)(function*(){T.storage[m]=E})()}_get(m){var E=this;return(0,h.Z)(function*(){const T=E.storage[m];return void 0===T?null:T})()}_remove(m){var E=this;return(0,h.Z)(function*(){delete E.storage[m]})()}_addListener(m,E){}_removeListener(m,E){}}return _.type="NONE",_})();function Un(_,f,m){return`firebase:${_}:${f}:${m}`}class kr{constructor(f,m,E){this.persistence=f,this.auth=m,this.userKey=E;const{config:T,name:N}=this.auth;this.fullUserKey=Un(this.userKey,T.apiKey,N),this.fullPersistenceKey=Un("persistence",T.apiKey,N),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,h.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?At._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,h.Z)(function*(){if(m.persistence===f)return;const E=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,E?m.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,E="authUser"){return(0,h.Z)(function*(){if(!m.length)return new kr(ee(Dt),f,E);const T=(yield Promise.all(m.map(function(){var Ye=(0,h.Z)(function*(_t){if(yield _t._isAvailable())return _t});return function(_t){return Ye.apply(this,arguments)}}()))).filter(Ye=>Ye);let N=T[0]||ee(Dt);const K=Un(E,f.config.apiKey,f.name);let pe=null;for(const Ye of m)try{const _t=yield Ye._get(K);if(_t){const dt=At._fromJSON(f,_t);Ye!==N&&(pe=dt),N=Ye;break}}catch(_t){}const Ve=T.filter(Ye=>Ye._shouldAllowMigration);return N._shouldAllowMigration&&Ve.length?(N=Ve[0],pe&&(yield N._set(K,pe.toJSON())),yield Promise.all(m.map(function(){var Ye=(0,h.Z)(function*(_t){if(_t!==N)try{yield _t._remove(K)}catch(dt){}});return function(_t){return Ye.apply(this,arguments)}}())),new kr(N,f,E)):new kr(N,f,E)})()}}function Cu(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(jn(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Ca(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(is(f))return"Blackberry";if($n(f))return"Webos";if(Du(f))return"Safari";if((f.includes("chrome/")||Da(f))&&!f.includes("edge/"))return"Chrome";if(Fr(f))return"Android";{const E=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function Ca(_=(0,P.z$)()){return/firefox\//i.test(_)}function Du(_=(0,P.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Da(_=(0,P.z$)()){return/crios\//i.test(_)}function jn(_=(0,P.z$)()){return/iemobile/i.test(_)}function Fr(_=(0,P.z$)()){return/android/i.test(_)}function is(_=(0,P.z$)()){return/blackberry/i.test(_)}function $n(_=(0,P.z$)()){return/webos/i.test(_)}function Ur(_=(0,P.z$)()){return/iphone|ipad|ipod/i.test(_)}function As(_=(0,P.z$)()){return Ur(_)||Fr(_)||$n(_)||is(_)||/windows phone/i.test(_)||jn(_)}function Vo(_,f=[]){let m;switch(_){case"Browser":m=Cu((0,P.z$)());break;case"Worker":m=`${Cu((0,P.z$)())}-${_}`;break;default:m=_}const E=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${le.SDK_VERSION}/${E}`}class jr{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const E=N=>new Promise((K,pe)=>{try{K(f(N))}catch(Ve){pe(Ve)}});E.onAbort=m,this.queue.push(E);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,h.Z)(function*(){if(m.auth.currentUser===f)return;const E=[];try{for(const T of m.queue)yield T(f),T.onAbort&&E.push(T.onAbort)}catch(T){E.reverse();for(const N of E)try{N()}catch(K){}throw m.auth._errorFactory.create("login-blocked",{originalMessage:T.message})}})()}}class We{constructor(f,m,E){this.app=f,this.heartbeatServiceProvider=m,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new en(this),this.idTokenSubscription=new en(this),this.beforeStateQueue=new jr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(f,m){var E=this;return m&&(this._popupRedirectResolver=ee(m)),this._initializationPromise=this.queue((0,h.Z)(function*(){var T,N;if(!E._deleted&&(E.persistenceManager=yield kr.create(E,f),!E._deleted)){if(null===(T=E._popupRedirectResolver)||void 0===T?void 0:T._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch(K){}yield E.initializeCurrentUser(m),E.lastNotifiedUid=(null===(N=E.currentUser)||void 0===N?void 0:N.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,h.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,h.Z)(function*(){var E;const T=yield m.assertedPersistence.getCurrentUser();let N=T,K=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const pe=null===(E=m.redirectUser)||void 0===E?void 0:E._redirectEventId,Ve=null==N?void 0:N._redirectEventId,Ye=yield m.tryRedirectSignIn(f);(!pe||pe===Ve)&&(null==Ye?void 0:Ye.user)&&(N=Ye.user,K=!0)}if(!N)return m.directlySetCurrentUser(null);if(!N._redirectEventId){if(K)try{yield m.beforeStateQueue.runMiddleware(N)}catch(pe){N=T,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(pe))}return N?m.reloadAndSetCurrentUserOrClear(N):m.directlySetCurrentUser(null)}return $(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===N._redirectEventId?m.directlySetCurrentUser(N):m.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(f){var m=this;return(0,h.Z)(function*(){let E=null;try{E=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch(T){yield m._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,h.Z)(function*(){try{yield Er(f)}catch(E){if("auth/network-request-failed"!==E.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Xe(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,h.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,h.Z)(function*(){const E=f?(0,P.m9)(f):null;return E&&$(E.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(E&&E._clone(m))})()}_updateCurrentUser(f,m=!1){var E=this;return(0,h.Z)(function*(){if(!E._deleted)return f&&$(E.tenantId===f.tenantId,E,"tenant-id-mismatch"),m||(yield E.beforeStateQueue.runMiddleware(f)),E.queue((0,h.Z)(function*(){yield E.directlySetCurrentUser(f),E.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,h.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,h.Z)(function*(){yield m.assertedPersistence.setPersistence(ee(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new P.LL("auth","Firebase",f())}onAuthStateChanged(f,m,E){return this.registerStateListener(this.authStateSubscription,f,m,E)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,E){return this.registerStateListener(this.idTokenSubscription,f,m,E)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var E=this;return(0,h.Z)(function*(){const T=yield E.getOrInitRedirectPersistenceManager(m);return null===f?T.removeCurrentUser():T.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,h.Z)(function*(){if(!m.redirectPersistenceManager){const E=f&&ee(f)||m._popupRedirectResolver;$(E,m,"argument-error"),m.redirectPersistenceManager=yield kr.create(m,[ee(E._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,h.Z)(function*(){var E,T;return m._isInitialized&&(yield m.queue((0,h.Z)(function*(){}))),(null===(E=m._currentUser)||void 0===E?void 0:E._redirectEventId)===f?m._currentUser:(null===(T=m.redirectUser)||void 0===T?void 0:T._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,h.Z)(function*(){if(f===m.currentUser)return m.queue((0,h.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,E,T){if(this._deleted)return()=>{};const N="function"==typeof m?m:m.next.bind(m),K=this._isInitialized?Promise.resolve():this._initializationPromise;return $(K,this,"internal-error"),K.then(()=>N(this.currentUser)),"function"==typeof m?f.addObserver(m,E,T):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,h.Z)(function*(){m.currentUser&&m.currentUser!==f&&(m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh()),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return $(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Vo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,h.Z)(function*(){var m;const E={"X-Client-Version":f.clientVersion};f.app.options.appId&&(E["X-Firebase-gmpid"]=f.app.options.appId);const T=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return T&&(E["X-Firebase-Client"]=T),E})()}}function lt(_){return(0,P.m9)(_)}class en{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,P.ne)(m=>this.observer=m)}get next(){return $(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Vi(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function Bi(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class Di{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return ve("not implemented")}_getIdTokenResponse(f){return ve("not implemented")}_linkToIdToken(f,m){return ve("not implemented")}_getReauthenticationResolver(f){return ve("not implemented")}}function Sn(_,f){return xt.apply(this,arguments)}function xt(){return(xt=(0,h.Z)(function*(_,f){return Vt(_,"POST","/v1/accounts:resetPassword",Zt(_,f))})).apply(this,arguments)}function Ta(_,f){return ss.apply(this,arguments)}function ss(){return(ss=(0,h.Z)(function*(_,f){return Vt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Iu(_,f){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,h.Z)(function*(_,f){return Vt(_,"POST","/v1/accounts:update",Zt(_,f))})).apply(this,arguments)}function io(){return(io=(0,h.Z)(function*(_,f){return Pr(_,"POST","/v1/accounts:signInWithPassword",Zt(_,f))})).apply(this,arguments)}function Ms(_,f){return wr.apply(this,arguments)}function wr(){return(wr=(0,h.Z)(function*(_,f){return Vt(_,"POST","/v1/accounts:sendOobCode",Zt(_,f))})).apply(this,arguments)}function sn(_,f){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,h.Z)(function*(_,f){return Ms(_,f)})).apply(this,arguments)}function Aa(_,f){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,h.Z)(function*(_,f){return Ms(_,f)})).apply(this,arguments)}function Ui(_,f){return Au.apply(this,arguments)}function Au(){return(Au=(0,h.Z)(function*(_,f){return Ms(_,f)})).apply(this,arguments)}function Jc(_,f){return ji.apply(this,arguments)}function ji(){return(ji=(0,h.Z)(function*(_,f){return Ms(_,f)})).apply(this,arguments)}function kl(){return(kl=(0,h.Z)(function*(_,f){return Pr(_,"POST","/v1/accounts:signInWithEmailLink",Zt(_,f))})).apply(this,arguments)}function Xc(){return(Xc=(0,h.Z)(function*(_,f){return Pr(_,"POST","/v1/accounts:signInWithEmailLink",Zt(_,f))})).apply(this,arguments)}class br extends Di{constructor(f,m,E,T=null){super("password",E),this._email=f,this._password=m,this._tenantId=T}static _fromEmailAndPassword(f,m){return new br(f,m,"password")}static _fromEmailAndCode(f,m,E=null){return new br(f,m,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,h.Z)(function*(){switch(m.signInMethod){case"password":return function Fn(_,f){return io.apply(this,arguments)}(f,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function $i(_,f){return kl.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:Se(f,"internal-error")}})()}_linkToIdToken(f,m){var E=this;return(0,h.Z)(function*(){switch(E.signInMethod){case"password":return Ta(f,{idToken:m,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Xp(_,f){return Xc.apply(this,arguments)}(f,{idToken:m,email:E._email,oobCode:E._password});default:Se(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function xs(_,f){return ed.apply(this,arguments)}function ed(){return(ed=(0,h.Z)(function*(_,f){return Pr(_,"POST","/v1/accounts:signInWithIdp",Zt(_,f))})).apply(this,arguments)}class os extends Di{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new os(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):Se("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:E,signInMethod:T}=m,N=(0,re._T)(m,["providerId","signInMethod"]);if(!E||!T)return null;const K=new os(E,T);return K.idToken=N.idToken||void 0,K.accessToken=N.accessToken||void 0,K.secret=N.secret,K.nonce=N.nonce,K.pendingToken=N.pendingToken||null,K}_getIdTokenResponse(f){return xs(f,this.buildRequest())}_linkToIdToken(f,m){const E=this.buildRequest();return E.idToken=m,xs(f,E)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,xs(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,P.xO)(m)}return f}}function Fl(_,f){return td.apply(this,arguments)}function td(){return(td=(0,h.Z)(function*(_,f){return Vt(_,"POST","/v1/accounts:sendVerificationCode",Zt(_,f))})).apply(this,arguments)}function Rs(){return(Rs=(0,h.Z)(function*(_,f){return Pr(_,"POST","/v1/accounts:signInWithPhoneNumber",Zt(_,f))})).apply(this,arguments)}function nd(){return(nd=(0,h.Z)(function*(_,f){const m=yield Pr(_,"POST","/v1/accounts:signInWithPhoneNumber",Zt(_,f));if(m.temporaryProof)throw Li(_,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const ng={USER_NOT_FOUND:"user-not-found"};function rd(){return(rd=(0,h.Z)(function*(_,f){return Pr(_,"POST","/v1/accounts:signInWithPhoneNumber",Zt(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),ng)})).apply(this,arguments)}class Bo extends Di{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new Bo({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new Bo({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function Ll(_,f){return Rs.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function tg(_,f){return nd.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function rg(_,f){return rd.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:E,verificationCode:T}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:E,code:T}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:E,phoneNumber:T,temporaryProof:N}=f;return E||m||T||N?new Bo({verificationId:m,verificationCode:E,phoneNumber:T,temporaryProof:N}):null}}class Su{constructor(f){var m,E,T,N,K,pe;const Ve=(0,P.zd)((0,P.pd)(f)),Ye=null!==(m=Ve.apiKey)&&void 0!==m?m:null,_t=null!==(E=Ve.oobCode)&&void 0!==E?E:null,dt=function $h(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Ve.mode)&&void 0!==T?T:null);$(Ye&&_t&&dt,"argument-error"),this.apiKey=Ye,this.operation=dt,this.code=_t,this.continueUrl=null!==(N=Ve.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(K=Ve.languageCode)&&void 0!==K?K:null,this.tenantId=null!==(pe=Ve.tenantId)&&void 0!==pe?pe:null}static parseLink(f){const m=function Sa(_){const f=(0,P.zd)((0,P.pd)(_)).link,m=f?(0,P.zd)((0,P.pd)(f)).deep_link_id:null,E=(0,P.zd)((0,P.pd)(_)).deep_link_id;return(E?(0,P.zd)((0,P.pd)(E)).link:null)||E||m||f||_}(f);try{return new Su(m)}catch(E){return null}}}let Vl=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(m,E){return br._fromEmailAndPassword(m,E)}static credentialWithLink(m,E){const T=Su.parseLink(E);return $(T,"argument-error"),br._fromEmailAndCode(m,T.code,T.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Cr{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class so extends Cr{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Hi extends so{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return $("providerId"in m&&"signInMethod"in m,"argument-error"),os._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return $(f.idToken||f.accessToken,"argument-error"),os._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Hi.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Hi.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:E,oauthTokenSecret:T,pendingToken:N,nonce:K,providerId:pe}=f;if(!E&&!T&&!m&&!N||!pe)return null;try{return new Hi(pe)._credential({idToken:m,accessToken:E,nonce:K,pendingToken:N})}catch(Ve){return null}}}let Uo=(()=>{class _ extends so{constructor(){super("facebook.com")}static credential(m){return os._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch(E){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),sd=(()=>{class _ extends so{constructor(){super("google.com"),this.addScope("profile")}static credential(m,E){return os._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:E})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:E,oauthAccessToken:T}=m;if(!E&&!T)return null;try{return _.credential(E,T)}catch(N){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Hh=(()=>{class _ extends so{constructor(){super("github.com")}static credential(m){return os._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch(E){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class oo extends Di{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return xs(f,this.buildRequest())}_linkToIdToken(f,m){const E=this.buildRequest();return E.idToken=m,xs(f,E)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,xs(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:E,signInMethod:T,pendingToken:N}=m;return E&&T&&N&&E===T?new oo(E,N):null}static _create(f,m){return new oo(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Lr extends Cr{constructor(f){$(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Lr.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Lr.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=oo.fromJSON(f);return $(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:E}=f;if(!m||!E)return null;try{return oo._create(E,m)}catch(T){return null}}}let od=(()=>{class _ extends so{constructor(){super("twitter.com")}static credential(m,E){return os._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:E})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:E,oauthTokenSecret:T}=m;if(!E||!T)return null;try{return _.credential(E,T)}catch(N){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function ar(_,f){return $o.apply(this,arguments)}function $o(){return($o=(0,h.Z)(function*(_,f){return Pr(_,"POST","/v1/accounts:signUp",Zt(_,f))})).apply(this,arguments)}class ni{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,E,T=!1){return(0,h.Z)(function*(){const N=yield At._fromIdTokenResponse(f,E,T),K=Bl(E);return new ni({user:N,providerId:K,_tokenResponse:E,operationType:m})})()}static _forOperation(f,m,E){return(0,h.Z)(function*(){yield f._updateTokensIfNecessary(E,!0);const T=Bl(E);return new ni({user:f,providerId:T,_tokenResponse:E,operationType:m})})()}}function Bl(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function Ul(){return(Ul=(0,h.Z)(function*(_){var f;const m=lt(_);if(yield m._initializationPromise,null===(f=m.currentUser)||void 0===f?void 0:f.isAnonymous)return new ni({user:m.currentUser,providerId:null,operationType:"signIn"});const E=yield ar(m,{returnSecureToken:!0}),T=yield ni._fromIdTokenResponse(m,"signIn",E,!0);return yield m._updateCurrentUser(T.user),T})).apply(this,arguments)}class Ho extends P.ZR{constructor(f,m,E,T){var N;super(m.code,m.message),this.operationType=E,this.user=T,Object.setPrototypeOf(this,Ho.prototype),this.customData={appName:f.name,tenantId:null!==(N=f.tenantId)&&void 0!==N?N:void 0,_serverResponse:m.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(f,m,E,T){return new Ho(f,m,E,T)}}function jl(_,f,m,E){return("reauthenticate"===f?m._getReauthenticationResolver(_):m._getIdTokenResponse(_)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?Ho._fromErrorAndOperation(_,N,f,E):N})}function Gi(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function on(){return(on=(0,h.Z)(function*(_,f){const m=(0,P.m9)(_);yield Jt(!0,m,f);const{providerUserInfo:E}=yield wn(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),T=Gi(E||[]);return m.providerData=m.providerData.filter(N=>T.has(N.providerId)),T.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Ma(_,f){return ao.apply(this,arguments)}function ao(){return(ao=(0,h.Z)(function*(_,f,m=!1){const E=yield _r(_,f._linkToIdToken(_.auth,yield _.getIdToken()),m);return ni._forOperation(_,"link",E)})).apply(this,arguments)}function Jt(_,f,m){return xa.apply(this,arguments)}function xa(){return(xa=(0,h.Z)(function*(_,f,m){yield Er(f);const T=!1===_?"provider-already-linked":"no-such-provider";$(Gi(f.providerData).has(m)===_,f.auth,T)})).apply(this,arguments)}function Mu(_,f){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,h.Z)(function*(_,f,m=!1){const{auth:E}=_,T="reauthenticate";try{const N=yield _r(_,jl(E,T,f,_),m);$(N.idToken,E,"internal-error");const K=ut(N.idToken);$(K,E,"internal-error");const{sub:pe}=K;return $(_.uid===pe,E,"user-mismatch"),ni._forOperation(_,T,N)}catch(N){throw"auth/user-not-found"===(null==N?void 0:N.code)&&Se(E,"user-mismatch"),N}})).apply(this,arguments)}function ur(_,f){return $l.apply(this,arguments)}function $l(){return($l=(0,h.Z)(function*(_,f,m=!1){const E="signIn",T=yield jl(_,E,f),N=yield ni._fromIdTokenResponse(_,E,T);return m||(yield _._updateCurrentUser(N.user)),N})).apply(this,arguments)}function pn(_,f){return qi.apply(this,arguments)}function qi(){return(qi=(0,h.Z)(function*(_,f){return ur(lt(_),f)})).apply(this,arguments)}function lr(_,f){return uo.apply(this,arguments)}function uo(){return(uo=(0,h.Z)(function*(_,f){const m=(0,P.m9)(_);return yield Jt(!1,m,f.providerId),Ma(m,f)})).apply(this,arguments)}function as(_,f){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,h.Z)(function*(_,f){return Mu((0,P.m9)(_),f)})).apply(this,arguments)}function Ii(_,f){return zi.apply(this,arguments)}function zi(){return(zi=(0,h.Z)(function*(_,f){return Pr(_,"POST","/v1/accounts:signInWithCustomToken",Zt(_,f))})).apply(this,arguments)}function pt(){return(pt=(0,h.Z)(function*(_,f){const m=lt(_),E=yield Ii(m,{token:f,returnSecureToken:!0}),T=yield ni._fromIdTokenResponse(m,"signIn",E);return yield m._updateCurrentUser(T.user),T})).apply(this,arguments)}class qo{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?xu._fromServerResponse(f,m):Se(f,"internal-error")}}class xu extends qo{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new xu(m)}}function Na(_,f,m){var E;$((null===(E=m.url)||void 0===E?void 0:E.length)>0,_,"invalid-continue-uri"),$(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&($(m.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&($(m.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function Oa(){return(Oa=(0,h.Z)(function*(_,f,m){const E=(0,P.m9)(_),T={requestType:"PASSWORD_RESET",email:f};m&&Na(E,T,m),yield Aa(E,T)})).apply(this,arguments)}function ql(){return(ql=(0,h.Z)(function*(_,f,m){yield Sn((0,P.m9)(_),{oobCode:f,newPassword:m})})).apply(this,arguments)}function kt(){return(kt=(0,h.Z)(function*(_,f){yield Iu((0,P.m9)(_),{oobCode:f})})).apply(this,arguments)}function Ru(_,f){return hn.apply(this,arguments)}function hn(){return(hn=(0,h.Z)(function*(_,f){const m=(0,P.m9)(_),E=yield Sn(m,{oobCode:f}),T=E.requestType;switch($(T,m,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":$(E.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":$(E.mfaInfo,m,"internal-error");default:$(E.email,m,"internal-error")}let N=null;return E.mfaInfo&&(N=qo._fromServerResponse(lt(m),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:N},operation:T}})).apply(this,arguments)}function lo(){return(lo=(0,h.Z)(function*(_,f){const{data:m}=yield Ru((0,P.m9)(_),f);return m.email})).apply(this,arguments)}function Pa(){return(Pa=(0,h.Z)(function*(_,f,m){const E=lt(_),T=yield ar(E,{returnSecureToken:!0,email:f,password:m}),N=yield ni._fromIdTokenResponse(E,"signIn",T);return yield E._updateCurrentUser(N.user),N})).apply(this,arguments)}function Nu(){return(Nu=(0,h.Z)(function*(_,f,m){const E=(0,P.m9)(_),T={requestType:"EMAIL_SIGNIN",email:f};$(m.handleCodeInApp,E,"argument-error"),m&&Na(E,T,m),yield Ui(E,T)})).apply(this,arguments)}function Mn(){return(Mn=(0,h.Z)(function*(_,f,m){const E=(0,P.m9)(_),T=Vl.credentialWithLink(f,m||ke());return $(T._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),pn(E,T)})).apply(this,arguments)}function us(_,f){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,h.Z)(function*(_,f){return Vt(_,"POST","/v1/accounts:createAuthUri",Zt(_,f))})).apply(this,arguments)}function Ti(){return(Ti=(0,h.Z)(function*(_,f){const E={identifier:f,continueUri:ct()?ke():"http://localhost"},{signinMethods:T}=yield us((0,P.m9)(_),E);return T||[]})).apply(this,arguments)}function Pu(){return(Pu=(0,h.Z)(function*(_,f){const m=(0,P.m9)(_),T={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&Na(m.auth,T,f);const{email:N}=yield sn(m.auth,T);N!==_.email&&(yield _.reload())})).apply(this,arguments)}function ku(){return(ku=(0,h.Z)(function*(_,f,m){const E=(0,P.m9)(_),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};m&&Na(E.auth,N,m);const{email:K}=yield Jc(E.auth,N);K!==_.email&&(yield _.reload())})).apply(this,arguments)}function La(_,f){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,h.Z)(function*(_,f){return Vt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Va(){return(Va=(0,h.Z)(function*(_,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const E=(0,P.m9)(_),N={idToken:yield E.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},K=yield _r(E,La(E.auth,N));E.displayName=K.displayName||null,E.photoURL=K.photoUrl||null;const pe=E.providerData.find(({providerId:Ve})=>"password"===Ve);pe&&(pe.displayName=E.displayName,pe.photoURL=E.photoURL),yield E._updateTokensIfNecessary(K)})).apply(this,arguments)}function Ko(_,f,m){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,h.Z)(function*(_,f,m){const{auth:E}=_,N={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(N.email=f),m&&(N.password=m);const K=yield _r(_,Ta(E,N));yield _._updateTokensIfNecessary(K,!0)})).apply(this,arguments)}class Zo{constructor(f,m,E={}){this.isNewUser=f,this.providerId=m,this.profile=E}}class ld extends Zo{constructor(f,m,E,T){super(f,m,E),this.username=T}}class Yo extends Zo{constructor(f,m){super(f,"facebook.com",m)}}class Wi extends ld{constructor(f,m){super(f,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class qh extends Zo{constructor(f,m){super(f,"google.com",m)}}class Zn extends ld{constructor(f,m,E){super(f,"twitter.com",m,E)}}function Ki(_){const{user:f,_tokenResponse:m}=_;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function ud(_){var f,m;if(!_)return null;const{providerId:E}=_,T=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},N=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!E&&(null==_?void 0:_.idToken)){const K=null===(m=null===(f=ut(_.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(K)return new Zo(N,"anonymous"!==K&&"custom"!==K?K:null)}if(!E)return null;switch(E){case"facebook.com":return new Yo(N,T);case"github.com":return new Wi(N,T);case"google.com":return new qh(N,T);case"twitter.com":return new Zn(N,T,_.screenName||null);case"custom":case"anonymous":return new Zo(N,null);default:return new Zo(N,E,T)}}(m)}class ls{constructor(f,m){this.type=f,this.credential=m}static _fromIdtoken(f){return new ls("enroll",f)}static _fromMfaPendingCredential(f){return new ls("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,E;if(null==f?void 0:f.multiFactorSession){if(null===(m=f.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return ls._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(E=f.multiFactorSession)||void 0===E?void 0:E.idToken)return ls._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Qo{constructor(f,m,E){this.session=f,this.hints=m,this.signInResolver=E}static _fromError(f,m){const E=lt(f),T=m.customData._serverResponse,N=(T.mfaInfo||[]).map(pe=>qo._fromServerResponse(E,pe));$(T.mfaPendingCredential,E,"internal-error");const K=ls._fromMfaPendingCredential(T.mfaPendingCredential);return new Qo(K,N,function(){var pe=(0,h.Z)(function*(Ve){const Ye=yield Ve._process(E,K);delete T.mfaInfo,delete T.mfaPendingCredential;const _t=Object.assign(Object.assign({},T),{idToken:Ye.idToken,refreshToken:Ye.refreshToken});switch(m.operationType){case"signIn":const dt=yield ni._fromIdTokenResponse(E,m.operationType,_t);return yield E._updateCurrentUser(dt.user),dt;case"reauthenticate":return $(m.user,E,"internal-error"),ni._forOperation(m.user,m.operationType,_t);default:Se(E,"internal-error")}});return function(Ve){return pe.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,h.Z)(function*(){return m.signInResolver(f)})()}}function Wh(_,f){return Vt(_,"POST","/v2/accounts/mfaEnrollment:start",Zt(_,f))}class hd{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(E=>qo._fromServerResponse(f.auth,E)))})}static _fromUser(f){return new hd(f)}getSession(){var f=this;return(0,h.Z)(function*(){return ls._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,m){var E=this;return(0,h.Z)(function*(){const T=f,N=yield E.getSession(),K=yield _r(E.user,T._process(E.user.auth,N,m));return yield E.user._updateTokensIfNecessary(K),E.user.reload()})()}unenroll(f){var m=this;return(0,h.Z)(function*(){const E="string"==typeof f?f:f.uid,T=yield m.user.getIdToken(),N=yield _r(m.user,function Fu(_,f){return Vt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Zt(_,f))}(m.user.auth,{idToken:T,mfaEnrollmentId:E}));m.enrolledFactors=m.enrolledFactors.filter(({uid:K})=>K!==E),yield m.user._updateTokensIfNecessary(N);try{yield m.user.reload()}catch(K){if("auth/user-token-expired"!==K.code)throw K}})()}}const Lu=new WeakMap,ho="__sak";class fd{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(ho,"1"),this.storage.removeItem(ho),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Gr=(()=>{class _ extends fd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,E)=>this.onStorageEvent(m,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ag(){const _=(0,P.z$)();return Du(_)||Ur(_)}()&&function or(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=As(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const E of Object.keys(this.listeners)){const T=this.storage.getItem(E),N=this.localCache[E];T!==N&&m(E,N,T)}}onStorageEvent(m,E=!1){if(!m.key)return void this.forAllChangedKeys((pe,Ve,Ye)=>{this.notifyListeners(pe,Ye)});const T=m.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const pe=this.storage.getItem(T);if(m.newValue!==pe)null!==m.newValue?this.storage.setItem(T,m.newValue):this.storage.removeItem(T);else if(this.localCache[T]===m.newValue&&!E)return}const N=()=>{const pe=this.storage.getItem(T);!E&&this.localCache[T]===pe||this.notifyListeners(T,pe)},K=this.storage.getItem(T);!function Ia(){return(0,P.w1)()&&10===document.documentMode}()||K===m.newValue||m.newValue===m.oldValue?N():setTimeout(N,10)}notifyListeners(m,E){this.localCache[m]=E;const T=this.listeners[m];if(T)for(const N of Array.from(T))N(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,E,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:E,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,E){var T=()=>super._set,N=this;return(0,h.Z)(function*(){yield T().call(N,m,E),N.localCache[m]=JSON.stringify(E)})()}_get(m){var E=()=>super._get,T=this;return(0,h.Z)(function*(){const N=yield E().call(T,m);return T.localCache[m]=JSON.stringify(N),N})()}_remove(m){var E=()=>super._remove,T=this;return(0,h.Z)(function*(){yield E().call(T,m),delete T.localCache[m]})()}}return _.type="LOCAL",_})(),xn=(()=>{class _ extends fd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,E){}_removeListener(m,E){}}return _.type="SESSION",_})();let pd=(()=>{class _{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const E=this.receivers.find(N=>N.isListeningto(m));if(E)return E;const T=new _(m);return this.receivers.push(T),T}isListeningto(m){return this.eventTarget===m}handleEvent(m){var E=this;return(0,h.Z)(function*(){const T=m,{eventId:N,eventType:K,data:pe}=T.data,Ve=E.handlersMap[K];if(!(null==Ve?void 0:Ve.size))return;T.ports[0].postMessage({status:"ack",eventId:N,eventType:K});const Ye=Array.from(Ve).map(function(){var dt=(0,h.Z)(function*(Dn){return Dn(T.origin,pe)});return function(Dn){return dt.apply(this,arguments)}}()),_t=yield function Ql(_){return Promise.all(_.map(function(){var f=(0,h.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(E){return{fulfilled:!1,reason:E}}});return function(m){return f.apply(this,arguments)}}()))}(Ye);T.ports[0].postMessage({status:"done",eventId:N,eventType:K,response:_t})})()}_subscribe(m,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(E)}_unsubscribe(m,E){this.handlersMap[m]&&E&&this.handlersMap[m].delete(E),(!E||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Zi(_="",f=10){let m="";for(let E=0;E<f;E++)m+=Math.floor(10*Math.random());return _+m}class Jl{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,E=50){var T=this;return(0,h.Z)(function*(){const N="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let K,pe;return new Promise((Ve,Ye)=>{const _t=Zi("",20);N.port1.start();const dt=setTimeout(()=>{Ye(new Error("unsupported_event"))},E);pe={messageChannel:N,onMessage(Dn){const pi=Dn;if(pi.data.eventId===_t)switch(pi.data.status){case"ack":clearTimeout(dt),K=setTimeout(()=>{Ye(new Error("timeout"))},3e3);break;case"done":clearTimeout(K),Ve(pi.data.response);break;default:clearTimeout(dt),clearTimeout(K),Ye(new Error("invalid_response"))}}},T.handlers.add(pe),N.port1.addEventListener("message",pe.onMessage),T.target.postMessage({eventType:f,eventId:_t,data:m},[N.port2])}).finally(()=>{pe&&T.removeMessageHandler(pe)})})()}}function un(){return window}function Ai(){return void 0!==un().WorkerGlobalScope&&"function"==typeof un().importScripts}function Bu(){return(Bu=(0,h.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const ec="firebaseLocalStorageDb",Jo="firebaseLocalStorage",Xo="fbase_key";class Ps{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function cr(_,f){return _.transaction([Jo],f?"readwrite":"readonly").objectStore(Jo)}function ks(){const _=indexedDB.open(ec,1);return new Promise((f,m)=>{_.addEventListener("error",()=>{m(_.error)}),_.addEventListener("upgradeneeded",()=>{const E=_.result;try{E.createObjectStore(Jo,{keyPath:Xo})}catch(T){m(T)}}),_.addEventListener("success",(0,h.Z)(function*(){const E=_.result;E.objectStoreNames.contains(Jo)?f(E):(E.close(),yield function Si(){const _=indexedDB.deleteDatabase(ec);return new Ps(_).toPromise()}(),f(yield ks()))}))})}function ea(_,f,m){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,h.Z)(function*(_,f,m){const E=cr(_,!0).put({[Xo]:f,value:m});return new Ps(E).toPromise()})).apply(this,arguments)}function fo(){return(fo=(0,h.Z)(function*(_,f){const m=cr(_,!1).get(f),E=yield new Ps(m).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function na(_,f){const m=cr(_,!0).delete(f);return new Ps(m).toPromise()}const cs=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,h.Z)(function*(){return m.db||(m.db=yield ks()),m.db})()}_withRetries(m){var E=this;return(0,h.Z)(function*(){let T=0;for(;;)try{const N=yield E._openDb();return yield m(N)}catch(N){if(T++>3)throw N;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,h.Z)(function*(){return Ai()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,h.Z)(function*(){m.receiver=pd._getInstance(function Xl(){return Ai()?self:null}()),m.receiver._subscribe("keyChanged",function(){var E=(0,h.Z)(function*(T,N){return{keyProcessed:(yield m._poll()).includes(N.key)}});return function(T,N){return E.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var E=(0,h.Z)(function*(T,N){return["keyChanged"]});return function(T,N){return E.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,h.Z)(function*(){var E,T;if(m.activeServiceWorker=yield function Ot(){return Bu.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Jl(m.activeServiceWorker);const N=yield m.sender._send("ping",{},800);!N||(null===(E=N[0])||void 0===E?void 0:E.fulfilled)&&(null===(T=N[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var E=this;return(0,h.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function gd(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:m},E.serviceWorkerReceiverAvailable?800:50)}catch(T){}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const m=yield ks();return yield ea(m,ho,"1"),yield na(m,ho),!0}catch(m){}return!1})()}_withPendingWrite(m){var E=this;return(0,h.Z)(function*(){E.pendingWrites++;try{yield m()}finally{E.pendingWrites--}})()}_set(m,E){var T=this;return(0,h.Z)(function*(){return T._withPendingWrite((0,h.Z)(function*(){return yield T._withRetries(N=>ea(N,m,E)),T.localCache[m]=E,T.notifyServiceWorker(m)}))})()}_get(m){var E=this;return(0,h.Z)(function*(){const T=yield E._withRetries(N=>function ta(_,f){return fo.apply(this,arguments)}(N,m));return E.localCache[m]=T,T})()}_remove(m){var E=this;return(0,h.Z)(function*(){return E._withPendingWrite((0,h.Z)(function*(){return yield E._withRetries(T=>na(T,m)),delete E.localCache[m],E.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,h.Z)(function*(){const E=yield m._withRetries(K=>{const pe=cr(K,!1).getAll();return new Ps(pe).toPromise()});if(!E)return[];if(0!==m.pendingWrites)return[];const T=[],N=new Set;for(const{fbase_key:K,value:pe}of E)N.add(K),JSON.stringify(m.localCache[K])!==JSON.stringify(pe)&&(m.notifyListeners(K,pe),T.push(K));for(const K of Object.keys(m.localCache))m.localCache[K]&&!N.has(K)&&(m.notifyListeners(K,null),T.push(K));return T})()}notifyListeners(m,E){this.localCache[m]=E;const T=this.listeners[m];if(T)for(const N of Array.from(T))N(E)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function dr(_,f){return Vt(_,"POST","/v2/accounts/mfaSignIn:start",Zt(_,f))}function Nn(){return(Nn=(0,h.Z)(function*(_){return(yield Vt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Yi(_){return new Promise((f,m)=>{const E=document.createElement("script");E.setAttribute("src",_),E.onload=f,E.onerror=T=>{const N=Ee("internal-error");N.customData=T,m(N)},E.type="text/javascript",E.charset="UTF-8",function Ls(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(E)})}function ds(_){return`__${_}${Math.floor(1e6*Math.random())}`}const si=1e12;class gn{constructor(f){this.auth=f,this.counter=si,this._widgets=new Map}render(f,m){const E=this.counter;return this._widgets.set(E,new ju(f,this.auth.name,m||{})),this.counter++,E}reset(f){var m;const E=f||si;null===(m=this._widgets.get(E))||void 0===m||m.delete(),this._widgets.delete(E)}getResponse(f){var m;return(null===(m=this._widgets.get(f||si))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,h.Z)(function*(){var E;return null===(E=m._widgets.get(f||si))||void 0===E||E.execute(),""})()}}class ju{constructor(f,m,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof f?document.getElementById(f):f;$(T,"argument-error",{appName:m}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ga(_){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<_;E++)f.push(m.charAt(Math.floor(Math.random()*m.length)));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const fn=ds("rcb"),ug=new Xt(3e4,6e4);class Uy{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!un().grecaptcha}load(f,m=""){return $(function ia(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(m),f,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(un().grecaptcha):new Promise((E,T)=>{const N=un().setTimeout(()=>{T(Ee(f,"network-request-failed"))},ug.get());un()[fn]=()=>{un().clearTimeout(N),delete un()[fn];const pe=un().grecaptcha;if(!pe)return void T(Ee(f,"internal-error"));const Ve=pe.render;pe.render=(Ye,_t)=>{const dt=Ve(Ye,_t);return this.counter++,dt},this.hostLanguage=m,E(pe)},Yi(`https://www.google.com/recaptcha/api.js??${(0,P.xO)({onload:fn,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(N),T(Ee(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!un().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class zr{load(f){return(0,h.Z)(function*(){return new gn(f)})()}clearedOneInstance(){}}const md="recaptcha",Vs={theme:"light",type:"image"};class mo{constructor(f,m=Object.assign({},Vs),E){this.parameters=m,this.type=md,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=lt(E),this.isInvisible="invisible"===this.parameters.size,$("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof f?document.getElementById(f):f;$(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new zr:new Uy,this.validateStartingState()}verify(){var f=this;return(0,h.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),E=f.getAssertedRecaptcha();return E.getResponse(m)||new Promise(N=>{const K=pe=>{!pe||(f.tokenChangeListeners.delete(K),N(pe))};f.tokenChangeListeners.add(K),f.isInvisible&&E.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){$(!this.parameters.sitekey,this.auth,"argument-error"),$(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),$("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(E=>E(m)),"function"==typeof f)f(m);else if("string"==typeof f){const E=un()[f];"function"==typeof E&&E(m)}}}assertNotDestroyed(){$(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,h.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const E=document.createElement("div");m.appendChild(E),m=E}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,h.Z)(function*(){$(ct()&&!Ai(),f.auth,"internal-error"),yield function $u(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function Uu(_){return Nn.apply(this,arguments)}(f.auth);$(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return $(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class mn{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=Bo._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function yo(){return(yo=(0,h.Z)(function*(_,f,m){const E=lt(_),T=yield sa(E,f,(0,P.m9)(m));return new mn(T,N=>pn(E,N))})).apply(this,arguments)}function nc(){return(nc=(0,h.Z)(function*(_,f,m){const E=(0,P.m9)(_);yield Jt(!1,E,"phone");const T=yield sa(E.auth,f,(0,P.m9)(m));return new mn(T,N=>lr(E,N))})).apply(this,arguments)}function ai(){return(ai=(0,h.Z)(function*(_,f,m){const E=(0,P.m9)(_),T=yield sa(E.auth,f,(0,P.m9)(m));return new mn(T,N=>as(E,N))})).apply(this,arguments)}function sa(_,f,m){return _o.apply(this,arguments)}function _o(){return(_o=(0,h.Z)(function*(_,f,m){var E;const T=yield m.verify();try{let N;if($("string"==typeof T,_,"argument-error"),$(m.type===md,_,"argument-error"),N="string"==typeof f?{phoneNumber:f}:f,"session"in N){const K=N.session;if("phoneNumber"in N)return $("enroll"===K.type,_,"internal-error"),(yield Wh(_,{idToken:K.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{$("signin"===K.type,_,"internal-error");const pe=(null===(E=N.multiFactorHint)||void 0===E?void 0:E.uid)||N.multiFactorUid;return $(pe,_,"missing-multi-factor-info"),(yield dr(_,{mfaPendingCredential:K.credential,mfaEnrollmentId:pe,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:K}=yield Fl(_,{phoneNumber:N.phoneNumber,recaptchaToken:T});return K}}finally{m._reset()}})).apply(this,arguments)}function oa(){return(oa=(0,h.Z)(function*(_,f){yield Ma((0,P.m9)(_),f)})).apply(this,arguments)}let Eo=(()=>{class _{constructor(m){this.providerId=_.PROVIDER_ID,this.auth=lt(m)}verifyPhoneNumber(m,E){return sa(this.auth,m,(0,P.m9)(E))}static credential(m,E){return Bo._fromVerification(m,E)}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:E,temporaryProof:T}=m;return E&&T?Bo._fromTokenResponse(E,T):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function hs(_,f){return f?ee(f):($(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class qa extends Di{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return xs(f,this._buildIdpRequest())}_linkToIdToken(f,m){return xs(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return xs(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function Pt(_){return ur(_.auth,new qa(_),_.bypassAuthState)}function Hu(_){const{auth:f,user:m}=_;return $(m,f,"internal-error"),Mu(m,new qa(_),_.bypassAuthState)}function Qn(_){return za.apply(this,arguments)}function za(){return(za=(0,h.Z)(function*(_){const{auth:f,user:m}=_;return $(m,f,"internal-error"),Ma(m,new qa(_),_.bypassAuthState)})).apply(this,arguments)}class Bs{constructor(f,m,E,T,N=!1){this.auth=f,this.resolver=E,this.user=T,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,h.Z)(function*(E,T){f.pendingPromise={resolve:E,reject:T};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(N){f.reject(N)}});return function(E,T){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,h.Z)(function*(){const{urlResponse:E,sessionId:T,postBody:N,tenantId:K,error:pe,type:Ve}=f;if(pe)return void m.reject(pe);const Ye={auth:m.auth,requestUri:E,sessionId:T,tenantId:K||void 0,postBody:N||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Ve)(Ye))}catch(_t){m.reject(_t)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Pt;case"linkViaPopup":case"linkViaRedirect":return Qn;case"reauthViaPopup":case"reauthViaRedirect":return Hu;default:Se(this.auth,"internal-error")}}resolve(f){Z(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Z(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const cg=new Xt(2e3,1e4);function Us(){return(Us=(0,h.Z)(function*(_,f,m){const E=lt(_);$e(_,f,Cr);const T=hs(E,m);return new rc(E,"signInViaPopup",f,T).executeNotNull()})).apply(this,arguments)}function Gu(){return(Gu=(0,h.Z)(function*(_,f,m){const E=(0,P.m9)(_);$e(E.auth,f,Cr);const T=hs(E.auth,m);return new rc(E.auth,"reauthViaPopup",f,T,E).executeNotNull()})).apply(this,arguments)}function Ji(){return(Ji=(0,h.Z)(function*(_,f,m){const E=(0,P.m9)(_);$e(E.auth,f,Cr);const T=hs(E.auth,m);return new rc(E.auth,"linkViaPopup",f,T,E).executeNotNull()})).apply(this,arguments)}let rc=(()=>{class _ extends Bs{constructor(m,E,T,N,K){super(m,E,N,K),this.provider=T,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var m=this;return(0,h.Z)(function*(){const E=yield m.execute();return $(E,m.auth,"internal-error"),E})()}onExecution(){var m=this;return(0,h.Z)(function*(){Z(1===m.filter.length,"Popup operations only handle one event");const E=Zi();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],E),m.authWindow.associatedEvent=E,m.resolver._originValidation(m.auth).catch(T=>{m.reject(T)}),m.resolver._isIframeWebStorageSupported(m.auth,T=>{T||m.reject(Ee(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ee(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const m=()=>{var E,T;this.pollId=(null===(T=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===T?void 0:T.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ee(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,cg.get())};m()}}return _.currentPopupAction=null,_})();const hr=new Map;class $y extends Bs{constructor(f,m,E=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,E),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,h.Z)(function*(){let E=hr.get(m.auth._key());if(!E){try{const N=(yield function aa(_,f){return ua.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;E=()=>Promise.resolve(N)}catch(T){E=()=>Promise.reject(T)}hr.set(m.auth._key(),E)}return m.bypassAuthState||hr.set(m.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,E=this;return(0,h.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(E,f);if("unknown"!==f.type){if(f.eventId){const T=yield E.auth._redirectUserForId(f.eventId);if(T)return E.user=T,m().call(E,f);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function ua(){return(ua=(0,h.Z)(function*(_,f){const m=L(f),E=R(_);if(!(yield E._isAvailable()))return!1;const T="true"===(yield E._get(m));return yield E._remove(m),T})).apply(this,arguments)}function wo(_,f){return vd.apply(this,arguments)}function vd(){return(vd=(0,h.Z)(function*(_,f){return R(_)._set(L(f),"true")})).apply(this,arguments)}function I(_,f){hr.set(_._key(),f)}function R(_){return ee(_._redirectPersistence)}function L(_){return Un("pendingRedirect",_.config.apiKey,_.name)}function me(){return(me=(0,h.Z)(function*(_,f,m){const E=lt(_);$e(_,f,Cr);const T=hs(E,m);return yield wo(T,E),T._openRedirect(E,f,"signInViaRedirect")})).apply(this,arguments)}function ht(){return(ht=(0,h.Z)(function*(_,f,m){const E=(0,P.m9)(_);$e(E.auth,f,Cr);const T=hs(E.auth,m);yield wo(T,E.auth);const N=yield li(E);return T._openRedirect(E.auth,f,"reauthViaRedirect",N)})).apply(this,arguments)}function Ir(){return(Ir=(0,h.Z)(function*(_,f,m){const E=(0,P.m9)(_);$e(E.auth,f,Cr);const T=hs(E.auth,m);yield Jt(!1,E,f.providerId),yield wo(T,E.auth);const N=yield li(E);return T._openRedirect(E.auth,f,"linkViaRedirect",N)})).apply(this,arguments)}function fs(){return(fs=(0,h.Z)(function*(_,f){return yield lt(_)._initializationPromise,Wr(_,f,!1)})).apply(this,arguments)}function Wr(_,f){return ui.apply(this,arguments)}function ui(){return(ui=(0,h.Z)(function*(_,f,m=!1){const E=lt(_),T=hs(E,f),K=yield new $y(E,T,m).execute();return K&&!m&&(delete K.user._redirectEventId,yield E._persistUserIfCurrent(K.user),yield E._setRedirectUser(null,f)),K})).apply(this,arguments)}function li(_){return ci.apply(this,arguments)}function ci(){return(ci=(0,h.Z)(function*(_){const f=Zi(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class zu{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(f,E)&&(m=!0,this.sendToConsumer(f,E),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function dg(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Wu(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var E;if(f.error&&!Wu(f)){const T=(null===(E=f.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";m.onError(Ee(this.auth,T))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const E=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&E}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ic(f))}saveEventToCache(f){this.cachedEventUids.add(ic(f)),this.lastProcessedEventTime=Date.now()}}function ic(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function Wu({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===(null==f?void 0:f.code)}function hg(_){return Kh.apply(this,arguments)}function Kh(){return(Kh=(0,h.Z)(function*(_,f={}){return Vt(_,"GET","/v1/projects",f)})).apply(this,arguments)}const bo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sc=/^https?/;function fg(){return(fg=(0,h.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield hg(_);for(const m of f)try{if(pg(m))return}catch(E){}Se(_,"unauthorized-domain")})).apply(this,arguments)}function pg(_){const f=ke(),{protocol:m,hostname:E}=new URL(f);if(_.startsWith("chrome-extension://")){const K=new URL(_);return""===K.hostname&&""===E?"chrome-extension:"===m&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&K.hostname===E}if(!sc.test(m))return!1;if(bo.test(_))return E===_;const T=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(E)}const Gy=new Xt(3e4,6e4);function gg(){const _=un().___jsl;if(null==_?void 0:_.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let m=0;m<_.CP.length;m++)_.CP[m]=null}let Ku=null;function Co(_){return Ku=Ku||function Zh(_){return new Promise((f,m)=>{var E,T,N;function K(){gg(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{gg(),m(Ee(_,"network-request-failed"))},timeout:Gy.get()})}if(null===(T=null===(E=un().gapi)||void 0===E?void 0:E.iframes)||void 0===T?void 0:T.Iframe)f(gapi.iframes.getContext());else{if(!(null===(N=un().gapi)||void 0===N?void 0:N.load)){const pe=ds("iframefcb");return un()[pe]=()=>{gapi.load?K():m(Ee(_,"network-request-failed"))},Yi(`https://apis.google.com/js/api.js?onload=${pe}`).catch(Ve=>m(Ve))}K()}}).catch(f=>{throw Ku=null,f})}(_),Ku}const Do=new Xt(5e3,15e3),qy={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zy(_){const f=_.config;$(f.authDomain,_,"auth-domain-config-required");const m=f.emulator?Tn(f,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,E={apiKey:f.apiKey,appName:_.name,v:le.SDK_VERSION},T=Zu.get(_.config.apiHost);T&&(E.eid=T);const N=_._getFrameworks();return N.length&&(E.fw=N.join(",")),`${m}?${(0,P.xO)(E).slice(1)}`}function la(){return la=(0,h.Z)(function*(_){const f=yield Co(_),m=un().gapi;return $(m,_,"internal-error"),f.open({where:document.body,url:zy(_),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qy,dontclear:!0},E=>new Promise(function(){var T=(0,h.Z)(function*(N,K){yield E.restyle({setHideOnLeave:!1});const pe=Ee(_,"network-request-failed"),Ve=un().setTimeout(()=>{K(pe)},Do.get());function Ye(){un().clearTimeout(Ve),N(E)}E.ping(Ye).then(Ye,()=>{K(pe)})});return function(N,K){return T.apply(this,arguments)}}()))}),la.apply(this,arguments)}const Yh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class mg{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function js(_,f,m,E,T,N){$(_.config.authDomain,_,"auth-domain-config-required"),$(_.config.apiKey,_,"invalid-api-key");const K={apiKey:_.config.apiKey,appName:_.name,authType:m,redirectUrl:E,v:le.SDK_VERSION,eventId:T};if(f instanceof Cr){f.setDefaultLanguage(_.languageCode),K.providerId=f.providerId||"",(0,P.xb)(f.getCustomParameters())||(K.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Ve,Ye]of Object.entries(N||{}))K[Ve]=Ye}if(f instanceof so){const Ve=f.getScopes().filter(Ye=>""!==Ye);Ve.length>0&&(K.scopes=Ve.join(","))}_.tenantId&&(K.tid=_.tenantId);const pe=K;for(const Ve of Object.keys(pe))void 0===pe[Ve]&&delete pe[Ve];return`${function ac({config:_}){return _.emulator?Tn(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,P.xO)(pe).slice(1)}`}const Dd="webStorageSupport";class Id extends class AE{constructor(f){this.factorId=f}_process(f,m,E){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,E);case"signin":return this._finalizeSignIn(f,m.credential);default:return ve("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Id(f)}_finalizeEnroll(f,m,E){return function co(_,f){return Vt(_,"POST","/v2/accounts/mfaEnrollment:finalize",Zt(_,f))}(f,{idToken:m,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function go(_,f){return Vt(_,"POST","/v2/accounts/mfaSignIn:finalize",Zt(_,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let _g=(()=>{class _{constructor(){}static assertion(m){return Id._fromCredential(m)}}return _.FACTOR_ID="phone",_})();var vg="@firebase/auth";class wg{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,h.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(E=>{var T;f((null===(T=E)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);!m||(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){$(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function $s(){return window}function Ka(){return(Ka=(0,h.Z)(function*(_,f,m){var E;const{BuildInfo:T}=$s();Z(f.sessionId,"AuthEvent did not contain a session ID");const N=yield ef(f.sessionId),K={};return Ur()?K.ibi=T.packageName:Fr()?K.apn=T.packageName:Se(_,"operation-not-supported-in-this-environment"),T.displayName&&(K.appDisplayName=T.displayName),K.sessionId=N,js(_,m,f.type,void 0,null!==(E=f.eventId)&&void 0!==E?E:void 0,K)})).apply(this,arguments)}function Ad(){return(Ad=(0,h.Z)(function*(_){const{BuildInfo:f}=$s(),m={};Ur()?m.iosBundleId=f.packageName:Fr()?m.androidPackageName=f.packageName:Se(_,"operation-not-supported-in-this-environment"),yield hg(_,m)})).apply(this,arguments)}function Dg(){return(Dg=(0,h.Z)(function*(_,f,m){const{cordova:E}=$s();let T=()=>{};try{yield new Promise((N,K)=>{let pe=null;function Ve(){var dt;N();const Dn=null===(dt=E.plugins.browsertab)||void 0===dt?void 0:dt.close;"function"==typeof Dn&&Dn(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function Ye(){pe||(pe=window.setTimeout(()=>{K(Ee(_,"redirect-cancelled-by-user"))},2e3))}function _t(){"visible"===(null==document?void 0:document.visibilityState)&&Ye()}f.addPassiveListener(Ve),document.addEventListener("resume",Ye,!1),Fr()&&document.addEventListener("visibilitychange",_t,!1),T=()=>{f.removePassiveListener(Ve),document.removeEventListener("resume",Ye,!1),document.removeEventListener("visibilitychange",_t,!1),pe&&window.clearTimeout(pe)}})}finally{T()}})).apply(this,arguments)}function ef(_){return uc.apply(this,arguments)}function uc(){return(uc=(0,h.Z)(function*(_){const f=tf(_),m=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(m)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function tf(_){if(Z(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),m=new Uint8Array(f);for(let E=0;E<_.length;E++)m[E]=_.charCodeAt(E);return m}!function SE(_){(0,le._registerComponent)(new ue.wA("auth",(f,{options:m})=>{const E=f.getProvider("app").getImmediate(),T=f.getProvider("heartbeat"),{apiKey:N,authDomain:K}=E.options;return((pe,Ve)=>{$(N&&!N.includes(":"),"invalid-api-key",{appName:pe.name}),$(!(null==K?void 0:K.includes(":")),"argument-error",{appName:pe.name});const Ye={apiKey:N,authDomain:K,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vo(_)},_t=new We(pe,Ve,Ye);return function ae(_,f){const m=(null==f?void 0:f.persistence)||[],E=(Array.isArray(m)?m:[m]).map(ee);(null==f?void 0:f.errorMap)&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(E,null==f?void 0:f.popupRedirectResolver)}(_t,m),_t})(E,T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,E)=>{f.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new ue.wA("auth-internal",f=>{const m=lt(f.getProvider("auth").getImmediate());return new wg(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)(vg,"0.20.1",function Td(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,le.registerVersion)(vg,"0.20.1","esm2017")}("Browser");class Md extends zu{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(f)),super.onEvent(f)}initialized(){var f=this;return(0,h.Z)(function*(){yield f.initPromise})()}}function Ju(_){return lc.apply(this,arguments)}function lc(){return(lc=(0,h.Z)(function*(_){const f=yield Ya()._get(rf(_));return f&&(yield Ya()._remove(rf(_))),f})).apply(this,arguments)}function nf(){const _=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const E=Math.floor(Math.random()*f.length);_.push(f.charAt(E))}return _.join("")}function Ya(){return ee(Gr)}function rf(_){return Un("authEvent",_.config.apiKey,_.name)}function Kt(_){if(!(null==_?void 0:_.includes("?")))return{};const[f,...m]=_.split("?");return(0,P.zd)(m.join("?"))}function el(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ee("no-auth-event")}}function Qa(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function Ag(_=(0,P.z$)()){return!("file:"!==Qa()&&"ionic:"!==Qa()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function uf(){try{const _=self.localStorage,f=Zi();if(_)return _.setItem(f,"1"),_.removeItem(f),!function af(_=(0,P.z$)()){return function Vr(){return(0,P.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Ja(_=(0,P.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,P.hl)()}catch(_){return fr()&&(0,P.hl)()}return!1}function fr(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Xa(){return(function n_(){return"http:"===Qa()||"https:"===Qa()}()||(0,P.ru)()||Ag())&&!function da(){return(0,P.b$)()||(0,P.UG)()}()&&uf()&&!fr()}function xd(){return Ag()&&"undefined"!=typeof document}function cc(){return(cc=(0,h.Z)(function*(){return!!xd()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})})).apply(this,arguments)}const di={LOCAL:"local",NONE:"none",SESSION:"session"},Io=$,Mg="persistence";function tl(_){return lf.apply(this,arguments)}function lf(){return(lf=(0,h.Z)(function*(_){yield _._initializationPromise;const f=Rg(),m=Un(Mg,_.config.apiKey,_.name);f&&f.setItem(m,_._getPersistence())})).apply(this,arguments)}function Rg(){var _;try{return(null===(_=function Sg(){return"undefined"!=typeof window?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch(f){return null}}const i_=$;class hi{constructor(){this.browserResolver=ee(class Zy{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xn,this._completeRedirectFn=Wr,this._overrideRedirectResult=I}_openPopup(f,m,E,T){var N=this;return(0,h.Z)(function*(){var K;Z(null===(K=N.eventManagers[f._key()])||void 0===K?void 0:K.manager,"_initialize() not called before _openPopup()");const pe=js(f,m,E,ke(),T);return function oc(_,f,m,E=500,T=600){const N=Math.max((window.screen.availHeight-T)/2,0).toString(),K=Math.max((window.screen.availWidth-E)/2,0).toString();let pe="";const Ve=Object.assign(Object.assign({},Yh),{width:E.toString(),height:T.toString(),top:N,left:K}),Ye=(0,P.z$)().toLowerCase();m&&(pe=Da(Ye)?"_blank":m),Ca(Ye)&&(f=f||"http://localhost",Ve.scrollbars="yes");const _t=Object.entries(Ve).reduce((Dn,[pi,hc])=>`${Dn}${pi}=${hc},`,"");if(function ro(_=(0,P.z$)()){var f;return Ur(_)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(Ye)&&"_self"!==pe)return function Wy(_,f){const m=document.createElement("a");m.href=_,m.target=f;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(E)}(f||"",pe),new mg(null);const dt=window.open(f||"",pe,_t);$(dt,_,"popup-blocked");try{dt.focus()}catch(Dn){}return new mg(dt)}(f,pe,Zi())})()}_openRedirect(f,m,E,T){var N=this;return(0,h.Z)(function*(){return yield N._originValidation(f),function $a(_){un().location.href=_}(js(f,m,E,ke(),T)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:T,promise:N}=this.eventManagers[m];return T?Promise.resolve(T):(Z(N,"If manager is not set, promise should be"),N)}const E=this.initAndGetManager(f);return this.eventManagers[m]={promise:E},E.catch(()=>{delete this.eventManagers[m]}),E}initAndGetManager(f){var m=this;return(0,h.Z)(function*(){const E=yield function wd(_){return la.apply(this,arguments)}(f),T=new zu(f);return E.register("authEvent",N=>($(null==N?void 0:N.authEvent,f,"invalid-auth-event"),{status:T.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:T},m.iframes[f._key()]=E,T})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(Dd,{type:Dd},T=>{var N;const K=null===(N=null==T?void 0:T[0])||void 0===N?void 0:N[Dd];void 0!==K&&m(!!K),Se(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Hy(_){return fg.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return As()||Du()||Ur()}}),this.cordovaResolver=ee(class Tg{constructor(){this._redirectPersistence=xn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Wr,this._overrideRedirectResult=I}_initialize(f){var m=this;return(0,h.Z)(function*(){const E=f._key();let T=m.eventManagers.get(E);return T||(T=new Md(f),m.eventManagers.set(E,T),m.attachCallbackListeners(f,T)),T})()}_openPopup(f){Se(f,"operation-not-supported-in-this-environment")}_openRedirect(f,m,E,T){var N=this;return(0,h.Z)(function*(){!function Yu(_){var f,m,E,T,N,K,pe,Ve,Ye,_t;const dt=$s();$("function"==typeof(null===(f=null==dt?void 0:dt.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),$(void 0!==(null===(m=null==dt?void 0:dt.BuildInfo)||void 0===m?void 0:m.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),$("function"==typeof(null===(N=null===(T=null===(E=null==dt?void 0:dt.cordova)||void 0===E?void 0:E.plugins)||void 0===T?void 0:T.browsertab)||void 0===N?void 0:N.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),$("function"==typeof(null===(Ve=null===(pe=null===(K=null==dt?void 0:dt.cordova)||void 0===K?void 0:K.plugins)||void 0===pe?void 0:pe.browsertab)||void 0===Ve?void 0:Ve.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),$("function"==typeof(null===(_t=null===(Ye=null==dt?void 0:dt.cordova)||void 0===Ye?void 0:Ye.InAppBrowser)||void 0===_t?void 0:_t.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const K=yield N._initialize(f);yield K.initialized(),K.resetRedirect(),function D(){hr.clear()}(),yield N._originValidation(f);const pe=function Qu(_,f,m=null){return{type:f,eventId:m,urlResponse:null,sessionId:nf(),postBody:null,tenantId:_.tenantId,error:Ee(_,"no-auth-event")}}(f,E,T);yield function Yy(_,f){return Ya()._set(rf(_),f)}(f,pe);const Ve=yield function ps(_,f,m){return Ka.apply(this,arguments)}(f,pe,m),Ye=yield function Sd(_){const{cordova:f}=$s();return new Promise(m=>{f.plugins.browsertab.isAvailable(E=>{let T=null;E?f.plugins.browsertab.openUrl(_):T=f.InAppBrowser.open(_,function Qc(_=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),m(T)})})}(Ve);return function Za(_,f,m){return Dg.apply(this,arguments)}(f,K,Ye)})()}_isIframeWebStorageSupported(f,m){throw new Error("Method not implemented.")}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Cg(_){return Ad.apply(this,arguments)}(f)),this.originValidationPromises[m]}attachCallbackListeners(f,m){const{universalLinks:E,handleOpenURL:T,BuildInfo:N}=$s(),K=setTimeout((0,h.Z)(function*(){yield Ju(f),m.onEvent(el())}),500),pe=function(){var _t=(0,h.Z)(function*(dt){clearTimeout(K);const Dn=yield Ju(f);let pi=null;Dn&&(null==dt?void 0:dt.url)&&(pi=function Qy(_,f){var m,E;const T=function of(_){const f=Kt(_),m=f.link?decodeURIComponent(f.link):void 0,E=Kt(m).link,T=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Kt(T).link||T||E||m||_}(f);if(T.includes("/__/auth/callback")){const N=Kt(T),K=N.firebaseError?function sf(_){try{return JSON.parse(_)}catch(f){return null}}(decodeURIComponent(N.firebaseError)):null,pe=null===(E=null===(m=null==K?void 0:K.code)||void 0===m?void 0:m.split("auth/"))||void 0===E?void 0:E[1],Ve=pe?Ee(pe):null;return Ve?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Ve,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:T,postBody:null}}return null}(Dn,dt.url)),m.onEvent(pi||el())});return function(Dn){return _t.apply(this,arguments)}}();void 0!==E&&"function"==typeof E.subscribe&&E.subscribe(null,pe);const Ve=T,Ye=`${N.packageName.toLowerCase()}://`;$s().handleOpenURL=function(){var _t=(0,h.Z)(function*(dt){if(dt.toLowerCase().startsWith(Ye)&&pe({url:dt}),"function"==typeof Ve)try{Ve(dt)}catch(Dn){console.error(Dn)}});return function(dt){return _t.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=xn,this._completeRedirectFn=Wr,this._overrideRedirectResult=I}_initialize(f){var m=this;return(0,h.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,m,E,T){var N=this;return(0,h.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openPopup(f,m,E,T)})()}_openRedirect(f,m,E,T){var N=this;return(0,h.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openRedirect(f,m,E,T)})()}_isIframeWebStorageSupported(f,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,m)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return xd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return i_(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,h.Z)(function*(){if(f.underlyingResolver)return;const m=yield function r_(){return cc.apply(this,arguments)}();f.underlyingResolver=m?f.cordovaResolver:f.browserResolver})()}}function Ng(_){return _.unwrap()}function Rd(_){return Og(_)}function Og(_){const{_tokenResponse:f}=_ instanceof P.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof P.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return Eo.credentialFromResult(_);const m=f.providerId;if(!m||"password"===m)return null;let E;switch(m){case"google.com":E=sd;break;case"facebook.com":E=Uo;break;case"github.com":E=Hh;break;case"twitter.com":E=od;break;default:const{oauthIdToken:T,oauthAccessToken:N,oauthTokenSecret:K,pendingToken:pe,nonce:Ve}=f;return N||K||T||pe?pe?m.startsWith("saml.")?oo._create(m,pe):os._fromParams({providerId:m,signInMethod:m,pendingToken:pe,idToken:T,accessToken:N}):new Hi(m).credential({idToken:T,accessToken:N,rawNonce:Ve}):null}return _ instanceof P.ZR?E.credentialFromError(_):E.credentialFromResult(_)}function fi(_,f){return f.catch(m=>{throw m instanceof P.ZR&&function o_(_,f){var m;const E=null===(m=f.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===f.code)f.resolver=new Pg(_,function Yn(_,f){var m;const E=(0,P.m9)(_),T=f;return $(f.customData.operationType,E,"argument-error"),$(null===(m=T.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,E,"argument-error"),Qo._fromError(E,T)}(_,f));else if(E){const T=Og(f),N=f;T&&(N.credential=T,N.tenantId=E.tenantId||void 0,N.email=E.email||void 0,N.phoneNumber=E.phoneNumber||void 0)}}(_,m),m}).then(m=>{const T=m.user;return{operationType:m.operationType,credential:Rd(m),additionalUserInfo:Ki(m),user:Hs.getOrCreate(T)}})}function cf(_,f){return df.apply(this,arguments)}function df(){return(df=(0,h.Z)(function*(_,f){const m=yield f;return{verificationId:m.verificationId,confirm:E=>fi(_,m.confirm(E))}})).apply(this,arguments)}class Pg{constructor(f,m){this.resolver=m,this.auth=function s_(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return fi(Ng(this.auth),this.resolver.resolveSignIn(f))}}class Hs{constructor(f){this._delegate=f,this.multiFactor=function Vu(_){const f=(0,P.m9)(_);return Lu.has(f)||Lu.set(f,hd._fromUser(f)),Lu.get(f)}(f)}static getOrCreate(f){return Hs.USER_MAP.has(f)||Hs.USER_MAP.set(f,new Hs(f)),Hs.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var m=this;return(0,h.Z)(function*(){return fi(m.auth,lr(m._delegate,f))})()}linkWithPhoneNumber(f,m){var E=this;return(0,h.Z)(function*(){return cf(E.auth,function jy(_,f,m){return nc.apply(this,arguments)}(E._delegate,f,m))})()}linkWithPopup(f){var m=this;return(0,h.Z)(function*(){return fi(m.auth,function _d(_,f,m){return Ji.apply(this,arguments)}(m._delegate,f,hi))})()}linkWithRedirect(f){var m=this;return(0,h.Z)(function*(){return yield tl(lt(m.auth)),function Ht(_,f,m){return function It(_,f,m){return Ir.apply(this,arguments)}(_,f,m)}(m._delegate,f,hi)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var m=this;return(0,h.Z)(function*(){return fi(m.auth,as(m._delegate,f))})()}reauthenticateWithPhoneNumber(f,m){return cf(this.auth,function oi(_,f,m){return ai.apply(this,arguments)}(this._delegate,f,m))}reauthenticateWithPopup(f){return fi(this.auth,function Mi(_,f,m){return Gu.apply(this,arguments)}(this._delegate,f,hi))}reauthenticateWithRedirect(f){var m=this;return(0,h.Z)(function*(){return yield tl(lt(m.auth)),function Be(_,f,m){return function St(_,f,m){return ht.apply(this,arguments)}(_,f,m)}(m._delegate,f,hi)})()}sendEmailVerification(f){return function Wl(_,f){return Pu.apply(this,arguments)}(this._delegate,f)}unlink(f){var m=this;return(0,h.Z)(function*(){return yield function Gh(_,f){return on.apply(this,arguments)}(m._delegate,f),m})()}updateEmail(f){return function sg(_,f){return Ko((0,P.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function Yl(_,f){return Ko((0,P.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function vo(_,f){return oa.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Zl(_,f){return Va.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,m){return function Kl(_,f,m){return ku.apply(this,arguments)}(this._delegate,f,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Hs.USER_MAP=new WeakMap;const dc=$;let kg=(()=>{class _{constructor(m,E){if(this.app=m,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=m.options;dc(T,"invalid-api-key",{appName:m.name}),dc(T,"invalid-api-key",{appName:m.name});const N="undefined"!=typeof window?hi:void 0;this._delegate=E.initialize({options:{persistence:a_(T,m.name),popupRedirectResolver:N}}),this._delegate._updateErrorMap(Pe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Hs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,E){!function $r(_,f,m){const E=lt(_);$(E._canInitEmulator,E,"emulator-config-failed"),$(/^https?:\/\//.test(f),E,"invalid-emulator-scheme");const T=!!(null==m?void 0:m.disableWarnings),N=Vi(f),{host:K,port:pe}=function kn(_){const f=Vi(_),m=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!m)return{host:"",port:null};const E=m[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(E);if(T){const N=T[1];return{host:N,port:Bi(E.substr(N.length+1))}}{const[N,K]=E.split(":");return{host:N,port:Bi(K)}}}(f);E.config.emulator={url:`${N}//${K}${null===pe?"":`:${pe}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:K,port:pe,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function dn(){function _(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,m,E)}applyActionCode(m){return function Me(_,f){return kt.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Ru(this._delegate,m)}confirmPasswordReset(m,E){return function Gl(_,f,m){return ql.apply(this,arguments)}(this._delegate,m,E)}createUserWithEmailAndPassword(m,E){var T=this;return(0,h.Z)(function*(){return fi(T._delegate,function ri(_,f,m){return Pa.apply(this,arguments)}(T._delegate,m,E))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Os(_,f){return Ti.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function ka(_,f){const m=Su.parseLink(f);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,h.Z)(function*(){dc(Xa(),m._delegate,"operation-not-supported-in-this-environment");const E=yield function Jn(_,f){return fs.apply(this,arguments)}(m._delegate,hi);return E?fi(m._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function Jy(_,f){lt(_)._logFramework(f)}(this._delegate,m)}onAuthStateChanged(m,E,T){const{next:N,error:K,complete:pe}=Fg(m,E,T);return this._delegate.onAuthStateChanged(N,K,pe)}onIdTokenChanged(m,E,T){const{next:N,error:K,complete:pe}=Fg(m,E,T);return this._delegate.onIdTokenChanged(N,K,pe)}sendSignInLinkToEmail(m,E){return function ig(_,f,m){return Nu.apply(this,arguments)}(this._delegate,m,E)}sendPasswordResetEmail(m,E){return function Hl(_,f,m){return Oa.apply(this,arguments)}(this._delegate,m,E||void 0)}setPersistence(m){var E=this;return(0,h.Z)(function*(){let T;switch(function xg(_,f){Io(Object.values(di).includes(f),_,"invalid-persistence-type"),(0,P.b$)()?Io(f!==di.SESSION,_,"unsupported-persistence-type"):(0,P.UG)()?Io(f===di.NONE,_,"unsupported-persistence-type"):fr()?Io(f===di.NONE||f===di.LOCAL&&(0,P.hl)(),_,"unsupported-persistence-type"):Io(f===di.NONE||uf(),_,"unsupported-persistence-type")}(E._delegate,m),m){case di.SESSION:T=xn;break;case di.LOCAL:T=(yield ee(cs)._isAvailable())?cs:Gr;break;case di.NONE:T=Dt;break;default:return Se("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return fi(this._delegate,function ad(_){return Ul.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return fi(this._delegate,pn(this._delegate,m))}signInWithCustomToken(m){return fi(this._delegate,function Go(_,f){return pt.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,E){return fi(this._delegate,function zl(_,f,m){return pn((0,P.m9)(_),Vl.credential(f,m))}(this._delegate,m,E))}signInWithEmailLink(m,E){return fi(this._delegate,function Ou(_,f,m){return Mn.apply(this,arguments)}(this._delegate,m,E))}signInWithPhoneNumber(m,E){return cf(this._delegate,function tc(_,f,m){return yo.apply(this,arguments)}(this._delegate,m,E))}signInWithPopup(m){var E=this;return(0,h.Z)(function*(){return dc(Xa(),E._delegate,"operation-not-supported-in-this-environment"),fi(E._delegate,function yd(_,f,m){return Us.apply(this,arguments)}(E._delegate,m,hi))})()}signInWithRedirect(m){var E=this;return(0,h.Z)(function*(){return dc(Xa(),E._delegate,"operation-not-supported-in-this-environment"),yield tl(E._delegate),function Y(_,f,m){return function ne(_,f,m){return me.apply(this,arguments)}(_,f,m)}(E._delegate,m,hi)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function zo(_,f){return lo.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=di,_})();function Fg(_,f,m){let E=_;"function"!=typeof _&&({next:E,error:f,complete:m}=_);const T=E;return{next:K=>T(K&&Hs.getOrCreate(K)),error:f,complete:m}}function a_(_,f){const m=function eu(_,f){const m=Rg();if(!m)return[];const E=Un(Mg,_,f);switch(m.getItem(E)){case di.NONE:return[Dt];case di.LOCAL:return[cs,xn];case di.SESSION:return[xn];default:return[]}}(_,f);if("undefined"!=typeof self&&!m.includes(cs)&&m.push(cs),"undefined"!=typeof window)for(const E of[Gr,xn])m.includes(E)||m.push(E);return m.includes(Dt)||m.push(Dt),m}class Nd{constructor(){this.providerId="phone",this._delegate=new Eo(Ng(X.Z.auth()))}static credential(f,m){return Eo.credential(f,m)}verifyPhoneNumber(f,m){return this._delegate.verifyPhoneNumber(f,m)}unwrap(){return this._delegate}}Nd.PHONE_SIGN_IN_METHOD=Eo.PHONE_SIGN_IN_METHOD,Nd.PROVIDER_ID=Eo.PROVIDER_ID;const Lg=$;class xE{constructor(f,m,E=X.Z.app()){var T;Lg(null===(T=E.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new mo(f,m,E.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function gs(_){_.INTERNAL.registerComponent(new ue.wA("auth-compat",f=>{const m=f.getProvider("app-compat").getImmediate(),E=f.getProvider("auth");return new kg(m,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Vl,FacebookAuthProvider:Uo,GithubAuthProvider:Hh,GoogleAuthProvider:sd,OAuthProvider:Hi,SAMLAuthProvider:Lr,PhoneAuthProvider:Nd,PhoneMultiFactorGenerator:_g,RecaptchaVerifier:xE,TwitterAuthProvider:od,Auth:kg,AuthCredential:Di,Error:P.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.14")}(X.Z)},8306:(rt,we,O)=>{O.d(we,{y:()=>H});var h=O(2961),X=O(727),P=O(8822),le=O(4671);var ue=O(2416),oe=O(576),he=O(2806);let H=(()=>{class Re{constructor(Ue){Ue&&(this._subscribe=Ue)}lift(Ue){const fe=new Re;return fe.source=this,fe.operator=Ue,fe}subscribe(Ue,fe,Te){const ze=function qe(Re){return Re&&Re instanceof h.Lv||function te(Re){return Re&&(0,oe.m)(Re.next)&&(0,oe.m)(Re.error)&&(0,oe.m)(Re.complete)}(Re)&&(0,X.Nn)(Re)}(Ue)?Ue:new h.Hp(Ue,fe,Te);return(0,he.x)(()=>{const{operator:Je,source:Se}=this;ze.add(Je?Je.call(ze,Se):Se?this._subscribe(ze):this._trySubscribe(ze))}),ze}_trySubscribe(Ue){try{return this._subscribe(Ue)}catch(fe){Ue.error(fe)}}forEach(Ue,fe){return new(fe=j(fe))((Te,ze)=>{const Je=new h.Hp({next:Se=>{try{Ue(Se)}catch(Ee){ze(Ee),Je.unsubscribe()}},error:ze,complete:Te});this.subscribe(Je)})}_subscribe(Ue){var fe;return null===(fe=this.source)||void 0===fe?void 0:fe.subscribe(Ue)}[P.L](){return this}pipe(...Ue){return function ge(Re){return 0===Re.length?le.y:1===Re.length?Re[0]:function(Ue){return Re.reduce((fe,Te)=>Te(fe),Ue)}}(Ue)(this)}toPromise(Ue){return new(Ue=j(Ue))((fe,Te)=>{let ze;this.subscribe(Je=>ze=Je,Je=>Te(Je),()=>fe(ze))})}}return Re.create=Pe=>new Re(Pe),Re})();function j(Re){var Pe;return null!==(Pe=null!=Re?Re:ue.v.Promise)&&void 0!==Pe?Pe:Promise}},7579:(rt,we,O)=>{O.d(we,{x:()=>ue});var h=O(8306),X=O(727);const le=(0,O(3888).d)(he=>function(){he(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=O(8737),ge=O(2806);let ue=(()=>{class he extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const te=new oe(this,this);return te.operator=j,te}_throwIfClosed(){if(this.closed)throw new le}next(j){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const te of this.currentObservers)te.next(j)}})}error(j){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:te}=this;for(;te.length;)te.shift().error(j)}})}complete(){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:te,isStopped:qe,observers:Re}=this;return te||qe?X.Lc:(this.currentObservers=null,Re.push(j),new X.w0(()=>{this.currentObservers=null,(0,re.P)(Re,j)}))}_checkFinalizedStatuses(j){const{hasError:te,thrownError:qe,isStopped:Re}=this;te?j.error(qe):Re&&j.complete()}asObservable(){const j=new h.y;return j.source=this,j}}return he.create=(H,j)=>new oe(H,j),he})();class oe extends ue{constructor(H,j){super(),this.destination=H,this.source=j}next(H){var j,te;null===(te=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===te||te.call(j,H)}error(H){var j,te;null===(te=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===te||te.call(j,H)}complete(){var H,j;null===(j=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===j||j.call(H)}_subscribe(H){var j,te;return null!==(te=null===(j=this.source)||void 0===j?void 0:j.subscribe(H))&&void 0!==te?te:X.Lc}}},2961:(rt,we,O)=>{O.d(we,{Hp:()=>Ue,Lv:()=>te});var h=O(576),X=O(727),P=O(2416),le=O(7849);function re(){}const ge=he("C",void 0,void 0);function he(Se,Ee,Ce){return{kind:Se,value:Ee,error:Ce}}var H=O(3410),j=O(2806);class te extends X.w0{constructor(Ee){super(),this.isStopped=!1,Ee?(this.destination=Ee,(0,X.Nn)(Ee)&&Ee.add(this)):this.destination=Je}static create(Ee,Ce,$e){return new Ue(Ee,Ce,$e)}next(Ee){this.isStopped?ze(function oe(Se){return he("N",Se,void 0)}(Ee),this):this._next(Ee)}error(Ee){this.isStopped?ze(function ue(Se){return he("E",void 0,Se)}(Ee),this):(this.isStopped=!0,this._error(Ee))}complete(){this.isStopped?ze(ge,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ee){this.destination.next(Ee)}_error(Ee){try{this.destination.error(Ee)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const qe=Function.prototype.bind;function Re(Se,Ee){return qe.call(Se,Ee)}class Pe{constructor(Ee){this.partialObserver=Ee}next(Ee){const{partialObserver:Ce}=this;if(Ce.next)try{Ce.next(Ee)}catch($e){fe($e)}}error(Ee){const{partialObserver:Ce}=this;if(Ce.error)try{Ce.error(Ee)}catch($e){fe($e)}else fe(Ee)}complete(){const{partialObserver:Ee}=this;if(Ee.complete)try{Ee.complete()}catch(Ce){fe(Ce)}}}class Ue extends te{constructor(Ee,Ce,$e){let je;if(super(),(0,h.m)(Ee)||!Ee)je={next:null!=Ee?Ee:void 0,error:null!=Ce?Ce:void 0,complete:null!=$e?$e:void 0};else{let $;this&&P.v.useDeprecatedNextContext?($=Object.create(Ee),$.unsubscribe=()=>this.unsubscribe(),je={next:Ee.next&&Re(Ee.next,$),error:Ee.error&&Re(Ee.error,$),complete:Ee.complete&&Re(Ee.complete,$)}):je=Ee}this.destination=new Pe(je)}}function fe(Se){P.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(Se):(0,le.h)(Se)}function ze(Se,Ee){const{onStoppedNotification:Ce}=P.v;Ce&&H.z.setTimeout(()=>Ce(Se,Ee))}const Je={closed:!0,next:re,error:function Te(Se){throw Se},complete:re}},727:(rt,we,O)=>{O.d(we,{Lc:()=>ge,w0:()=>re,Nn:()=>ue});var h=O(576);const P=(0,O(3888).d)(he=>function(j){he(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((te,qe)=>`${qe+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var le=O(8737);class re{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const Re of j)Re.remove(this);else j.remove(this);const{initialTeardown:te}=this;if((0,h.m)(te))try{te()}catch(Re){H=Re instanceof P?Re.errors:[Re]}const{_finalizers:qe}=this;if(qe){this._finalizers=null;for(const Re of qe)try{oe(Re)}catch(Pe){H=null!=H?H:[],Pe instanceof P?H=[...H,...Pe.errors]:H.push(Pe)}}if(H)throw new P(H)}}add(H){var j;if(H&&H!==this)if(this.closed)oe(H);else{if(H instanceof re){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push(H)}}_hasParent(H){const{_parentage:j}=this;return j===H||Array.isArray(j)&&j.includes(H)}_addParent(H){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(H),j):j?[j,H]:H}_removeParent(H){const{_parentage:j}=this;j===H?this._parentage=null:Array.isArray(j)&&(0,le.P)(j,H)}remove(H){const{_finalizers:j}=this;j&&(0,le.P)(j,H),H instanceof re&&H._removeParent(this)}}re.EMPTY=(()=>{const he=new re;return he.closed=!0,he})();const ge=re.EMPTY;function ue(he){return he instanceof re||he&&"closed"in he&&(0,h.m)(he.remove)&&(0,h.m)(he.add)&&(0,h.m)(he.unsubscribe)}function oe(he){(0,h.m)(he)?he():he.unsubscribe()}},2416:(rt,we,O)=>{O.d(we,{v:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(rt,we,O)=>{O.d(we,{E:()=>X});const X=new(O(8306).y)(re=>re.complete())},8996:(rt,we,O)=>{O.d(we,{D:()=>Ee});var h=O(8421),X=O(5363),P=O(9468),ge=O(8306),oe=O(2202),he=O(576),H=O(9672);function te(Ce,$e){if(!Ce)throw new Error("Iterable cannot be null");return new ge.y(je=>{(0,H.f)(je,$e,()=>{const $=Ce[Symbol.asyncIterator]();(0,H.f)(je,$e,()=>{$.next().then(ve=>{ve.done?je.complete():je.next(ve.value)})},0,!0)})})}var qe=O(3670),Re=O(8239),Pe=O(1144),Ue=O(6495),fe=O(2206),Te=O(4532),ze=O(3260);function Ee(Ce,$e){return $e?function Se(Ce,$e){if(null!=Ce){if((0,qe.c)(Ce))return function le(Ce,$e){return(0,h.Xf)(Ce).pipe((0,P.R)($e),(0,X.Q)($e))}(Ce,$e);if((0,Pe.z)(Ce))return function ue(Ce,$e){return new ge.y(je=>{let $=0;return $e.schedule(function(){$===Ce.length?je.complete():(je.next(Ce[$++]),je.closed||this.schedule())})})}(Ce,$e);if((0,Re.t)(Ce))return function re(Ce,$e){return(0,h.Xf)(Ce).pipe((0,P.R)($e),(0,X.Q)($e))}(Ce,$e);if((0,fe.D)(Ce))return te(Ce,$e);if((0,Ue.T)(Ce))return function j(Ce,$e){return new ge.y(je=>{let $;return(0,H.f)(je,$e,()=>{$=Ce[oe.h](),(0,H.f)(je,$e,()=>{let ve,Z;try{({value:ve,done:Z}=$.next())}catch(ie){return void je.error(ie)}Z?je.complete():je.next(ve)},0,!0)}),()=>(0,he.m)(null==$?void 0:$.return)&&$.return()})}(Ce,$e);if((0,ze.L)(Ce))return function Je(Ce,$e){return te((0,ze.Q)(Ce),$e)}(Ce,$e)}throw(0,Te.z)(Ce)}(Ce,$e):(0,h.Xf)(Ce)}},8421:(rt,we,O)=>{O.d(we,{Xf:()=>qe});var h=O(655),X=O(1144),P=O(8239),le=O(8306),re=O(3670),ge=O(2206),ue=O(4532),oe=O(6495),he=O(3260),H=O(576),j=O(7849),te=O(8822);function qe(Se){if(Se instanceof le.y)return Se;if(null!=Se){if((0,re.c)(Se))return function Re(Se){return new le.y(Ee=>{const Ce=Se[te.L]();if((0,H.m)(Ce.subscribe))return Ce.subscribe(Ee);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Se);if((0,X.z)(Se))return function Pe(Se){return new le.y(Ee=>{for(let Ce=0;Ce<Se.length&&!Ee.closed;Ce++)Ee.next(Se[Ce]);Ee.complete()})}(Se);if((0,P.t)(Se))return function Ue(Se){return new le.y(Ee=>{Se.then(Ce=>{Ee.closed||(Ee.next(Ce),Ee.complete())},Ce=>Ee.error(Ce)).then(null,j.h)})}(Se);if((0,ge.D)(Se))return Te(Se);if((0,oe.T)(Se))return function fe(Se){return new le.y(Ee=>{for(const Ce of Se)if(Ee.next(Ce),Ee.closed)return;Ee.complete()})}(Se);if((0,he.L)(Se))return function ze(Se){return Te((0,he.Q)(Se))}(Se)}throw(0,ue.z)(Se)}function Te(Se){return new le.y(Ee=>{(function Je(Se,Ee){var Ce,$e,je,$;return(0,h.mG)(this,void 0,void 0,function*(){try{for(Ce=(0,h.KL)(Se);!($e=yield Ce.next()).done;)if(Ee.next($e.value),Ee.closed)return}catch(ve){je={error:ve}}finally{try{$e&&!$e.done&&($=Ce.return)&&(yield $.call(Ce))}finally{if(je)throw je.error}}Ee.complete()})})(Se,Ee).catch(Ce=>Ee.error(Ce))})}},6451:(rt,we,O)=>{O.d(we,{T:()=>ge});var h=O(8189),X=O(8421),P=O(515),le=O(7669),re=O(8996);function ge(...ue){const oe=(0,le.yG)(ue),he=(0,le._6)(ue,1/0),H=ue;return H.length?1===H.length?(0,X.Xf)(H[0]):(0,h.J)(he)((0,re.D)(H,oe)):P.E}},5403:(rt,we,O)=>{O.d(we,{x:()=>X});var h=O(2961);function X(le,re,ge,ue,oe){return new P(le,re,ge,ue,oe)}class P extends h.Lv{constructor(re,ge,ue,oe,he,H){super(re),this.onFinalize=he,this.shouldUnsubscribe=H,this._next=ge?function(j){try{ge(j)}catch(te){re.error(te)}}:super._next,this._error=oe?function(j){try{oe(j)}catch(te){re.error(te)}finally{this.unsubscribe()}}:super._error,this._complete=ue?function(){try{ue()}catch(j){re.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var re;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ge}=this;super.unsubscribe(),!ge&&(null===(re=this.onFinalize)||void 0===re||re.call(this))}}}},4004:(rt,we,O)=>{O.d(we,{U:()=>P});var h=O(4482),X=O(5403);function P(le,re){return(0,h.e)((ge,ue)=>{let oe=0;ge.subscribe((0,X.x)(ue,he=>{ue.next(le.call(re,he,oe++))}))})}},8189:(rt,we,O)=>{O.d(we,{J:()=>P});var h=O(5577),X=O(4671);function P(le=1/0){return(0,h.z)(X.y,le)}},5577:(rt,we,O)=>{O.d(we,{z:()=>oe});var h=O(4004),X=O(8421),P=O(4482),le=O(9672),re=O(5403),ue=O(576);function oe(he,H,j=1/0){return(0,ue.m)(H)?oe((te,qe)=>(0,h.U)((Re,Pe)=>H(te,Re,qe,Pe))((0,X.Xf)(he(te,qe))),j):("number"==typeof H&&(j=H),(0,P.e)((te,qe)=>function ge(he,H,j,te,qe,Re,Pe,Ue){const fe=[];let Te=0,ze=0,Je=!1;const Se=()=>{Je&&!fe.length&&!Te&&H.complete()},Ee=$e=>Te<te?Ce($e):fe.push($e),Ce=$e=>{Re&&H.next($e),Te++;let je=!1;(0,X.Xf)(j($e,ze++)).subscribe((0,re.x)(H,$=>{null==qe||qe($),Re?Ee($):H.next($)},()=>{je=!0},void 0,()=>{if(je)try{for(Te--;fe.length&&Te<te;){const $=fe.shift();Pe?(0,le.f)(H,Pe,()=>Ce($)):Ce($)}Se()}catch($){H.error($)}}))};return he.subscribe((0,re.x)(H,Ee,()=>{Je=!0,Se()})),()=>{null==Ue||Ue()}}(te,qe,he,j)))}},5363:(rt,we,O)=>{O.d(we,{Q:()=>le});var h=O(9672),X=O(4482),P=O(5403);function le(re,ge=0){return(0,X.e)((ue,oe)=>{ue.subscribe((0,P.x)(oe,he=>(0,h.f)(oe,re,()=>oe.next(he),ge),()=>(0,h.f)(oe,re,()=>oe.complete(),ge),he=>(0,h.f)(oe,re,()=>oe.error(he),ge)))})}},3099:(rt,we,O)=>{O.d(we,{B:()=>ge});var h=O(8996),X=O(5698),P=O(7579),le=O(2961),re=O(4482);function ge(oe={}){const{connector:he=(()=>new P.x),resetOnError:H=!0,resetOnComplete:j=!0,resetOnRefCountZero:te=!0}=oe;return qe=>{let Re=null,Pe=null,Ue=null,fe=0,Te=!1,ze=!1;const Je=()=>{null==Pe||Pe.unsubscribe(),Pe=null},Se=()=>{Je(),Re=Ue=null,Te=ze=!1},Ee=()=>{const Ce=Re;Se(),null==Ce||Ce.unsubscribe()};return(0,re.e)((Ce,$e)=>{fe++,!ze&&!Te&&Je();const je=Ue=null!=Ue?Ue:he();$e.add(()=>{fe--,0===fe&&!ze&&!Te&&(Pe=ue(Ee,te))}),je.subscribe($e),Re||(Re=new le.Hp({next:$=>je.next($),error:$=>{ze=!0,Je(),Pe=ue(Se,H,$),je.error($)},complete:()=>{Te=!0,Je(),Pe=ue(Se,j),je.complete()}}),(0,h.D)(Ce).subscribe(Re))})(qe)}}function ue(oe,he,...H){return!0===he?(oe(),null):!1===he?null:he(...H).pipe((0,X.q)(1)).subscribe(()=>oe())}},9468:(rt,we,O)=>{O.d(we,{R:()=>X});var h=O(4482);function X(P,le=0){return(0,h.e)((re,ge)=>{ge.add(P.schedule(()=>re.subscribe(ge),le))})}},5698:(rt,we,O)=>{O.d(we,{q:()=>le});var h=O(515),X=O(4482),P=O(5403);function le(re){return re<=0?()=>h.E:(0,X.e)((ge,ue)=>{let oe=0;ge.subscribe((0,P.x)(ue,he=>{++oe<=re&&(ue.next(he),re<=oe&&ue.complete())}))})}},8505:(rt,we,O)=>{O.d(we,{b:()=>re});var h=O(576),X=O(4482),P=O(5403),le=O(4671);function re(ge,ue,oe){const he=(0,h.m)(ge)||ue||oe?{next:ge,error:ue,complete:oe}:ge;return he?(0,X.e)((H,j)=>{var te;null===(te=he.subscribe)||void 0===te||te.call(he);let qe=!0;H.subscribe((0,P.x)(j,Re=>{var Pe;null===(Pe=he.next)||void 0===Pe||Pe.call(he,Re),j.next(Re)},()=>{var Re;qe=!1,null===(Re=he.complete)||void 0===Re||Re.call(he),j.complete()},Re=>{var Pe;qe=!1,null===(Pe=he.error)||void 0===Pe||Pe.call(he,Re),j.error(Re)},()=>{var Re,Pe;qe&&(null===(Re=he.unsubscribe)||void 0===Re||Re.call(he)),null===(Pe=he.finalize)||void 0===Pe||Pe.call(he)}))}):le.y}},4408:(rt,we,O)=>{O.d(we,{o:()=>re});var h=O(727);class X extends h.w0{constructor(ue,oe){super()}schedule(ue,oe=0){return this}}const P={setInterval(ge,ue,...oe){const{delegate:he}=P;return(null==he?void 0:he.setInterval)?he.setInterval(ge,ue,...oe):setInterval(ge,ue,...oe)},clearInterval(ge){const{delegate:ue}=P;return((null==ue?void 0:ue.clearInterval)||clearInterval)(ge)},delegate:void 0};var le=O(8737);class re extends X{constructor(ue,oe){super(ue,oe),this.scheduler=ue,this.work=oe,this.pending=!1}schedule(ue,oe=0){if(this.closed)return this;this.state=ue;const he=this.id,H=this.scheduler;return null!=he&&(this.id=this.recycleAsyncId(H,he,oe)),this.pending=!0,this.delay=oe,this.id=this.id||this.requestAsyncId(H,this.id,oe),this}requestAsyncId(ue,oe,he=0){return P.setInterval(ue.flush.bind(ue,this),he)}recycleAsyncId(ue,oe,he=0){if(null!=he&&this.delay===he&&!1===this.pending)return oe;P.clearInterval(oe)}execute(ue,oe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const he=this._execute(ue,oe);if(he)return he;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ue,oe){let H,he=!1;try{this.work(ue)}catch(j){he=!0,H=j||new Error("Scheduled action threw falsy error")}if(he)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:ue,scheduler:oe}=this,{actions:he}=oe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(he,this),null!=ue&&(this.id=this.recycleAsyncId(oe,ue,null)),this.delay=null,super.unsubscribe()}}}},7565:(rt,we,O)=>{O.d(we,{v:()=>P});var h=O(6063);class X{constructor(re,ge=X.now){this.schedulerActionCtor=re,this.now=ge}schedule(re,ge=0,ue){return new this.schedulerActionCtor(this,re).schedule(ue,ge)}}X.now=h.l.now;class P extends X{constructor(re,ge=X.now){super(re,ge),this.actions=[],this._active=!1,this._scheduled=void 0}flush(re){const{actions:ge}=this;if(this._active)return void ge.push(re);let ue;this._active=!0;do{if(ue=re.execute(re.state,re.delay))break}while(re=ge.shift());if(this._active=!1,ue){for(;re=ge.shift();)re.unsubscribe();throw ue}}}},4986:(rt,we,O)=>{O.d(we,{z:()=>P});var h=O(4408);const P=new(O(7565).v)(h.o)},6063:(rt,we,O)=>{O.d(we,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},3410:(rt,we,O)=>{O.d(we,{z:()=>h});const h={setTimeout(X,P,...le){const{delegate:re}=h;return(null==re?void 0:re.setTimeout)?re.setTimeout(X,P,...le):setTimeout(X,P,...le)},clearTimeout(X){const{delegate:P}=h;return((null==P?void 0:P.clearTimeout)||clearTimeout)(X)},delegate:void 0}},2202:(rt,we,O)=>{O.d(we,{h:()=>X});const X=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(rt,we,O)=>{O.d(we,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(rt,we,O)=>{O.d(we,{_6:()=>ge,jO:()=>le,yG:()=>re});var h=O(576);function P(ue){return ue[ue.length-1]}function le(ue){return(0,h.m)(P(ue))?ue.pop():void 0}function re(ue){return function X(ue){return ue&&(0,h.m)(ue.schedule)}(P(ue))?ue.pop():void 0}function ge(ue,oe){return"number"==typeof P(ue)?ue.pop():oe}},8737:(rt,we,O)=>{function h(X,P){if(X){const le=X.indexOf(P);0<=le&&X.splice(le,1)}}O.d(we,{P:()=>h})},3888:(rt,we,O)=>{function h(X){const le=X(re=>{Error.call(re),re.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}O.d(we,{d:()=>h})},2806:(rt,we,O)=>{O.d(we,{x:()=>P,O:()=>le});var h=O(2416);let X=null;function P(re){if(h.v.useDeprecatedSynchronousErrorHandling){const ge=!X;if(ge&&(X={errorThrown:!1,error:null}),re(),ge){const{errorThrown:ue,error:oe}=X;if(X=null,ue)throw oe}}else re()}function le(re){h.v.useDeprecatedSynchronousErrorHandling&&X&&(X.errorThrown=!0,X.error=re)}},9672:(rt,we,O)=>{function h(X,P,le,re=0,ge=!1){const ue=P.schedule(function(){le(),ge?X.add(this.schedule(null,re)):this.unsubscribe()},re);if(X.add(ue),!ge)return ue}O.d(we,{f:()=>h})},4671:(rt,we,O)=>{function h(X){return X}O.d(we,{y:()=>h})},1144:(rt,we,O)=>{O.d(we,{z:()=>h});const h=X=>X&&"number"==typeof X.length&&"function"!=typeof X},2206:(rt,we,O)=>{O.d(we,{D:()=>X});var h=O(576);function X(P){return Symbol.asyncIterator&&(0,h.m)(null==P?void 0:P[Symbol.asyncIterator])}},576:(rt,we,O)=>{function h(X){return"function"==typeof X}O.d(we,{m:()=>h})},3670:(rt,we,O)=>{O.d(we,{c:()=>P});var h=O(8822),X=O(576);function P(le){return(0,X.m)(le[h.L])}},6495:(rt,we,O)=>{O.d(we,{T:()=>P});var h=O(2202),X=O(576);function P(le){return(0,X.m)(null==le?void 0:le[h.h])}},8239:(rt,we,O)=>{O.d(we,{t:()=>X});var h=O(576);function X(P){return(0,h.m)(null==P?void 0:P.then)}},3260:(rt,we,O)=>{O.d(we,{Q:()=>P,L:()=>le});var h=O(655),X=O(576);function P(re){return(0,h.FC)(this,arguments,function*(){const ue=re.getReader();try{for(;;){const{value:oe,done:he}=yield(0,h.qq)(ue.read());if(he)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(oe)}}finally{ue.releaseLock()}})}function le(re){return(0,X.m)(null==re?void 0:re.getReader)}},4482:(rt,we,O)=>{O.d(we,{A:()=>X,e:()=>P});var h=O(576);function X(le){return(0,h.m)(null==le?void 0:le.lift)}function P(le){return re=>{if(X(re))return re.lift(function(ge){try{return le(ge,this)}catch(ue){this.error(ue)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(rt,we,O)=>{O.d(we,{h:()=>P});var h=O(2416),X=O(3410);function P(le){X.z.setTimeout(()=>{const{onUnhandledError:re}=h.v;if(!re)throw le;re(le)})}},4532:(rt,we,O)=>{function h(X){return new TypeError(`You provided ${null!==X&&"object"==typeof X?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(we,{z:()=>h})},655:(rt,we,O)=>{function le(Z,ie){var ee={};for(var ye in Z)Object.prototype.hasOwnProperty.call(Z,ye)&&ie.indexOf(ye)<0&&(ee[ye]=Z[ye]);if(null!=Z&&"function"==typeof Object.getOwnPropertySymbols){var ae=0;for(ye=Object.getOwnPropertySymbols(Z);ae<ye.length;ae++)ie.indexOf(ye[ae])<0&&Object.prototype.propertyIsEnumerable.call(Z,ye[ae])&&(ee[ye[ae]]=Z[ye[ae]])}return ee}function oe(Z,ie,ee,ye){return new(ee||(ee=Promise))(function(ke,ct){function zt(Xt){try{Xe(ye.next(Xt))}catch(Tn){ct(Tn)}}function Ut(Xt){try{Xe(ye.throw(Xt))}catch(Tn){ct(Tn)}}function Xe(Xt){Xt.done?ke(Xt.value):function ae(ke){return ke instanceof ee?ke:new ee(function(ct){ct(ke)})}(Xt.value).then(zt,Ut)}Xe((ye=ye.apply(Z,ie||[])).next())})}function fe(Z){return this instanceof fe?(this.v=Z,this):new fe(Z)}function Te(Z,ie,ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ae,ye=ee.apply(Z,ie||[]),ke=[];return ae={},ct("next"),ct("throw"),ct("return"),ae[Symbol.asyncIterator]=function(){return this},ae;function ct(rn){ye[rn]&&(ae[rn]=function(Qt){return new Promise(function(Or,Zt){ke.push([rn,Qt,Or,Zt])>1||zt(rn,Qt)})})}function zt(rn,Qt){try{!function Ut(rn){rn.value instanceof fe?Promise.resolve(rn.value.v).then(Xe,Xt):Tn(ke[0][2],rn)}(ye[rn](Qt))}catch(Or){Tn(ke[0][3],Or)}}function Xe(rn){zt("next",rn)}function Xt(rn){zt("throw",rn)}function Tn(rn,Qt){rn(Qt),ke.shift(),ke.length&&zt(ke[0][0],ke[0][1])}}function Je(Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ee,ie=Z[Symbol.asyncIterator];return ie?ie.call(Z):(Z=function te(Z){var ie="function"==typeof Symbol&&Symbol.iterator,ee=ie&&Z[ie],ye=0;if(ee)return ee.call(Z);if(Z&&"number"==typeof Z.length)return{next:function(){return Z&&ye>=Z.length&&(Z=void 0),{value:Z&&Z[ye++],done:!Z}}};throw new TypeError(ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(Z),ee={},ye("next"),ye("throw"),ye("return"),ee[Symbol.asyncIterator]=function(){return this},ee);function ye(ke){ee[ke]=Z[ke]&&function(ct){return new Promise(function(zt,Ut){!function ae(ke,ct,zt,Ut){Promise.resolve(Ut).then(function(Xe){ke({value:Xe,done:zt})},ct)}(zt,Ut,(ct=Z[ke](ct)).done,ct.value)})}}}O.d(we,{_T:()=>le,mG:()=>oe,qq:()=>fe,FC:()=>Te,KL:()=>Je})},5e3:(rt,we,O)=>{O.d(we,{deG:()=>ug,tb:()=>tC,AFp:()=>Xb,ip1:()=>b0,CZH:()=>gy,hGG:()=>Z0,z2F:()=>Mp,sBO:()=>B0,Sil:()=>Sh,_Vd:()=>Ro,EJc:()=>I0,SBq:()=>fh,qLn:()=>Rd,vpe:()=>Ei,tBr:()=>Wr,XFs:()=>yt,OlP:()=>fn,zs3:()=>qs,ZZ4:()=>q0,aQg:()=>xy,soG:()=>Dp,YKP:()=>t0,h0i:()=>Xs,PXZ:()=>x0,R0b:()=>Es,FiY:()=>ui,Lbi:()=>yy,g9A:()=>eC,Qsj:()=>gh,FYo:()=>Dl,JOm:()=>T,tp0:()=>ci,Rgc:()=>wh,dDg:()=>aC,q4F:()=>Qv,GfV:()=>$m,s_b:()=>Sl,ifc:()=>Wt,eFA:()=>cC,G48:()=>L0,Gpc:()=>j,X6Q:()=>F0,_c5:()=>AC,VLi:()=>lC,c2e:()=>C0,zSh:()=>xf,wAp:()=>wt,vHH:()=>Pe,cg1:()=>Nv,kL8:()=>Ov,dqk:()=>jt,sIi:()=>Wd,CqO:()=>fv,QGY:()=>pu,F4k:()=>vm,RDi:()=>jl,AaK:()=>oe,qOj:()=>Dc,TTD:()=>Hi,_Bn:()=>zv,xp6:()=>Nt,uIk:()=>Bf,Tol:()=>Ev,ekj:()=>eh,Suo:()=>iy,Xpm:()=>ft,lG2:()=>Du,Yz7:()=>Qt,cJS:()=>Zt,oAB:()=>kr,Yjl:()=>Da,Y36:()=>vt,_UZ:()=>tr,qZA:()=>_m,TgZ:()=>Gt,EpF:()=>Ln,n5z:()=>Uu,LFG:()=>Be,$8M:()=>Ls,$Z:()=>dv,NdJ:()=>Rc,CRH:()=>Vb,kcU:()=>Vy,O4$:()=>Ly,oxw:()=>Ge,ALo:()=>o0,lcZ:()=>Sb,xi3:()=>Mb,Hsn:()=>yl,F$t:()=>Gf,Q6J:()=>hu,VKq:()=>Pi,iGM:()=>f0,Jf7:()=>Nd,CHM:()=>Ru,LSH:()=>Xu,YNc:()=>uv,_uU:()=>yu,Oqu:()=>El,hij:()=>xm});var h=O(7579),X=O(727),P=O(8306),le=O(6451),re=O(3099);function ge(s){for(let o in s)if(s[o]===ge)return o;throw Error("Could not find renamed property on target object.")}function ue(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function oe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(oe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function he(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const H=ge({__forward_ref__:ge});function j(s){return s.__forward_ref__=j,s.toString=function(){return oe(this())},s}function te(s){return qe(s)?s():s}function qe(s){return"function"==typeof s&&s.hasOwnProperty(H)&&s.__forward_ref__===j}class Pe extends Error{constructor(o,a){super(function Ue(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,a)),this.code=o}}function fe(s){return"string"==typeof s?s:null==s?"":String(s)}function Te(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():fe(s)}function Ee(s,o){const a=o?` in ${o}`:"";throw new Pe(-201,`No provider for ${Te(s)} found${a}`)}function Ut(s,o){null==s&&function Xe(s,o,a,l){throw new Error(`ASSERTION ERROR: ${s}`+(null==l?"":` [Expected=> ${a} ${l} ${o} <=Actual]`))}(o,s,null,"!=")}function Qt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Zt(s){return{providers:s.providers||[],imports:s.imports||[]}}function Vt(s){return rs(s,Fi)||rs(s,Jr)}function rs(s,o){return s.hasOwnProperty(o)?s[o]:null}function Pr(s){return s&&(s.hasOwnProperty(Ts)||s.hasOwnProperty(Li))?s[Ts]:null}const Fi=ge({\u0275prov:ge}),Ts=ge({\u0275inj:ge}),Jr=ge({ngInjectableDef:ge}),Li=ge({ngInjectorDef:ge});var yt=(()=>((yt=yt||{})[yt.Default=0]="Default",yt[yt.Host=1]="Host",yt[yt.Self=2]="Self",yt[yt.SkipSelf=4]="SkipSelf",yt[yt.Optional=8]="Optional",yt))();let Xr;function An(s){const o=Xr;return Xr=s,o}function to(s,o,a){const l=Vt(s);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&yt.Optional?null:void 0!==o?o:void Ee(oe(s),"Injector")}function Kn(s){return{toString:s}.toString()}var Pn=(()=>((Pn=Pn||{})[Pn.OnPush=0]="OnPush",Pn[Pn.Default=1]="Default",Pn))(),Wt=(()=>{return(s=Wt||(Wt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Wt;var s})();const ut="undefined"!=typeof globalThis&&globalThis,bt="undefined"!=typeof window&&window,_r="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,jt=ut||"undefined"!=typeof global&&global||bt||_r,Er={},V=[],z=ge({\u0275cmp:ge}),W=ge({\u0275dir:ge}),Ie=ge({\u0275pipe:ge}),G=ge({\u0275mod:ge}),J=ge({\u0275fac:ge}),Oe=ge({__NG_ELEMENT_ID__:ge});let tt=0;function ft(s){return Kn(()=>{const a={},l={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Pn.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||V,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Wt.Emulated,id:"c",styles:s.styles||V,_:null,setInput:null,schemas:s.schemas||null,tView:null},d=s.directives,g=s.features,v=s.pipes;return l.id+=tt++,l.inputs=Ca(s.inputs,a),l.outputs=Ca(s.outputs),g&&g.forEach(w=>w(l)),l.directiveDefs=d?()=>("function"==typeof d?d():d).map(cn):null,l.pipeDefs=v?()=>("function"==typeof v?v():v).map(Dt):null,l})}function cn(s){return jn(s)||function Fr(s){return s[W]||null}(s)}function Dt(s){return function is(s){return s[Ie]||null}(s)}const Un={};function kr(s){return Kn(()=>{const o={type:s.type,bootstrap:s.bootstrap||V,declarations:s.declarations||V,imports:s.imports||V,exports:s.exports||V,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(Un[s.id]=s.type),o})}function Ca(s,o){if(null==s)return Er;const a={};for(const l in s)if(s.hasOwnProperty(l)){let d=s[l],g=d;Array.isArray(d)&&(g=d[1],d=d[0]),a[d]=l,o&&(o[d]=g)}return a}const Du=ft;function Da(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function jn(s){return s[z]||null}function $n(s,o){const a=s[G]||null;if(!a&&!0===o)throw new Error(`Type ${oe(s)} does not have '\u0275mod' property.`);return a}function Hr(s){return Array.isArray(s)&&"object"==typeof s[1]}function Ui(s){return Array.isArray(s)&&!0===s[1]}function Au(s){return 0!=(8&s.flags)}function Jc(s){return 2==(2&s.flags)}function ji(s){return 1==(1&s.flags)}function $i(s){return null!==s.template}function kl(s){return 0!=(512&s[2])}function Cr(s,o){return s.hasOwnProperty(J)?s[J]:null}class so{constructor(o,a,l){this.previousValue=o,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function Hi(){return Uo}function Uo(s){return s.type.prototype.ngOnChanges&&(s.setInput=Hh),sd}function sd(){const s=oo(this),o=null==s?void 0:s.current;if(o){const a=s.previous;if(a===Er)s.previous=o;else for(let l in o)a[l]=o[l];s.current=null,this.ngOnChanges(o)}}function Hh(s,o,a,l){const d=oo(s)||function jo(s,o){return s[Dr]=o}(s,{previous:Er,current:null}),g=d.current||(d.current={}),v=d.previous,w=this.declaredInputs[a],C=v[w];g[w]=new so(C&&C.currentValue,o,v===Er),s[l]=o}Hi.ngInherit=!0;const Dr="__ngSimpleChanges__";function oo(s){return s[Dr]||null}let Ho;function jl(s){Ho=s}function on(s){return!!s.listen}const Ma={createRenderer:(s,o)=>function Gi(){return void 0!==Ho?Ho:"undefined"!=typeof document?document:void 0}()};function Jt(s){for(;Array.isArray(s);)s=s[0];return s}function Ns(s,o){return Jt(o[s])}function ur(s,o){return Jt(o[s.index])}function pn(s,o){return s.data[o]}function qi(s,o){return s[o]}function lr(s,o){const a=o[s];return Hr(a)?a:a[0]}function uo(s){return 4==(4&s[2])}function as(s){return 128==(128&s[2])}function Ii(s,o){return null==o?null:s[o]}function zi(s){s[18]=0}function Go(s,o){s[5]+=o;let a=s,l=s[3];for(;null!==l&&(1===o&&1===a[5]||-1===o&&0===a[5]);)l[5]+=o,a=l,l=l[3]}const pt={lFrame:ud(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Oa(){return pt.bindingsEnabled}function Me(){return pt.lFrame.lView}function kt(){return pt.lFrame.tView}function Ru(s){return pt.lFrame.contextLView=s,s[8]}function hn(){let s=zo();for(;null!==s&&64===s.type;)s=s.parent;return s}function zo(){return pt.lFrame.currentTNode}function ri(s,o){const a=pt.lFrame;a.currentTNode=s,a.isParent=o}function Pa(){return pt.lFrame.isParent}function zl(){pt.lFrame.isParent=!1}function ka(){return pt.isInCheckNoChangesMode}function Ou(s){pt.isInCheckNoChangesMode=s}function Mn(){const s=pt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Os(){return pt.lFrame.bindingIndex++}function Ti(s){const o=pt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}function Kl(s,o){const a=pt.lFrame;a.bindingIndex=a.bindingRootIndex=s,La(o)}function La(s){pt.lFrame.currentDirectiveIndex=s}function Zl(){return pt.lFrame.currentQueryIndex}function Va(s){pt.lFrame.currentQueryIndex=s}function sg(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Yl(s,o,a){if(a&yt.SkipSelf){let d=o,g=s;for(;!(d=d.parent,null!==d||a&yt.Host||(d=sg(g),null===d||(g=g[15],10&d.type))););if(null===d)return!1;o=d,s=g}const l=pt.lFrame=Ba();return l.currentTNode=o,l.lView=s,!0}function Ko(s){const o=Ba(),a=s[1];pt.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Ba(){const s=pt.lFrame,o=null===s?null:s.child;return null===o?ud(s):o}function ud(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Zo(){const s=pt.lFrame;return pt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const ld=Zo;function Yo(){const s=Zo();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Zn(){return pt.lFrame.selectedIndex}function Ki(s){pt.lFrame.selectedIndex=s}function bn(){const s=pt.lFrame;return pn(s.tView,s.selectedIndex)}function Ly(){pt.lFrame.currentNamespace="svg"}function Vy(){!function By(){pt.lFrame.currentNamespace=null}()}function dd(s,o){for(let a=o.directiveStart,l=o.directiveEnd;a<l;a++){const g=s.data[a].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:w,ngAfterViewInit:C,ngAfterViewChecked:A,ngOnDestroy:M}=g;v&&(s.contentHooks||(s.contentHooks=[])).push(-a,v),w&&((s.contentHooks||(s.contentHooks=[])).push(a,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,w)),C&&(s.viewHooks||(s.viewHooks=[])).push(-a,C),A&&((s.viewHooks||(s.viewHooks=[])).push(a,A),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,A)),null!=M&&(s.destroyHooks||(s.destroyHooks=[])).push(a,M)}}function Ua(s,o,a){Yn(s,o,3,a)}function ls(s,o,a,l){(3&s[2])===a&&Yn(s,o,a,l)}function Qo(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function Yn(s,o,a,l){const g=null!=l?l:-1,v=o.length-1;let w=0;for(let C=void 0!==l?65535&s[18]:0;C<v;C++)if("number"==typeof o[C+1]){if(w=o[C],null!=l&&w>=l)break}else o[C]<0&&(s[18]+=65536),(w<g||-1==g)&&(Wh(s,a,o,C),s[18]=(4294901760&s[18])+C+2),C++}function Wh(s,o,a,l){const d=a[l]<0,g=a[l+1],w=s[d?-a[l]:a[l]];if(d){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(w)}finally{}}}else try{g.call(w)}finally{}}class Fu{constructor(o,a,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function it(s,o,a){const l=on(s);let d=0;for(;d<a.length;){const g=a[d];if("number"==typeof g){if(0!==g)break;d++;const v=a[d++],w=a[d++],C=a[d++];l?s.setAttribute(o,w,C,v):o.setAttributeNS(v,w,C)}else{const v=g,w=a[++d];ii(v)?l&&s.setProperty(o,v,w):l?s.setAttribute(o,v,w):o.setAttribute(v,w),d++}}return d}function Gr(s){return 3===s||4===s||6===s}function ii(s){return 64===s.charCodeAt(0)}function xn(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let l=0;l<o.length;l++){const d=o[l];"number"==typeof d?a=d:0===a||Ql(s,a,d,null,-1===a||2===a?o[++l]:null)}}return s}function Ql(s,o,a,l,d){let g=0,v=s.length;if(-1===o)v=-1;else for(;g<s.length;){const w=s[g++];if("number"==typeof w){if(w===o){v=-1;break}if(w>o){v=g-1;break}}}for(;g<s.length;){const w=s[g];if("number"==typeof w)break;if(w===a){if(null===l)return void(null!==d&&(s[g+1]=d));if(l===s[g+1])return void(s[g+2]=d)}g++,null!==l&&g++,null!==d&&g++}-1!==v&&(s.splice(v,0,o),g=v+1),s.splice(g++,0,a),null!==l&&s.splice(g++,0,l),null!==d&&s.splice(g++,0,d)}function pd(s){return-1!==s}function Zi(s){return 32767&s}function un(s,o){let a=function Jl(s){return s>>16}(s),l=o;for(;a>0;)l=l[15],a--;return l}let $a=!0;function Ai(s){const o=$a;return $a=s,o}let Xl=0;function Rn(s,o){const a=Xo(s,o);if(-1!==a)return a;const l=o[1];l.firstCreatePass&&(s.injectorIndex=o.length,Jo(l.data,s),Jo(o,null),Jo(l.blueprint,null));const d=Ps(s,o),g=s.injectorIndex;if(pd(d)){const v=Zi(d),w=un(d,o),C=w[1].data;for(let A=0;A<8;A++)o[g+A]=w[v+A]|C[v+A]}return o[g+8]=d,g}function Jo(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Xo(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Ps(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,l=null,d=o;for(;null!==d;){const g=d[1],v=g.type;if(l=2===v?g.declTNode:1===v?d[6]:null,null===l)return-1;if(a++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function cr(s,o,a){!function ec(s,o,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(Oe)&&(l=a[Oe]),null==l&&(l=a[Oe]=Xl++);const d=255&l;o.data[s+(d>>5)]|=1<<d}(s,o,a)}function ks(s,o,a){if(a&yt.Optional)return s;Ee(o,"NodeInjector")}function ea(s,o,a,l){if(a&yt.Optional&&void 0===l&&(l=null),0==(a&(yt.Self|yt.Host))){const d=s[9],g=An(void 0);try{return d?d.get(o,l,a&yt.Optional):to(o,l,a&yt.Optional)}finally{An(g)}}return ks(l,o,a)}function Fs(s,o,a,l=yt.Default,d){if(null!==s){const g=function Ha(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Oe)?s[Oe]:void 0;return"number"==typeof o?o>=0?255&o:fo:o}(a);if("function"==typeof g){if(!Yl(o,s,l))return l&yt.Host?ks(d,a,l):ea(o,a,l,d);try{const v=g(l);if(null!=v||l&yt.Optional)return v;Ee(a)}finally{ld()}}else if("number"==typeof g){let v=null,w=Xo(s,o),C=-1,A=l&yt.Host?o[16][6]:null;for((-1===w||l&yt.SkipSelf)&&(C=-1===w?Ps(s,o):o[w+8],-1!==C&&dr(l,!1)?(v=o[1],w=Zi(C),o=un(C,o)):w=-1);-1!==w;){const M=o[1];if(cs(g,w,M.data)){const k=na(w,o,a,v,l,A);if(k!==ta)return k}C=o[w+8],-1!==C&&dr(l,o[1].data[w+8]===A)&&cs(g,w,o)?(v=M,w=Zi(C),o=un(C,o)):w=-1}}}return ea(o,a,l,d)}const ta={};function fo(){return new go(hn(),Me())}function na(s,o,a,l,d,g){const v=o[1],w=v.data[s+8],M=po(w,v,a,null==l?Jc(w)&&$a:l!=v&&0!=(3&w.type),d&yt.Host&&g===w);return null!==M?ra(o,v,M,w):ta}function po(s,o,a,l,d){const g=s.providerIndexes,v=o.data,w=1048575&g,C=s.directiveStart,M=g>>20,U=d?w+M:s.directiveEnd;for(let Q=l?w:w+M;Q<U;Q++){const _e=v[Q];if(Q<C&&a===_e||Q>=C&&_e.type===a)return Q}if(d){const Q=v[C];if(Q&&$i(Q)&&Q.type===a)return C}return null}function ra(s,o,a,l){let d=s[a];const g=o.data;if(function hd(s){return s instanceof Fu}(d)){const v=d;v.resolving&&function ze(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Pe(-200,`Circular dependency in DI detected for ${s}${a}`)}(Te(g[a]));const w=Ai(v.canSeeViewProviders);v.resolving=!0;const C=v.injectImpl?An(v.injectImpl):null;Yl(s,l,yt.Default);try{d=s[a]=v.factory(void 0,g,s,l),o.firstCreatePass&&a>=l.directiveStart&&function og(s,o,a){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:g}=o.type.prototype;if(l){const v=Uo(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,v),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,v)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,d),g&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,g),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,g))}(a,g[a],o)}finally{null!==C&&An(C),Ai(w),v.resolving=!1,ld()}}return d}function cs(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function dr(s,o){return!(s&yt.Self||s&yt.Host&&o)}class go{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,l){return Fs(this._tNode,this._lView,o,l,a)}}function Uu(s){return Kn(()=>{const o=s.prototype.constructor,a=o[J]||Nn(o),l=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==l;){const g=d[J]||Nn(d);if(g&&g!==a)return g;d=Object.getPrototypeOf(d)}return g=>new g})}function Nn(s){return qe(s)?()=>{const o=Nn(te(s));return o&&o()}:Cr(s)}function Ls(s){return function Si(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const l=a.length;let d=0;for(;d<l;){const g=a[d];if(Gr(g))break;if(0===g)d+=2;else if("number"==typeof g)for(d++;d<l&&"string"==typeof a[d];)d++;else{if(g===o)return a[d+1];d+=2}}}return null}(hn(),s)}const ds="__parameters__";function gn(s,o,a){return Kn(()=>{const l=function si(s){return function(...a){if(s){const l=s(...a);for(const d in l)this[d]=l[d]}}}(o);function d(...g){if(this instanceof d)return l.apply(this,g),this;const v=new d(...g);return w.annotation=v,w;function w(C,A,M){const k=C.hasOwnProperty(ds)?C[ds]:Object.defineProperty(C,ds,{value:[]})[ds];for(;k.length<=M;)k.push(null);return(k[M]=k[M]||[]).push(v),C}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}class fn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Qt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ug=new fn("AnalyzeForEntryComponents");function oi(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let l=s[a];Array.isArray(l)?(o===s&&(o=s.slice(0,a)),oi(l,o)):o!==s&&o.push(l)}return o}function ai(s,o){s.forEach(a=>Array.isArray(a)?ai(a,o):o(a))}function sa(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function _o(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function vo(s,o){const a=[];for(let l=0;l<s;l++)a.push(o);return a}function Qn(s,o,a){let l=Bs(s,o);return l>=0?s[1|l]=a:(l=~l,function hs(s,o,a,l){let d=s.length;if(d==o)s.push(a,l);else if(1===d)s.push(l,s[0]),s[0]=a;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=a,s[o+1]=l}}(s,l,o,a)),l}function za(s,o){const a=Bs(s,o);if(a>=0)return s[1|a]}function Bs(s,o){return function yd(s,o,a){let l=0,d=s.length>>a;for(;d!==l;){const g=l+(d-l>>1),v=s[g<<a];if(o===v)return g<<a;v>o?d=g:l=g+1}return~(d<<a)}(s,o,1)}const aa={},ua="__NG_DI_FLAG__",wo="ngTempTokenPath",D=/\n/gm,R="__source",L=ge({provide:String,useValue:ge});let Y;function ne(s){const o=Y;return Y=s,o}function me(s,o=yt.Default){if(void 0===Y)throw new Pe(203,"");return null===Y?to(s,void 0,o):Y.get(s,o&yt.Optional?null:void 0,o)}function Be(s,o=yt.Default){return(function wn(){return Xr}()||me)(te(s),o)}const ht=Be;function Ht(s){const o=[];for(let a=0;a<s.length;a++){const l=te(s[a]);if(Array.isArray(l)){if(0===l.length)throw new Pe(900,"");let d,g=yt.Default;for(let v=0;v<l.length;v++){const w=l[v],C=Ir(w);"number"==typeof C?-1===C?d=w.token:g|=C:d=w}o.push(Be(d,g))}else o.push(Be(l))}return o}function It(s,o){return s[ua]=o,s.prototype[ua]=o,s}function Ir(s){return s[ua]}const Wr=It(gn("Inject",s=>({token:s})),-1),ui=It(gn("Optional"),8),ci=It(gn("SkipSelf"),4);class Cd{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ca(s){return s instanceof Cd?s.changingThisBreaksApplicationSecurity:s}const Td=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,bg=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Kt=(()=>((Kt=Kt||{})[Kt.NONE=0]="NONE",Kt[Kt.HTML=1]="HTML",Kt[Kt.STYLE=2]="STYLE",Kt[Kt.SCRIPT=3]="SCRIPT",Kt[Kt.URL=4]="URL",Kt[Kt.RESOURCE_URL=5]="RESOURCE_URL",Kt))();function Xu(s){const o=function da(){const s=Me();return s&&s[12]}();return o?o.sanitize(Kt.URL,s)||"":function js(s,o){const a=function ac(s){return s instanceof Cd&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}(s,"URL")?ca(s):function $s(s){return(s=String(s)).match(Td)||s.match(bg)?s:"unsafe:"+s}(fe(s))}const uf="__ngContext__";function fr(s,o){s[uf]=o}function xd(s){const o=function Xa(s){return s[uf]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function hi(s){return s.ngOriginalError}function s_(s,...o){s.error(...o)}class Rd{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o),l=function Ng(s){return s&&s.ngErrorLogger||s_}(o);l(this._console,"ERROR",o),a&&l(this._console,"ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&hi(o);for(;a&&hi(a);)a=hi(a);return a||null}}const a_=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(jt))();function Nd(s){return s.ownerDocument.defaultView}function gs(s){return s instanceof Function?s():s}var T=(()=>((T=T||{})[T.Important=1]="Important",T[T.DashCase=2]="DashCase",T))();function K(s,o){return undefined(s,o)}function Ye(s){const o=s[3];return Ui(o)?o[3]:o}function Dn(s){return hc(s[13])}function pi(s){return hc(s[4])}function hc(s){for(;null!==s&&!Ui(s);)s=s[4];return s}function ha(s,o,a,l,d){if(null!=l){let g,v=!1;Ui(l)?g=l:Hr(l)&&(v=!0,l=l[0]);const w=Jt(l);0===s&&null!==a?null==d?h_(o,a,w):ms(o,a,w,d||null,!0):1===s&&null!==a?ms(o,a,w,d||null,!0):2===s?function m_(s,o,a){const l=Xi(s,o);l&&function UD(s,o,a,l){on(s)?s.removeChild(o,a,l):o.removeChild(a)}(s,l,o,a)}(o,w,v):3===s&&o.destroyNode(w),null!=g&&function jg(s,o,a,l,d){const g=a[7];g!==Jt(a)&&ha(o,s,l,g,d);for(let w=10;w<a.length;w++){const C=a[w];Ug(C[1],C,s,o,l,g)}}(o,s,g,a,d)}}function kd(s,o,a){if(on(s))return s.createElement(o,a);{const l=null!==a?function Ul(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(a):null;return null===l?s.createElement(o):s.createElementNS(l,o)}}function RE(s,o){const a=s[9],l=a.indexOf(o),d=o[3];1024&o[2]&&(o[2]&=-1025,Go(d,-1)),a.splice(l,1)}function l_(s,o){if(s.length<=10)return;const a=10+o,l=s[a];if(l){const d=l[17];null!==d&&d!==s&&RE(d,l),o>0&&(s[a-1][4]=l[4]);const g=_o(s,10+o);!function gi(s,o){Ug(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(l[1],l);const v=g[19];null!==v&&v.detachView(g[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function c_(s,o){if(!(256&o[2])){const a=o[11];on(a)&&a.destroyNode&&Ug(s,o,a,3,null,null),function Fd(s){let o=s[13];if(!o)return d_(s[1],s);for(;o;){let a=null;if(Hr(o))a=o[13];else{const l=o[10];l&&(a=l)}if(!a){for(;o&&!o[4]&&o!==s;)Hr(o)&&d_(o[1],o),o=o[3];null===o&&(o=s),Hr(o)&&d_(o[1],o),a=o&&o[4]}o=a}}(o)}}function d_(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function OE(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let l=0;l<a.length;l+=2){const d=o[a[l]];if(!(d instanceof Fu)){const g=a[l+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const w=d[g[v]],C=g[v+1];try{C.call(w)}finally{}}else try{g.call(d)}finally{}}}}(s,o),function NE(s,o){const a=s.cleanup,l=o[7];let d=-1;if(null!==a)for(let g=0;g<a.length-1;g+=2)if("string"==typeof a[g]){const v=a[g+1],w="function"==typeof v?v(o):Jt(o[v]),C=l[d=a[g+2]],A=a[g+3];"boolean"==typeof A?w.removeEventListener(a[g],C,A):A>=0?l[d=A]():l[d=-A].unsubscribe(),g+=2}else{const v=l[d=a[g+1]];a[g].call(v)}if(null!==l){for(let g=d+1;g<l.length;g++)l[g]();o[7]=null}}(s,o),1===o[1].type&&on(o[11])&&o[11].destroy();const a=o[17];if(null!==a&&Ui(o[3])){a!==o[3]&&RE(a,o);const l=o[19];null!==l&&l.detachView(s)}}}function Vg(s,o,a){return function BD(s,o,a){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return a[0];if(2&l.flags){const d=s.data[l.directiveStart].encapsulation;if(d===Wt.None||d===Wt.Emulated)return null}return ur(l,a)}(s,o.parent,a)}function ms(s,o,a,l,d){on(s)?s.insertBefore(o,a,l,d):o.insertBefore(a,l,d)}function h_(s,o,a){on(s)?s.appendChild(o,a):o.appendChild(a)}function PE(s,o,a,l,d){null!==l?ms(s,o,a,l,d):h_(s,o,a)}function Xi(s,o){return on(s)?s.parentNode(o):o.parentNode}function kE(s,o,a){return f_(s,o,a)}let f_=function FE(s,o,a){return 40&s.type?ur(s,a):null};function Bg(s,o,a,l){const d=Vg(s,l,o),g=o[11],w=kE(l.parent||o[6],l,o);if(null!=d)if(Array.isArray(a))for(let C=0;C<a.length;C++)PE(g,d,a[C],w,!1);else PE(g,d,a,w,!1)}function Ld(s,o){if(null!==o){const a=o.type;if(3&a)return ur(o,s);if(4&a)return g_(-1,s[o.index]);if(8&a){const l=o.child;if(null!==l)return Ld(s,l);{const d=s[o.index];return Ui(d)?g_(-1,d):Jt(d)}}if(32&a)return K(o,s)()||Jt(s[o.index]);{const l=VE(s,o);return null!==l?Array.isArray(l)?l[0]:Ld(Ye(s[16]),l):Ld(s,o.next)}}return null}function VE(s,o){return null!==o?s[16][6].projection[o.projection]:null}function g_(s,o){const a=10+s+1;if(a<o.length){const l=o[a],d=l[1].firstChild;if(null!==d)return Ld(l,d)}return o[7]}function y_(s,o,a,l,d,g,v){for(;null!=a;){const w=l[a.index],C=a.type;if(v&&0===o&&(w&&fr(Jt(w),l),a.flags|=4),64!=(64&a.flags))if(8&C)y_(s,o,a.child,l,d,g,!1),ha(o,s,d,w,g);else if(32&C){const A=K(a,l);let M;for(;M=A();)ha(o,s,d,M,g);ha(o,s,d,w,g)}else 16&C?__(s,o,l,a,d,g):ha(o,s,d,w,g);a=v?a.projectionNext:a.next}}function Ug(s,o,a,l,d,g){y_(a,l,s.firstChild,o,d,g,!1)}function __(s,o,a,l,d,g){const v=a[16],C=v[6].projection[l.projection];if(Array.isArray(C))for(let A=0;A<C.length;A++)ha(o,s,d,C[A],g);else y_(s,o,C,v[3],d,g,!0)}function UE(s,o,a){on(s)?s.setAttribute(o,"style",a):o.style.cssText=a}function v_(s,o,a){on(s)?""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a):o.className=a}function jE(s,o,a){let l=s.length;for(;;){const d=s.indexOf(o,a);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const g=o.length;if(d+g===l||s.charCodeAt(d+g)<=32)return d}a=d+1}}const $E="ng-template";function Kr(s,o,a){let l=0;for(;l<s.length;){let d=s[l++];if(a&&"class"===d){if(d=s[l],-1!==jE(d.toLowerCase(),o,0))return!0}else if(1===d){for(;l<s.length&&"string"==typeof(d=s[l++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function $g(s){return 4===s.type&&s.value!==$E}function HD(s,o,a){return o===(4!==s.type||a?s.value:$E)}function GD(s,o,a){let l=4;const d=s.attrs||[],g=function pc(s){for(let o=0;o<s.length;o++)if(Gr(s[o]))return o;return s.length}(d);let v=!1;for(let w=0;w<o.length;w++){const C=o[w];if("number"!=typeof C){if(!v)if(4&l){if(l=2|1&l,""!==C&&!HD(s,C,a)||""===C&&1===o.length){if(Xn(l))return!1;v=!0}}else{const A=8&l?C:o[++w];if(8&l&&null!==s.attrs){if(!Kr(s.attrs,A,a)){if(Xn(l))return!1;v=!0}continue}const k=VS(8&l?"class":C,d,$g(s),a);if(-1===k){if(Xn(l))return!1;v=!0;continue}if(""!==A){let U;U=k>g?"":d[k+1].toLowerCase();const Q=8&l?U:null;if(Q&&-1!==jE(Q,A,0)||2&l&&A!==U){if(Xn(l))return!1;v=!0}}}}else{if(!v&&!Xn(l)&&!Xn(C))return!1;if(v&&Xn(C))continue;v=!1,l=C|1&l}}return Xn(l)||v}function Xn(s){return 0==(1&s)}function VS(s,o,a,l){if(null===o)return-1;let d=0;if(l||!a){let g=!1;for(;d<o.length;){const v=o[d];if(v===s)return d;if(3===v||6===v)g=!0;else{if(1===v||2===v){let w=o[++d];for(;"string"==typeof w;)w=o[++d];continue}if(4===v)break;if(0===v){d+=4;continue}}d+=g?1:2}return-1}return function Hg(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const l=s[a];if("number"==typeof l)return-1;if(l===o)return a;a++}return-1}(o,s)}function HE(s,o,a=!1){for(let l=0;l<o.length;l++)if(GD(s,o[l],a))return!0;return!1}function rl(s,o){e:for(let a=0;a<o.length;a++){const l=o[a];if(s.length===l.length){for(let d=0;d<s.length;d++)if(s[d]!==l[d])continue e;return!0}}return!1}function $t(s,o){return s?":not("+o.trim()+")":o}function qD(s){let o=s[0],a=1,l=2,d="",g=!1;for(;a<s.length;){let v=s[a];if("string"==typeof v)if(2&l){const w=s[++a];d+="["+v+(w.length>0?'="'+w+'"':"")+"]"}else 8&l?d+="."+v:4&l&&(d+=" "+v);else""!==d&&!Xn(v)&&(o+=$t(g,d),d=""),l=v,g=g||!Xn(l);a++}return""!==d&&(o+=$t(g,d)),o}const Rt={};function Nt(s){gf(kt(),Me(),Zn()+s,ka())}function gf(s,o,a,l){if(!l)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&Ua(o,g,a)}else{const g=s.preOrderHooks;null!==g&&ls(o,g,0,a)}Ki(a)}function il(s,o){return s<<17|o<<2}function To(s){return s>>17&32767}function E_(s){return 2|s}function ru(s){return(131068&s)>>2}function Tr(s,o){return-131069&s|o<<2}function Ar(s){return 1|s}function bf(s,o){const a=s.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const d=a[l],g=a[l+1];if(-1!==g){const v=s.data[g];Va(d),v.contentQueries(2,o[g],g)}}}function mc(s,o,a,l,d,g,v,w,C,A){const M=o.blueprint.slice();return M[0]=d,M[2]=140|l,zi(M),M[3]=M[15]=s,M[8]=a,M[10]=v||s&&s[10],M[11]=w||s&&s[11],M[12]=C||s&&s[12]||null,M[9]=A||s&&s[9]||null,M[6]=g,M[16]=2==o.type?s[16]:M,M}function sl(s,o,a,l,d){let g=s.data[o];if(null===g)g=function Cf(s,o,a,l,d){const g=zo(),v=Pa(),C=s.data[o]=function eI(s,o,a,l,d,g){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,a,o,l,d);return null===s.firstChild&&(s.firstChild=C),null!==g&&(v?null==g.child&&null!==C.parent&&(g.child=C):null===g.next&&(g.next=C)),C}(s,o,a,l,d),function Wl(){return pt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=a,g.value=l,g.attrs=d;const v=function lo(){const s=pt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return ri(g,!0),g}function yc(s,o,a,l){if(0===a)return-1;const d=o.length;for(let g=0;g<a;g++)o.push(l),s.blueprint.push(l),s.data.push(null);return d}function Vd(s,o,a){Ko(o);try{const l=s.viewQuery;null!==l&&wc(1,l,a);const d=s.template;null!==d&&k_(s,o,d,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&bf(s,o),s.staticViewQueries&&wc(2,s.viewQuery,a);const g=s.components;null!==g&&function P_(s,o){for(let a=0;a<o.length;a++)im(s,o[a])}(o,g)}catch(l){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),l}finally{o[2]&=-5,Yo()}}function Bd(s,o,a,l){const d=o[2];if(256==(256&d))return;Ko(o);const g=ka();try{zi(o),function Fa(s){return pt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&k_(s,o,a,2,l);const v=3==(3&d);if(!g)if(v){const A=s.preOrderCheckHooks;null!==A&&Ua(o,A,null)}else{const A=s.preOrderHooks;null!==A&&ls(o,A,0,null),Qo(o,0)}if(function Ni(s){for(let o=Dn(s);null!==o;o=pi(o)){if(!o[2])continue;const a=o[9];for(let l=0;l<a.length;l++){const d=a[l],g=d[3];0==(1024&d[2])&&Go(g,1),d[2]|=1024}}}(o),function sw(s){for(let o=Dn(s);null!==o;o=pi(o))for(let a=10;a<o.length;a++){const l=o[a],d=l[1];as(l)&&Bd(d,l,d.template,l[8])}}(o),null!==s.contentQueries&&bf(s,o),!g)if(v){const A=s.contentCheckHooks;null!==A&&Ua(o,A)}else{const A=s.contentHooks;null!==A&&ls(o,A,1),Qo(o,1)}!function XD(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const d=a[l];if(d<0)Ki(~d);else{const g=d,v=a[++l],w=a[++l];Kl(v,g),w(2,o[g])}}}finally{Ki(-1)}}(s,o);const w=s.components;null!==w&&function Zg(s,o){for(let a=0;a<o.length;a++)ow(s,o[a])}(o,w);const C=s.viewQuery;if(null!==C&&wc(2,C,l),!g)if(v){const A=s.viewCheckHooks;null!==A&&Ua(o,A)}else{const A=s.viewHooks;null!==A&&ls(o,A,2),Qo(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),g||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Go(o[3],-1))}finally{Yo()}}function QE(s,o,a,l){const d=o[10],g=!ka(),v=uo(o);try{g&&!v&&d.begin&&d.begin(),v&&Vd(s,o,l),Bd(s,o,a,l)}finally{g&&!v&&d.end&&d.end()}}function k_(s,o,a,l,d){const g=Zn(),v=2&l;try{Ki(-1),v&&o.length>20&&gf(s,o,20,ka()),a(l,d)}finally{Ki(g)}}function Qg(s,o,a){!Oa()||(function nI(s,o,a,l){const d=a.directiveStart,g=a.directiveEnd;s.firstCreatePass||Rn(a,o),fr(l,o);const v=a.initialInputs;for(let w=d;w<g;w++){const C=s.data[w],A=$i(C);A&&iI(o,a,C);const M=ra(o,s,w,a);fr(M,o),null!==v&&iw(0,w-d,M,C,0,v),A&&(lr(a.index,o)[8]=M)}}(s,o,a,ur(a,o)),128==(128&a.flags)&&function Tf(s,o,a){const l=a.directiveStart,d=a.directiveEnd,v=a.index,w=function ku(){return pt.lFrame.currentDirectiveIndex}();try{Ki(v);for(let C=l;C<d;C++){const A=s.data[C],M=o[C];La(C),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&j_(A,M)}}finally{Ki(-1),La(w)}}(s,o,a))}function F_(s,o,a=ur){const l=o.localNames;if(null!==l){let d=o.index+1;for(let g=0;g<l.length;g+=2){const v=l[g+1],w=-1===v?a(o,s):s[v];s[d++]=w}}}function Jg(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Ud(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Ud(s,o,a,l,d,g,v,w,C,A){const M=20+l,k=M+d,U=function L_(s,o){const a=[];for(let l=0;l<o;l++)a.push(l<s?null:Rt);return a}(M,k),Q="function"==typeof A?A():A;return U[1]={type:s,blueprint:U,template:a,queries:null,viewQuery:w,declTNode:o,data:U.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:C,consts:Q,incompleteFirstPass:!1}}function Xg(s,o,a,l){const d=um(o);null===a?d.push(l):(d.push(a),s.firstCreatePass&&Sf(s).push(l,d.length-1))}function JE(s,o,a){for(let l in s)if(s.hasOwnProperty(l)){const d=s[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(o,d):a[l]=[o,d]}return a}function If(s,o,a,l){let d=!1;if(Oa()){const g=function nw(s,o,a){const l=s.directiveRegistry;let d=null;if(l)for(let g=0;g<l.length;g++){const v=l[g];HE(a,v.selectors,!1)&&(d||(d=[]),cr(Rn(a,o),s,v.type),$i(v)?($_(s,a),d.unshift(v)):d.push(v))}return d}(s,o,a),v=null===l?null:{"":-1};if(null!==g){d=!0,rw(a,s.data.length,g.length);for(let M=0;M<g.length;M++){const k=g[M];k.providersResolver&&k.providersResolver(k)}let w=!1,C=!1,A=yc(s,o,g.length,null);for(let M=0;M<g.length;M++){const k=g[M];a.mergedAttrs=xn(a.mergedAttrs,k.hostAttrs),_c(s,a,o,A,k),rI(A,k,v),null!==k.contentQueries&&(a.flags|=8),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(a.flags|=128);const U=k.type.prototype;!w&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),w=!0),!C&&(U.ngOnChanges||U.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),C=!0),A++}!function XE(s,o){const l=o.directiveEnd,d=s.data,g=o.attrs,v=[];let w=null,C=null;for(let A=o.directiveStart;A<l;A++){const M=d[A],k=M.inputs,U=null===g||$g(o)?null:rm(k,g);v.push(U),w=JE(k,A,w),C=JE(M.outputs,A,C)}null!==w&&(w.hasOwnProperty("class")&&(o.flags|=16),w.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=w,o.outputs=C}(s,a)}v&&function nm(s,o,a){if(o){const l=s.localNames=[];for(let d=0;d<o.length;d+=2){const g=a[o[d+1]];if(null==g)throw new Pe(-301,!1);l.push(o[d],g)}}}(a,l,v)}return a.mergedAttrs=xn(a.mergedAttrs,a.attrs),d}function tm(s,o,a,l,d,g){const v=g.hostBindings;if(v){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const C=~o.index;(function tw(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(w)!=C&&w.push(C),w.push(l,d,v)}}function j_(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function $_(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function rI(s,o,a){if(a){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)a[o.exportAs[l]]=s;$i(o)&&(a[""]=s)}}function rw(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function _c(s,o,a,l,d){s.data[l]=d;const g=d.factory||(d.factory=Cr(d.type)),v=new Fu(g,$i(d),null);s.blueprint[l]=v,a[l]=v,tm(s,o,0,l,yc(s,a,d.hostVars,Rt),d)}function iI(s,o,a){const l=ur(o,s),d=Jg(a),g=s[10],v=$d(s,mc(s,d,null,a.onPush?64:16,l,o,g,g.createRenderer(l,a),null,null));s[o.index]=v}function pa(s,o,a,l,d,g){const v=ur(s,o);!function iu(s,o,a,l,d,g,v){if(null==g)on(s)?s.removeAttribute(o,d,a):o.removeAttribute(d);else{const w=null==v?fe(g):v(g,l||"",d);on(s)?s.setAttribute(o,d,w,a):a?o.setAttributeNS(a,d,w):o.setAttribute(d,w)}}(o[11],v,g,s.value,a,l,d)}function iw(s,o,a,l,d,g){const v=g[o];if(null!==v){const w=l.setInput;for(let C=0;C<v.length;){const A=v[C++],M=v[C++],k=v[C++];null!==w?l.setInput(a,k,A,M):a[M]=k}}}function rm(s,o){let a=null,l=0;for(;l<o.length;){const d=o[l];if(0!==d)if(5!==d){if("number"==typeof d)break;s.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,s[d],o[l+1])),l+=2}else l+=2;else l+=4}return a}function jd(s,o,a,l){return new Array(s,!0,!1,o,null,0,l,a,null,null)}function ow(s,o){const a=lr(o,s);if(as(a)){const l=a[1];80&a[2]?Bd(l,a,l.template,a[8]):a[5]>0&&vc(a)}}function vc(s){for(let l=Dn(s);null!==l;l=pi(l))for(let d=10;d<l.length;d++){const g=l[d];if(1024&g[2]){const v=g[1];Bd(v,g,v.template,g[8])}else g[5]>0&&vc(g)}const a=s[1].components;if(null!==a)for(let l=0;l<a.length;l++){const d=lr(a[l],s);as(d)&&d[5]>0&&vc(d)}}function im(s,o){const a=lr(o,s),l=a[1];(function aw(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(l,a),Vd(l,a,a[8])}function $d(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function sm(s){for(;s;){s[2]|=64;const o=Ye(s);if(kl(s)&&!o)return s;s=o}return null}function Af(s,o,a){const l=o[10];l.begin&&l.begin();try{Bd(s,o,s.template,a)}catch(d){throw G_(o,d),d}finally{l.end&&l.end()}}function om(s){!function Ec(s){for(let o=0;o<s.components.length;o++){const a=s.components[o],l=xd(a),d=l[1];QE(d,l,d.template,a)}}(s[8])}function wc(s,o,a){Va(0),o(s,a)}const aI=(()=>Promise.resolve(null))();function um(s){return s[7]||(s[7]=[])}function Sf(s){return s.cleanup||(s.cleanup=[])}function G_(s,o){const a=s[9],l=a?a.get(Rd,null):null;l&&l.handleError(o)}function q_(s,o,a,l,d){for(let g=0;g<a.length;){const v=a[g++],w=a[g++],C=o[v],A=s.data[v];null!==A.setInput?A.setInput(C,d,l,w):C[w]=d}}function ga(s,o,a){const l=Ns(o,s);!function Pd(s,o,a){on(s)?s.setValue(o,a):o.textContent=a}(s[11],l,a)}function cm(s,o,a){let l=a?s.styles:null,d=a?s.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const w=o[v];"number"==typeof w?g=w:1==g?d=he(d,w):2==g&&(l=he(l,w+": "+o[++v]+";"))}a?s.styles=l:s.stylesWithoutHost=l,a?s.classes=d:s.classesWithoutHost=d}const bc=new fn("INJECTOR",-1);class ol{get(o,a=aa){if(a===aa){const l=new Error(`NullInjectorError: No provider for ${oe(o)}!`);throw l.name="NullInjectorError",l}return a}}const xf=new fn("Set Injector scope."),Rf={},W_={};let al;function dm(){return void 0===al&&(al=new ol),al}function ul(s,o=null,a=null,l){const d=K_(s,o,a,l);return d._resolveInjectorDefTypes(),d}function K_(s,o=null,a=null,l){return new uI(s,a,o||dm(),l)}class uI{constructor(o,a,l,d=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];a&&ai(a,w=>this.processProvider(w,o,a)),ai([o],w=>this.processInjectorType(w,[],g)),this.records.set(bc,au(void 0,this));const v=this.records.get(xf);this.scope=null!=v?v.value:null,this.source=d||("object"==typeof o?null:oe(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,a=aa,l=yt.Default){this.assertNotDestroyed();const d=ne(this),g=An(void 0);try{if(!(l&yt.SkipSelf)){let w=this.records.get(o);if(void 0===w){const C=function cI(s){return"function"==typeof s||"object"==typeof s&&s instanceof fn}(o)&&Vt(o);w=C&&this.injectableDefInScope(C)?au(su(o),Rf):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(l&yt.Self?dm():this.parent).get(o,a=l&yt.Optional&&a===aa?null:a)}catch(v){if("NullInjectorError"===v.name){if((v[wo]=v[wo]||[]).unshift(oe(o)),d)throw v;return function Jn(s,o,a,l){const d=s[wo];throw o[R]&&d.unshift(o[R]),s.message=function fs(s,o,a,l=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let d=oe(o);if(Array.isArray(o))d=o.map(oe).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let w=o[v];g.push(v+":"+("string"==typeof w?JSON.stringify(w):oe(w)))}d=`{${g.join(", ")}}`}return`${a}${l?"("+l+")":""}[${d}]: ${s.replace(D,"\n  ")}`}("\n"+s.message,d,a,l),s.ngTokenPath=d,s[wo]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{An(g),ne(d)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((l,d)=>o.push(oe(d))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Pe(205,!1)}processInjectorType(o,a,l){if(!(o=te(o)))return!1;let d=Pr(o);const g=null==d&&o.ngModule||void 0,v=void 0===g?o:g,w=-1!==l.indexOf(v);if(void 0!==g&&(d=Pr(g)),null==d)return!1;if(null!=d.imports&&!w){let M;l.push(v);try{ai(d.imports,k=>{this.processInjectorType(k,a,l)&&(void 0===M&&(M=[]),M.push(k))})}finally{}if(void 0!==M)for(let k=0;k<M.length;k++){const{ngModule:U,providers:Q}=M[k];ai(Q,_e=>this.processProvider(_e,U,Q||V))}}this.injectorDefTypes.add(v);const C=Cr(v)||(()=>new v);this.records.set(v,au(C,Rf));const A=d.providers;if(null!=A&&!w){const M=o;ai(A,k=>this.processProvider(k,M,A))}return void 0!==g&&void 0!==o.providers}processProvider(o,a,l){let d=Hd(o=te(o))?o:te(o&&o.provide);const g=function hm(s,o,a){return Z_(s)?au(void 0,s.useValue):au(Nf(s),Rf)}(o);if(Hd(o)||!0!==o.multi)this.records.get(d);else{let v=this.records.get(d);v||(v=au(void 0,Rf,!0),v.factory=()=>Ht(v.multi),this.records.set(d,v)),d=o,v.multi.push(o)}this.records.set(d,g)}hydrate(o,a){return a.value===Rf&&(a.value=W_,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Pf(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=te(o.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function su(s){const o=Vt(s),a=null!==o?o.factory:Cr(s);if(null!==a)return a;if(s instanceof fn)throw new Pe(204,!1);if(s instanceof Function)return function ou(s){const o=s.length;if(o>0)throw vo(o,"?"),new Pe(204,!1);const a=function Qr(s){const o=s&&(s[Fi]||s[Jr]);if(o){const a=function yr(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new Pe(204,!1)}function Nf(s,o,a){let l;if(Hd(s)){const d=te(s);return Cr(d)||su(d)}if(Z_(s))l=()=>te(s.useValue);else if(function fm(s){return!(!s||!s.useFactory)}(s))l=()=>s.useFactory(...Ht(s.deps||[]));else if(function On(s){return!(!s||!s.useExisting)}(s))l=()=>Be(te(s.useExisting));else{const d=te(s&&(s.useClass||s.provide));if(!function Of(s){return!!s.deps}(s))return Cr(d)||su(d);l=()=>new d(...Ht(s.deps))}return l}function au(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function Z_(s){return null!==s&&"object"==typeof s&&L in s}function Hd(s){return"function"==typeof s}let qs=(()=>{class s{static create(a,l){var d;if(Array.isArray(a))return ul({name:""},l,a,"");{const g=null!==(d=a.name)&&void 0!==d?d:"";return ul({name:g},a.parent,a.providers,g)}}}return s.THROW_IF_NOT_FOUND=aa,s.NULL=new ol,s.\u0275prov=Qt({token:s,providedIn:"any",factory:()=>Be(bc)}),s.__NG_ELEMENT_ID__=-1,s})();function ev(s,o){dd(xd(s)[1],hn())}function Dc(s){let o=function zd(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const l=[s];for(;o;){let d;if($i(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Pe(903,"");d=o.\u0275dir}if(d){if(a){l.push(d);const v=s;v.inputs=Hn(s.inputs),v.declaredInputs=Hn(s.declaredInputs),v.outputs=Hn(s.outputs);const w=d.hostBindings;w&&yI(s,w);const C=d.viewQuery,A=d.contentQueries;if(C&&vw(s,C),A&&mI(s,A),ue(s.inputs,d.inputs),ue(s.declaredInputs,d.declaredInputs),ue(s.outputs,d.outputs),$i(d)&&d.data.animation){const M=s.data;M.animation=(M.animation||[]).concat(d.data.animation)}}const g=d.features;if(g)for(let v=0;v<g.length;v++){const w=g[v];w&&w.ngInherit&&w(s),w===Dc&&(a=!1)}}o=Object.getPrototypeOf(o)}!function gI(s){let o=0,a=null;for(let l=s.length-1;l>=0;l--){const d=s[l];d.hostVars=o+=d.hostVars,d.hostAttrs=xn(d.hostAttrs,a=xn(a,d.hostAttrs))}}(l)}function Hn(s){return s===Er?{}:s===V?[]:s}function vw(s,o){const a=s.viewQuery;s.viewQuery=a?(l,d)=>{o(l,d),a(l,d)}:o}function mI(s,o){const a=s.contentQueries;s.contentQueries=a?(l,d,g)=>{o(l,d,g),a(l,d,g)}:o}function yI(s,o){const a=s.hostBindings;s.hostBindings=a?(l,d)=>{o(l,d),a(l,d)}:o}let Vf=null;function Ic(){if(!Vf){const s=jt.Symbol;if(s&&s.iterator)Vf=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const l=o[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Vf=l)}}}return Vf}function Wd(s){return!!tv(s)&&(Array.isArray(s)||!(s instanceof Map)&&Ic()in s)}function tv(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function zs(s,o,a){return s[o]=a}function Zr(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function Bf(s,o,a,l){const d=Me();return Zr(d,Os(),o)&&(kt(),pa(bn(),d,s,o,a,l)),Bf}function uv(s,o,a,l,d,g,v,w){const C=Me(),A=kt(),M=s+20,k=A.firstCreatePass?function vs(s,o,a,l,d,g,v,w,C){const A=o.consts,M=sl(o,s,4,v||null,Ii(A,w));If(o,a,M,Ii(A,C)),dd(o,M);const k=M.tViews=Ud(2,M,l,d,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,A);return null!==o.queries&&(o.queries.template(o,M),k.queries=o.queries.embeddedTView(M)),M}(M,A,C,o,a,l,d,g,v):A.data[M];ri(k,!1);const U=C[11].createComment("");Bg(A,C,U,k),fr(U,C),$d(C,C[M]=jd(U,C,U,k)),ji(k)&&Qg(A,C,k),null!=v&&F_(C,k,w)}function vt(s,o=yt.Default){const a=Me();return null===a?Be(s,o):Fs(hn(),a,te(s),o)}function dv(){throw new Error("invalid")}function hu(s,o,a){const l=Me();return Zr(l,Os(),o)&&function ys(s,o,a,l,d,g,v,w){const C=ur(o,a);let M,A=o.inputs;!w&&null!=A&&(M=A[l])?(q_(s,a,M,l,d),Jc(o)&&function V_(s,o){const a=lr(o,s);16&a[2]||(a[2]|=64)}(a,o.index)):3&o.type&&(l=function tI(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(l),d=null!=v?v(d,o.value||"",l):d,on(g)?g.setProperty(C,l,d):ii(l)||(C.setProperty?C.setProperty(l,d):C[l]=d))}(kt(),bn(),l,s,o,l[11],a,!1),hu}function ym(s,o,a,l,d){const v=d?"class":"style";q_(s,a,o.inputs[v],v,l)}function Gt(s,o,a,l){const d=Me(),g=kt(),v=20+s,w=d[11],C=d[v]=kd(w,o,function cd(){return pt.lFrame.currentNamespace}()),A=g.firstCreatePass?function $f(s,o,a,l,d,g,v){const w=o.consts,A=sl(o,s,2,d,Ii(w,g));return If(o,a,A,Ii(w,v)),null!==A.attrs&&cm(A,A.attrs,!1),null!==A.mergedAttrs&&cm(A,A.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,A),A}(v,g,d,0,o,a,l):g.data[v];ri(A,!0);const M=A.mergedAttrs;null!==M&&it(w,C,M);const k=A.classes;null!==k&&v_(w,C,k);const U=A.styles;return null!==U&&UE(w,C,U),64!=(64&A.flags)&&Bg(g,d,C,A),0===function xu(){return pt.lFrame.elementDepthCount}()&&fr(C,d),function Na(){pt.lFrame.elementDepthCount++}(),ji(A)&&(Qg(g,d,A),function Yg(s,o,a){if(Au(o)){const d=o.directiveEnd;for(let g=o.directiveStart;g<d;g++){const v=s.data[g];v.contentQueries&&v.contentQueries(1,a[g],g)}}}(g,A,d)),null!==l&&F_(d,A),Gt}function _m(){let s=hn();Pa()?zl():(s=s.parent,ri(s,!1));const o=s;!function Hl(){pt.lFrame.elementDepthCount--}();const a=kt();return a.firstCreatePass&&(dd(a,s),Au(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function fd(s){return 0!=(16&s.flags)}(o)&&ym(a,o,Me(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function ag(s){return 0!=(32&s.flags)}(o)&&ym(a,o,Me(),o.stylesWithoutHost,!1),_m}function tr(s,o,a,l){return Gt(s,o,a,l),_m(),tr}function Ln(){return Me()}function pu(s){return!!s&&"function"==typeof s.then}function vm(s){return!!s&&"function"==typeof s.subscribe}const fv=vm;function Rc(s,o,a,l){const d=Me(),g=kt(),v=hn();return function Qd(s,o,a,l,d,g,v,w){const C=ji(l),M=s.firstCreatePass&&Sf(s),k=o[8],U=um(o);let Q=!0;if(3&l.type||w){const Fe=ur(l,o),Ze=w?w(Fe):Fe,xe=U.length,mt=w?Bt=>w(Jt(Bt[l.index])):l.index;if(on(a)){let Bt=null;if(!w&&C&&(Bt=function gu(s,o,a,l){const d=s.cleanup;if(null!=d)for(let g=0;g<d.length-1;g+=2){const v=d[g];if(v===a&&d[g+1]===l){const w=o[7],C=d[g+2];return w.length>C?w[C]:null}"string"==typeof v&&(g+=2)}return null}(s,o,d,l.index)),null!==Bt)(Bt.__ngLastListenerFn__||Bt).__ngNextListenerFn__=g,Bt.__ngLastListenerFn__=g,Q=!1;else{g=Em(l,o,k,g,!1);const tn=a.listen(Ze,d,g);U.push(g,tn),M&&M.push(d,mt,xe,xe+1)}}else g=Em(l,o,k,g,!0),Ze.addEventListener(d,g,v),U.push(g),M&&M.push(d,mt,xe,v)}else g=Em(l,o,k,g,!1);const _e=l.outputs;let Ae;if(Q&&null!==_e&&(Ae=_e[d])){const Fe=Ae.length;if(Fe)for(let Ze=0;Ze<Fe;Ze+=2){const ts=o[Ae[Ze]][Ae[Ze+1]].subscribe(g),zc=U.length;U.push(g,ts),M&&M.push(d,l.index,zc,-(zc+1))}}}(g,d,d[11],v,s,o,!!a,l),Rc}function Jd(s,o,a,l){try{return!1!==a(l)}catch(d){return G_(s,d),!1}}function Em(s,o,a,l,d){return function g(v){if(v===Function)return l;const w=2&s.flags?lr(s.index,o):o;0==(32&o[2])&&sm(w);let C=Jd(o,0,l,v),A=g.__ngNextListenerFn__;for(;A;)C=Jd(o,0,A,v)&&C,A=A.__ngNextListenerFn__;return d&&!1===C&&(v.preventDefault(),v.returnValue=!1),C}}function Ge(s=1){return function Wi(s){return(pt.lFrame.contextLView=function qh(s,o){for(;s>0;)o=o[15],s--;return o}(s,pt.lFrame.contextLView))[8]}(s)}function ml(s,o){let a=null;const l=function be(s){const o=s.attrs;if(null!=o){const a=o.indexOf(5);if(0==(1&a))return o[a+1]}return null}(s);for(let d=0;d<o.length;d++){const g=o[d];if("*"!==g){if(null===l?HE(s,g,!0):rl(l,g))return d}else a=d}return a}function Gf(s){const o=Me()[16][6];if(!o.projection){const l=o.projection=vo(s?s.length:1,null),d=l.slice();let g=o.child;for(;null!==g;){const v=s?ml(g,s):0;null!==v&&(d[v]?d[v].projectionNext=g:l[v]=g,d[v]=g),g=g.next}}}function yl(s,o=0,a){const l=Me(),d=kt(),g=sl(d,20+s,16,null,a||null);null===g.projection&&(g.projection=o),zl(),64!=(64&g.flags)&&function BE(s,o,a){__(o[11],0,o,a,Vg(s,a,o),kE(a.parent||o[6],a,o))}(d,l,g)}function mv(s,o,a,l,d){const g=s[a+1],v=null===o;let w=l?To(g):ru(g),C=!1;for(;0!==w&&(!1===C||v);){const M=s[w+1];xI(s[w],o)&&(C=!0,s[w+1]=l?Ar(M):E_(M)),w=l?To(M):ru(M)}C&&(s[a+1]=l?E_(g):Ar(g))}function xI(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Bs(s,o)>=0}const xr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function yv(s){return s.substring(xr.key,xr.keyEnd)}function _v(s,o){const a=xr.textEnd;return a===o?-1:(o=xr.keyEnd=function Im(s,o,a){for(;o<a&&s.charCodeAt(o)>32;)o++;return o}(s,xr.key=o,a),Ws(s,o,a))}function Ws(s,o,a){for(;o<a&&s.charCodeAt(o)<=32;)o++;return o}function eh(s,o){return function Mo(s,o,a,l){const d=Me(),g=kt(),v=Ti(2);g.firstUpdatePass&&Fw(g,s,v,l),o!==Rt&&Zr(d,v,o)&&wv(g,g.data[Zn()],d,d[11],s,d[v+1]=function kI(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=oe(ca(s)))),s}(o,a),l,v)}(s,o,null,!0),eh}function Ev(s){!function Zs(s,o,a,l){const d=kt(),g=Ti(2);d.firstUpdatePass&&Fw(d,null,g,l);const v=Me();if(a!==Rt&&Zr(v,g,a)){const w=d.data[Zn()];if(Uw(w,l)&&!vl(d,g)){let C=l?w.classesWithoutHost:w.stylesWithoutHost;null!==C&&(a=he(C,a||"")),ym(d,w,v,a,l)}else!function PI(s,o,a,l,d,g,v,w){d===Rt&&(d=V);let C=0,A=0,M=0<d.length?d[0]:null,k=0<g.length?g[0]:null;for(;null!==M||null!==k;){const U=C<d.length?d[C+1]:void 0,Q=A<g.length?g[A+1]:void 0;let Ae,_e=null;M===k?(C+=2,A+=2,U!==Q&&(_e=k,Ae=Q)):null===k||null!==M&&M<k?(C+=2,_e=M):(A+=2,_e=k,Ae=Q),null!==_e&&wv(s,o,a,l,_e,Ae,v,w),M=C<d.length?d[C]:null,k=A<g.length?g[A]:null}}(d,w,v,v[11],v[g+1],v[g+1]=function OI(s,o,a){if(null==a||""===a)return V;const l=[],d=ca(a);if(Array.isArray(d))for(let g=0;g<d.length;g++)s(l,d[g],!0);else if("object"==typeof d)for(const g in d)d.hasOwnProperty(g)&&s(l,g,d[g]);else"string"==typeof d&&o(l,d);return l}(s,o,a),l,g)}}(Qn,Oi,s,!0)}function Oi(s,o){for(let a=function _i(s){return function Dm(s){xr.key=0,xr.keyEnd=0,xr.value=0,xr.valueEnd=0,xr.textEnd=s.length}(s),_v(s,Ws(s,0,xr.textEnd))}(o);a>=0;a=_v(o,a))Qn(s,yv(o),!0)}function vl(s,o){return o>=s.expandoStartIndex}function Fw(s,o,a,l){const d=s.data;if(null===d[a+1]){const g=d[Zn()],v=vl(s,a);Uw(g,l)&&null===o&&!v&&(o=!1),o=function Kf(s,o,a,l){const d=function Wo(s){const o=pt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let g=l?o.residualClasses:o.residualStyles;if(null===d)0===(l?o.classBindings:o.styleBindings)&&(a=rr(a=Sm(null,s,o,a,l),o.attrs,l),g=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==d)if(a=Sm(d,s,o,a,l),null===g){let C=function Tm(s,o,a){const l=a?o.classBindings:o.styleBindings;if(0!==ru(l))return s[To(l)]}(s,o,l);void 0!==C&&Array.isArray(C)&&(C=Sm(null,s,o,C[1],l),C=rr(C,o.attrs,l),function Am(s,o,a,l){s[To(a?o.classBindings:o.styleBindings)]=l}(s,o,l,C))}else g=function Lw(s,o,a){let l;const d=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<d;g++)l=rr(l,s[g].hostAttrs,a);return rr(l,o.attrs,a)}(s,o,l)}return void 0!==g&&(l?o.residualClasses=g:o.residualStyles=g),a}(d,g,o,l),function Cm(s,o,a,l,d,g){let v=g?o.classBindings:o.styleBindings,w=To(v),C=ru(v);s[l]=a;let M,A=!1;if(Array.isArray(a)){const k=a;M=k[1],(null===M||Bs(k,M)>0)&&(A=!0)}else M=a;if(d)if(0!==C){const U=To(s[w+1]);s[l+1]=il(U,w),0!==U&&(s[U+1]=Tr(s[U+1],l)),s[w+1]=function zD(s,o){return 131071&s|o<<17}(s[w+1],l)}else s[l+1]=il(w,0),0!==w&&(s[w+1]=Tr(s[w+1],l)),w=l;else s[l+1]=il(C,0),0===w?w=l:s[C+1]=Tr(s[C+1],l),C=l;A&&(s[l+1]=E_(s[l+1])),mv(s,M,l,!0),mv(s,M,l,!1),function qf(s,o,a,l,d){const g=d?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&Bs(g,o)>=0&&(a[l+1]=Ar(a[l+1]))}(o,M,s,l,g),v=il(w,C),g?o.classBindings=v:o.styleBindings=v}(d,g,o,a,v,l)}}function Sm(s,o,a,l,d){let g=null;const v=a.directiveEnd;let w=a.directiveStylingLast;for(-1===w?w=a.directiveStart:w++;w<v&&(g=o[w],l=rr(l,g.hostAttrs,d),g!==s);)w++;return null!==s&&(a.directiveStylingLast=w),l}function rr(s,o,a){const l=a?1:2;let d=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?d=v:d===l&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Qn(s,v,!!a||o[++g]))}return void 0===s?null:s}function wv(s,o,a,l,d,g,v,w){if(!(3&o.type))return;const C=s.data,A=C[w+1];Mm(function mf(s){return 1==(1&s)}(A)?Bw(C,o,a,d,ru(A),v):void 0)||(Mm(g)||function qg(s){return 2==(2&s)}(A)&&(g=Bw(C,null,a,d,w,v)),function $D(s,o,a,l,d){const g=on(s);if(o)d?g?s.addClass(a,l):a.classList.add(l):g?s.removeClass(a,l):a.classList.remove(l);else{let v=-1===l.indexOf("-")?void 0:T.DashCase;if(null==d)g?s.removeStyle(a,l,v):a.style.removeProperty(l);else{const w="string"==typeof d&&d.endsWith("!important");w&&(d=d.slice(0,-10),v|=T.Important),g?s.setStyle(a,l,d,v):a.style.setProperty(l,d,w?"important":"")}}}(l,v,Ns(Zn(),a),d,g))}function Bw(s,o,a,l,d,g){const v=null===o;let w;for(;d>0;){const C=s[d],A=Array.isArray(C),M=A?C[1]:C,k=null===M;let U=a[d+1];U===Rt&&(U=k?V:void 0);let Q=k?za(U,l):M===l?U:void 0;if(A&&!Mm(Q)&&(Q=za(C,l)),Mm(Q)&&(w=Q,v))return w;const _e=s[d+1];d=v?To(_e):ru(_e)}if(null!==o){let C=g?o.residualClasses:o.residualStyles;null!=C&&(w=za(C,l))}return w}function Mm(s){return void 0!==s}function Uw(s,o){return 0!=(s.flags&(o?16:32))}function yu(s,o=""){const a=Me(),l=kt(),d=s+20,g=l.firstCreatePass?sl(l,d,1,o,null):l.data[d],v=a[d]=function Od(s,o){return on(s)?s.createText(o):s.createTextNode(o)}(a[11],o);Bg(l,a,v,g),ri(g,!1)}function El(s){return xm("",s,""),El}function xm(s,o,a){const l=Me(),d=function Kd(s,o,a,l){return Zr(s,Os(),a)?o+fe(a)+l:Rt}(l,s,o,a);return d!==Rt&&ga(l,Zn(),d),xm}const vn=void 0;var km=["en",[["a","p"],["AM","PM"],vn],[["AM","PM"],vn,vn],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],vn,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],vn,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",vn,"{1} 'at' {0}",vn],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Pm(s){const a=Math.floor(Math.abs(s)),l=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let rh={};function Nv(s){const o=function Xw(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=ih(o);if(a)return a;const l=o.split("-")[0];if(a=ih(l),a)return a;if("en"===l)return km;throw new Error(`Missing locale data for the locale "${s}".`)}function Ov(s){return Nv(s)[wt.PluralCase]}function ih(s){return s in rh||(rh[s]=jt.ng&&jt.ng.common&&jt.ng.common.locales&&jt.ng.common.locales[s]),rh[s]}var wt=(()=>((wt=wt||{})[wt.LocaleId=0]="LocaleId",wt[wt.DayPeriodsFormat=1]="DayPeriodsFormat",wt[wt.DayPeriodsStandalone=2]="DayPeriodsStandalone",wt[wt.DaysFormat=3]="DaysFormat",wt[wt.DaysStandalone=4]="DaysStandalone",wt[wt.MonthsFormat=5]="MonthsFormat",wt[wt.MonthsStandalone=6]="MonthsStandalone",wt[wt.Eras=7]="Eras",wt[wt.FirstDayOfWeek=8]="FirstDayOfWeek",wt[wt.WeekendRange=9]="WeekendRange",wt[wt.DateFormat=10]="DateFormat",wt[wt.TimeFormat=11]="TimeFormat",wt[wt.DateTimeFormat=12]="DateTimeFormat",wt[wt.NumberSymbols=13]="NumberSymbols",wt[wt.NumberFormats=14]="NumberFormats",wt[wt.CurrencyCode=15]="CurrencyCode",wt[wt.CurrencySymbol=16]="CurrencySymbol",wt[wt.CurrencyName=17]="CurrencyName",wt[wt.Currencies=18]="Currencies",wt[wt.Directionality=19]="Directionality",wt[wt.PluralCase=20]="PluralCase",wt[wt.ExtraData=21]="ExtraData",wt))();const oh="en-US";let _u=oh;function de(s,o,a,l,d){if(s=te(s),Array.isArray(s))for(let g=0;g<s.length;g++)de(s[g],o,a,l,d);else{const g=kt(),v=Me();let w=Hd(s)?s:te(s.provide),C=Nf(s);const A=hn(),M=1048575&A.providerIndexes,k=A.directiveStart,U=A.providerIndexes>>20;if(Hd(s)||!s.multi){const Q=new Fu(C,d,vt),_e=Gv(w,o,d?M:M+U,k);-1===_e?(cr(Rn(A,v),g,w),dh(g,s,o.length),o.push(w),A.directiveStart++,A.directiveEnd++,d&&(A.providerIndexes+=1048576),a.push(Q),v.push(Q)):(a[_e]=Q,v[_e]=Q)}else{const Q=Gv(w,o,M+U,k),_e=Gv(w,o,M,M+U),Ae=Q>=0&&a[Q],Fe=_e>=0&&a[_e];if(d&&!Fe||!d&&!Ae){cr(Rn(A,v),g,w);const Ze=function Bc(s,o,a,l,d){const g=new Fu(s,a,vt);return g.multi=[],g.index=o,g.componentProviders=0,Js(g,d,l&&!a),g}(d?Vc:sp,a.length,d,l,C);!d&&Fe&&(a[_e].providerFactory=Ze),dh(g,s,o.length,0),o.push(w),A.directiveStart++,A.directiveEnd++,d&&(A.providerIndexes+=1048576),a.push(Ze),v.push(Ze)}else dh(g,s,Q>-1?Q:_e,Js(a[d?_e:Q],C,!d&&l));!d&&l&&Fe&&a[_e].componentProviders++}}}function dh(s,o,a,l){const d=Hd(o),g=function lI(s){return!!s.useClass}(o);if(d||g){const C=(g?te(o.useClass):o).prototype.ngOnDestroy;if(C){const A=s.destroyHooks||(s.destroyHooks=[]);if(!d&&o.multi){const M=A.indexOf(a);-1===M?A.push(a,[l,C]):A[M+1].push(l,C)}else A.push(a,C)}}}function Js(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function Gv(s,o,a,l){for(let d=a;d<l;d++)if(o[d]===s)return d;return-1}function sp(s,o,a,l){return qv(this.multi,[])}function Vc(s,o,a,l){const d=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,w=ra(a,a[1],this.providerFactory.index,l);g=w.slice(0,v),qv(d,g);for(let C=v;C<w.length;C++)g.push(w[C])}else g=[],qv(d,g);return g}function qv(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function zv(s,o=[]){return a=>{a.providersResolver=(l,d)=>function vb(s,o,a){const l=kt();if(l.firstCreatePass){const d=$i(s);de(a,l.data,l.blueprint,d,!0),de(o,l.data,l.blueprint,d,!1)}}(l,d?d(s):s,o)}}class Kv{}class Zv{resolveComponentFactory(o){throw function Br(s){const o=Error(`No component factory found for ${oe(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Ro=(()=>{class s{}return s.NULL=new Zv,s})();function wb(){return hh(hn(),Me())}function hh(s,o){return new fh(ur(s,o))}let fh=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=wb,s})();function jm(s){return s instanceof fh?s.nativeElement:s}class Dl{}let gh=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function bb(){const s=Me(),a=lr(hn().index,s);return function op(s){return s[11]}(Hr(a)?a:s)}(),s})(),Yv=(()=>{class s{}return s.\u0275prov=Qt({token:s,providedIn:"root",factory:()=>null}),s})();class $m{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Qv=new $m("13.2.7"),Jv={};function ap(s,o,a,l,d=!1){for(;null!==a;){const g=o[a.index];if(null!==g&&l.push(Jt(g)),Ui(g))for(let w=10;w<g.length;w++){const C=g[w],A=C[1].firstChild;null!==A&&ap(C[1],C,A,l)}const v=a.type;if(8&v)ap(s,o,a.child,l);else if(32&v){const w=K(a,o);let C;for(;C=w();)l.push(C)}else if(16&v){const w=VE(o,a);if(Array.isArray(w))l.push(...w);else{const C=Ye(o[16]);ap(C[1],C,w,l,!0)}}a=d?a.projectionNext:a.next}return l}class mh{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return ap(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Ui(o)){const a=o[8],l=a?a.indexOf(this):-1;l>-1&&(l_(o,l),_o(a,l))}this._attachedToViewContainer=!1}c_(this._lView[1],this._lView)}onDestroy(o){Xg(this._lView[1],this._lView,null,o)}markForCheck(){sm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Af(this._lView[1],this._lView,this.context)}checkNoChanges(){!function H_(s,o,a){Ou(!0);try{Af(s,o,a)}finally{Ou(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Pe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function pf(s,o){Ug(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Pe(902,"");this._appRef=o}}class Xv extends mh{constructor(o){super(o),this._view=o}detectChanges(){om(this._view)}checkNoChanges(){!function am(s){Ou(!0);try{om(s)}finally{Ou(!1)}}(this._view)}get context(){return null}}class yh extends Ro{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=jn(o);return new e0(a,this.ngModule)}}function Il(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class e0 extends Kv{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function nu(s){return s.map(qD).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Il(this.componentDef.inputs)}get outputs(){return Il(this.componentDef.outputs)}create(o,a,l,d){const g=(d=d||this.ngModule)?function Cb(s,o){return{get:(a,l,d)=>{const g=s.get(a,Jv,d);return g!==Jv||l===Jv?g:o.get(a,l,d)}}}(o,d.injector):o,v=g.get(Dl,Ma),w=g.get(Yv,null),C=v.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",M=l?function Df(s,o,a){if(on(s))return s.selectRootElement(o,a===Wt.ShadowDom);let l="string"==typeof o?s.querySelector(o):o;return l.textContent="",l}(C,l,this.componentDef.encapsulation):kd(v.createRenderer(null,this.componentDef),A,function mT(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(A)),k=this.componentDef.onPush?576:528,U=function Lf(s,o){return{components:[],scheduler:s||a_,clean:aI,playerHandler:o||null,flags:0}}(),Q=Ud(0,null,null,1,0,null,null,null,null,null),_e=mc(null,Q,U,k,null,null,v,C,w,g);let Ae,Fe;Ko(_e);try{const Ze=function Ff(s,o,a,l,d,g){const v=a[1];a[20]=s;const C=sl(v,20,2,"#host",null),A=C.mergedAttrs=o.hostAttrs;null!==A&&(cm(C,A,!0),null!==s&&(it(d,s,A),null!==C.classes&&v_(d,s,C.classes),null!==C.styles&&UE(d,s,C.styles)));const M=l.createRenderer(s,o),k=mc(a,Jg(o),null,o.onPush?64:16,a[20],C,l,M,g||null,null);return v.firstCreatePass&&(cr(Rn(C,a),v,o.type),$_(v,C),rw(C,a.length,1)),$d(a,k),a[20]=k}(M,this.componentDef,_e,v,C);if(M)if(l)it(C,M,["ng-version",Qv.full]);else{const{attrs:xe,classes:mt}=function st(s){const o=[],a=[];let l=1,d=2;for(;l<s.length;){let g=s[l];if("string"==typeof g)2===d?""!==g&&o.push(g,s[++l]):8===d&&a.push(g);else{if(!Xn(d))break;d=g}l++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);xe&&it(C,M,xe),mt&&mt.length>0&&v_(C,M,mt.join(" "))}if(Fe=pn(Q,20),void 0!==a){const xe=Fe.projection=[];for(let mt=0;mt<this.ngContentSelectors.length;mt++){const Bt=a[mt];xe.push(null!=Bt?Array.from(Bt):null)}}Ae=function qd(s,o,a,l,d){const g=a[1],v=function em(s,o,a){const l=hn();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),_c(s,l,o,yc(s,o,1,null),a));const d=ra(o,s,l.directiveStart,l);fr(d,o);const g=ur(l,o);return g&&fr(g,o),d}(g,a,o);if(l.components.push(v),s[8]=v,d&&d.forEach(C=>C(v,o)),o.contentQueries){const C=hn();o.contentQueries(1,v,C.directiveStart)}const w=hn();return!g.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Ki(w.index),tm(a[1],w,0,w.directiveStart,w.directiveEnd,o),j_(o,v)),v}(Ze,this.componentDef,_e,U,[ev]),Vd(Q,_e,null)}finally{Yo()}return new up(this.componentType,Ae,hh(Fe,_e),_e,Fe)}}class up extends class Wv{}{constructor(o,a,l,d,g){super(),this.location=l,this._rootLView=d,this._tNode=g,this.instance=a,this.hostView=this.changeDetectorRef=new Xv(d),this.componentType=o}get injector(){return new go(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class Xs{}class t0{}const _h=new Map;class lp extends Xs{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new yh(this);const l=$n(o);this._bootstrapComponents=gs(l.bootstrap),this._r3Injector=K_(o,a,[{provide:Xs,useValue:this},{provide:Ro,useValue:this.componentFactoryResolver}],oe(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,a=qs.THROW_IF_NOT_FOUND,l=yt.Default){return o===qs||o===Xs||o===bc?this:this._r3Injector.get(o,a,l)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class vh extends t0{constructor(o){super(),this.moduleType=o,null!==$n(o)&&function Gm(s){const o=new Set;!function a(l){const d=$n(l,!0),g=d.id;null!==g&&(function Hm(s,o,a){if(o&&o!==a)throw new Error(`Duplicate module registered for ${s} - ${oe(o)} vs ${oe(o.name)}`)}(g,_h.get(g),l),_h.set(g,l));const v=gs(d.imports);for(const w of v)o.has(w)||(o.add(w),a(w))}(s)}(o)}create(o){return new lp(this.moduleType,o)}}function Pi(s,o,a,l){return $c(Me(),Mn(),s,o,a,l)}function cp(s,o){const a=s[o];return a===Rt?void 0:a}function $c(s,o,a,l,d,g){const v=o+a;return Zr(s,v,d)?zs(s,v+1,g?l.call(g,d):l(d)):cp(s,v+1)}function s0(s,o,a,l,d,g,v){const w=o+a;return function cu(s,o,a,l){const d=Zr(s,o,a);return Zr(s,o+1,l)||d}(s,w,d,g)?zs(s,w+2,v?l.call(v,d,g):l(d,g)):cp(s,w+2)}function o0(s,o){const a=kt();let l;const d=s+20;a.firstCreatePass?(l=function _T(s,o){if(o)for(let a=o.length-1;a>=0;a--){const l=o[a];if(s===l.name)return l}}(o,a.pipeRegistry),a.data[d]=l,l.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(d,l.onDestroy)):l=a.data[d];const g=l.factory||(l.factory=Cr(l.type)),v=An(vt);try{const w=Ai(!1),C=g();return Ai(w),function bw(s,o,a,l){a>=s.data.length&&(s.data[a]=null,s.blueprint[a]=null),o[a]=l}(a,Me(),d,C),C}finally{An(v)}}function Sb(s,o,a){const l=s+20,d=Me(),g=qi(d,l);return dp(d,l)?$c(d,Mn(),o,g.transform,a,g):g.transform(a)}function Mb(s,o,a,l){const d=s+20,g=Me(),v=qi(g,d);return dp(g,d)?s0(g,Mn(),o,v.transform,a,l,v):v.transform(a,l)}function dp(s,o){return s[1].data[o].pure}function Zm(s){return o=>{setTimeout(s,void 0,o)}}const Ei=class ET extends h.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,l){var d,g,v;let w=o,C=a||(()=>null),A=l;if(o&&"object"==typeof o){const k=o;w=null===(d=k.next)||void 0===d?void 0:d.bind(k),C=null===(g=k.error)||void 0===g?void 0:g.bind(k),A=null===(v=k.complete)||void 0===v?void 0:v.bind(k)}this.__isAsync&&(C=Zm(C),w&&(w=Zm(w)),A&&(A=Zm(A)));const M=super.subscribe({next:w,error:C,complete:A});return o instanceof X.w0&&o.add(M),M}};function hp(){return this._results[Ic()]()}class Ym{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Ic(),l=Ym.prototype;l[a]||(l[a]=hp)}get changes(){return this._changes||(this._changes=new Ei)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const l=this;l.dirty=!1;const d=oi(o);(this._changesDetected=!function nc(s,o,a){if(s.length!==o.length)return!1;for(let l=0;l<s.length;l++){let d=s[l],g=o[l];if(a&&(d=a(d),g=a(g)),g!==d)return!1}return!0}(l._results,d,a))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let wh=(()=>{class s{}return s.__NG_ELEMENT_ID__=a0,s})();const wT=wh,Rb=class extends wT{constructor(o,a,l){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(o){const a=this._declarationTContainer.tViews,l=mc(this._declarationLView,a,o,16,null,a.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(l[19]=g.createEmbeddedView(a)),Vd(a,l,o),new mh(l)}};function a0(){return bh(hn(),Me())}function bh(s,o){return 4&s.type?new Rb(o,s,hh(s,o)):null}let Sl=(()=>{class s{}return s.__NG_ELEMENT_ID__=Qm,s})();function Qm(){return Ob(hn(),Me())}const u0=Sl,Nb=class extends u0{constructor(o,a,l){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=l}get element(){return hh(this._hostTNode,this._hostLView)}get injector(){return new go(this._hostTNode,this._hostLView)}get parentInjector(){const o=Ps(this._hostTNode,this._hostLView);if(pd(o)){const a=un(o,this._hostLView),l=Zi(o);return new go(a[1].data[l+8],a)}return new go(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=Jm(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,l){const d=o.createEmbeddedView(a||{});return this.insert(d,l),d}createComponent(o,a,l,d,g){const v=o&&!function yo(s){return"function"==typeof s}(o);let w;if(v)w=a;else{const k=a||{};w=k.index,l=k.injector,d=k.projectableNodes,g=k.ngModuleRef}const C=v?o:new e0(jn(o)),A=l||this.parentInjector;if(!g&&null==C.ngModule){const U=(v?A:this.parentInjector).get(Xs,null);U&&(g=U)}const M=C.create(A,d,void 0,g);return this.insert(M.hostView,w),M}insert(o,a){const l=o._lView,d=l[1];if(function Ra(s){return Ui(s[3])}(l)){const M=this.indexOf(o);if(-1!==M)this.detach(M);else{const k=l[3],U=new Nb(k,k[6],k[3]);U.detach(U.indexOf(o))}}const g=this._adjustIndex(a),v=this._lContainer;!function fc(s,o,a,l){const d=10+l,g=a.length;l>0&&(a[d-1][4]=o),l<g-10?(o[4]=a[d],sa(a,10+l,o)):(a.push(o),o[4]=null),o[3]=a;const v=o[17];null!==v&&a!==v&&function nl(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(v,o);const w=o[19];null!==w&&w.insertView(s),o[2]|=128}(d,l,v,g);const w=g_(g,v),C=l[11],A=Xi(C,v[7]);return null!==A&&function ff(s,o,a,l,d,g){l[0]=d,l[6]=o,Ug(s,l,a,1,d,g)}(d,v[6],C,l,A,w),o.attachToViewContainerRef(),sa(Xm(v),g,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=Jm(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),l=l_(this._lContainer,a);l&&(_o(Xm(this._lContainer),a),c_(l[1],l))}detach(o){const a=this._adjustIndex(o,-1),l=l_(this._lContainer,a);return l&&null!=_o(Xm(this._lContainer),a)?new mh(l):null}_adjustIndex(o,a=0){return null==o?this.length+a:o}};function Jm(s){return s[8]}function Xm(s){return s[8]||(s[8]=[])}function Ob(s,o){let a;const l=o[s.index];if(Ui(l))a=l;else{let d;if(8&s.type)d=Jt(l);else{const g=o[11];d=g.createComment("");const v=ur(s,o);ms(g,Xi(g,v),d,function jD(s,o){return on(s)?s.nextSibling(o):o.nextSibling}(g,v),!1)}o[s.index]=a=jd(l,o,d,s),$d(o,a)}return new Nb(a,s,o)}class l0{constructor(o){this.queryList=o,this.matches=null}clone(){return new l0(this.queryList)}setDirty(){this.queryList.setDirty()}}class ey{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const l=null!==o.contentQueries?o.contentQueries[0]:a.length,d=[];for(let g=0;g<l;g++){const v=a.getByIndex(g);d.push(this.queries[v.indexInDeclarationView].clone())}return new ey(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==Nr(o,a).matches&&this.queries[a].setDirty()}}class Lb{constructor(o,a,l=null){this.predicate=o,this.flags=a,this.read=l}}class ty{constructor(o=[]){this.queries=o}elementStart(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let l=0;l<this.length;l++){const d=null!==a?a.length:0,g=this.getByIndex(l).embeddedTView(o,d);g&&(g.indexInDeclarationView=l,null!==a?a.push(g):a=[g])}return null!==a?new ty(a):null}template(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class c0{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new c0(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const g=l[d];this.matchTNodeWithReadOption(o,a,Ch(a,g)),this.matchTNodeWithReadOption(o,a,po(a,o,g,!1,!1))}else l===wh?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,po(a,o,l,!1,!1))}matchTNodeWithReadOption(o,a,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===fh||d===Sl||d===wh&&4&a.type)this.addMatch(a.index,-2);else{const g=po(a,o,d,!1,!1);null!==g&&this.addMatch(a.index,g)}else this.addMatch(a.index,l)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function Ch(s,o){const a=s.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===o)return a[l+1];return null}function d0(s,o,a,l){return-1===a?function Dh(s,o){return 11&s.type?hh(s,o):4&s.type?bh(s,o):null}(o,s):-2===a?function ny(s,o,a){return a===fh?hh(o,s):a===wh?bh(o,s):a===Sl?Ob(o,s):void 0}(s,o,l):ra(s,s[1],a,o)}function h0(s,o,a,l){const d=o[19].queries[l];if(null===d.matches){const g=s.data,v=a.matches,w=[];for(let C=0;C<v.length;C+=2){const A=v[C];w.push(A<0?null:d0(o,g[A],v[C+1],a.metadata.read))}d.matches=w}return d.matches}function ry(s,o,a,l){const d=s.queries.getByIndex(a),g=d.matches;if(null!==g){const v=h0(s,o,d,a);for(let w=0;w<g.length;w+=2){const C=g[w];if(C>0)l.push(v[w/2]);else{const A=g[w+1],M=o[-C];for(let k=10;k<M.length;k++){const U=M[k];U[17]===U[3]&&ry(U[1],U,A,l)}if(null!==M[9]){const k=M[9];for(let U=0;U<k.length;U++){const Q=k[U];ry(Q[1],Q,A,l)}}}}}return l}function f0(s){const o=Me(),a=kt(),l=Zl();Va(l+1);const d=Nr(a,l);if(s.dirty&&uo(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const g=d.crossesNgTemplate?ry(a,o,l,[]):h0(a,o,d,l);s.reset(g,jm),s.notifyOnChanges()}return!0}return!1}function iy(s,o,a,l){const d=kt();if(d.firstCreatePass){const g=hn();(function Ub(s,o,a){null===s.queries&&(s.queries=new ty),s.queries.track(new c0(o,a))})(d,new Lb(o,a,l),g.index),function g0(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(d,s),2==(2&a)&&(d.staticContentQueries=!0)}!function Bb(s,o,a){const l=new Ym(4==(4&a));Xg(s,o,l,l.destroy),null===o[19]&&(o[19]=new ey),o[19].queries.push(new l0(l))}(d,Me(),a)}function Vb(){return function p0(s,o){return s[19].queries[o].queryList}(Me(),Zl())}function Nr(s,o){return s.queries.getByIndex(o)}function py(...s){}const b0=new fn("Application Initializer");let gy=(()=>{class s{constructor(a){this.appInits=a,this.resolve=py,this.reject=py,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const g=this.appInits[d]();if(pu(g))a.push(g);else if(fv(g)){const v=new Promise((w,C)=>{g.subscribe({complete:w,error:C})});a.push(v)}}Promise.all(a).then(()=>{l()}).catch(d=>{this.reject(d)}),0===a.length&&l(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(Be(b0,8))},s.\u0275prov=Qt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Xb=new fn("AppId",{providedIn:"root",factory:function my(){return`${Cp()}${Cp()}${Cp()}`}});function Cp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const eC=new fn("Platform Initializer"),yy=new fn("Platform ID"),tC=new fn("appBootstrapListener");let C0=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Qt({token:s,factory:s.\u0275fac}),s})();const Dp=new fn("LocaleId",{providedIn:"root",factory:()=>ht(Dp,yt.Optional|yt.SkipSelf)||function D0(){return"undefined"!=typeof $localize&&$localize.locale||oh}()}),I0=new fn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Ah{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let Sh=(()=>{class s{compileModuleSync(a){return new vh(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),g=gs($n(a).declarations).reduce((v,w)=>{const C=jn(w);return C&&v.push(new e0(C)),v},[]);return new Ah(l,g)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Qt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const NT=(()=>Promise.resolve(0))();function T0(s){"undefined"==typeof Zone?NT.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Es{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ei(!1),this.onMicrotaskEmpty=new Ei(!1),this.onStable=new Ei(!1),this.onError=new Ei(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&a,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function A0(){let s=jt.requestAnimationFrame,o=jt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function PT(s){const o=()=>{!function OT(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(jt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Sp(s),s.isCheckStableRunning=!0,Ap(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Sp(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,d,g,v,w)=>{try{return _y(s),a.invokeTask(d,g,v,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),sC(s)}},onInvoke:(a,l,d,g,v,w,C)=>{try{return _y(s),a.invoke(d,g,v,w,C)}finally{s.shouldCoalesceRunChangeDetection&&o(),sC(s)}},onHasTask:(a,l,d,g)=>{a.hasTask(d,g),l===d&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,Sp(s),Ap(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(a,l,d,g)=>(a.handleError(d,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(d)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Es.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Es.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,a,l){return this._inner.run(o,a,l)}runTask(o,a,l,d){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+d,o,S0,py,py);try{return g.runTask(v,a,l)}finally{g.cancelTask(v)}}runGuarded(o,a,l){return this._inner.runGuarded(o,a,l)}runOutsideAngular(o){return this._outer.run(o)}}const S0={};function Ap(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Sp(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function _y(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function sC(s){s._nesting--,Ap(s)}class oC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ei,this.onMicrotaskEmpty=new Ei,this.onStable=new Ei,this.onError=new Ei}run(o,a,l){return o.apply(a,l)}runGuarded(o,a,l){return o.apply(a,l)}runOutsideAngular(o){return o()}runTask(o,a,l,d){return o.apply(a,l)}}let aC=(()=>{class s{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Es.assertNotInAngularZone(),T0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())T0(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,d){let g=-1;l&&l>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:d})}whenStable(a,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,l,d){return[]}}return s.\u0275fac=function(a){return new(a||s)(Be(Es))},s.\u0275prov=Qt({token:s,factory:s.\u0275fac}),s})(),M0=(()=>{class s{constructor(){this._applications=new Map,vy.addToWindow(this)}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return vy.findTestabilityInTree(this,a,l)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Qt({token:s,factory:s.\u0275fac}),s})();class uC{addToWindow(o){}findTestabilityInTree(o,a,l){return null}}function lC(s){vy=s}let No,vy=new uC;const Ey=new fn("AllowMultipleToken");class x0{constructor(o,a){this.name=o,this.token=a}}function cC(s,o,a=[]){const l=`Platform: ${o}`,d=new fn(l);return(g=[])=>{let v=wy();if(!v||v.injector.get(Ey,!1))if(s)s(a.concat(g).concat({provide:d,useValue:!0}));else{const w=a.concat(g).concat({provide:d,useValue:!0},{provide:xf,useValue:"platform"});!function R0(s){if(No&&!No.destroyed&&!No.injector.get(Ey,!1))throw new Pe(400,"");No=s.get(O0);const o=s.get(eC,null);o&&o.forEach(a=>a())}(qs.create({providers:w,name:l}))}return function N0(s){const o=wy();if(!o)throw new Pe(401,"");return o}()}}function wy(){return No&&!No.destroyed?No:null}let O0=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const w=function P0(s,o){let a;return a="noop"===s?new oC:("zone.js"===s?void 0:s)||new Es({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),a}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),C=[{provide:Es,useValue:w}];return w.run(()=>{const A=qs.create({providers:C,parent:this.injector,name:a.moduleType.name}),M=a.create(A),k=M.injector.get(Rd,null);if(!k)throw new Pe(402,"");return w.runOutsideAngular(()=>{const U=w.onError.subscribe({next:Q=>{k.handleError(Q)}});M.onDestroy(()=>{k0(this._modules,M),U.unsubscribe()})}),function dC(s,o,a){try{const l=a();return pu(l)?l.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):l}catch(l){throw o.runOutsideAngular(()=>s.handleError(l)),l}}(k,w,()=>{const U=M.injector.get(gy);return U.runInitializers(),U.donePromise.then(()=>(function $I(s){Ut(s,"Expected localeId to be defined"),"string"==typeof s&&(_u=s.toLowerCase().replace(/_/g,"-"))}(M.injector.get(Dp,oh)||oh),this._moduleDoBootstrap(M),M))})})}bootstrapModule(a,l=[]){const d=hC({},l);return function kT(s,o,a){const l=new vh(a);return Promise.resolve(l)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,d))}_moduleDoBootstrap(a){const l=a.injector.get(Mp);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Pe(403,"");a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Pe(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(Be(qs))},s.\u0275prov=Qt({token:s,factory:s.\u0275fac}),s})();function hC(s,o){return Array.isArray(o)?o.reduce(hC,s):Object.assign(Object.assign({},s),o)}let Mp=(()=>{class s{constructor(a,l,d,g,v){this._zone=a,this._injector=l,this._exceptionHandler=d,this._componentFactoryResolver=g,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new P.y(A=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{A.next(this._stable),A.complete()})}),C=new P.y(A=>{let M;this._zone.runOutsideAngular(()=>{M=this._zone.onStable.subscribe(()=>{Es.assertNotInAngularZone(),T0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,A.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{Es.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{A.next(!1)}))});return()=>{M.unsubscribe(),k.unsubscribe()}});this.isStable=(0,le.T)(w,C.pipe((0,re.B)()))}bootstrap(a,l){if(!this._initStatus.done)throw new Pe(405,"");let d;d=a instanceof Kv?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(d.componentType);const g=function FT(s){return s.isBoundToModule}(d)?void 0:this._injector.get(Xs),w=d.create(qs.NULL,[],l||d.selector,g),C=w.location.nativeElement,A=w.injector.get(aC,null),M=A&&w.injector.get(M0);return A&&M&&M.registerApplication(C,A),w.onDestroy(()=>{this.detachView(w.hostView),k0(this.components,w),M&&M.unregisterApplication(C)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Pe(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;k0(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(tC,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(a){return new(a||s)(Be(Es),Be(qs),Be(Rd),Be(Ro),Be(gy))},s.\u0275prov=Qt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function k0(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let Cy=!0,fC=!1;function F0(){return fC=!0,Cy}function L0(){if(fC)throw new Error("Cannot enable prod mode after platform setup.");Cy=!1}let B0=(()=>{class s{}return s.__NG_ELEMENT_ID__=VT,s})();function VT(s){return function U0(s,o,a){if(Jc(s)&&!a){const l=lr(s.index,o);return new mh(l,l)}return 47&s.type?new mh(o[16],o):null}(hn(),Me(),16==(16&s))}class Ay{constructor(){}supports(o){return Wd(o)}create(o){return new bC(o)}}const jT=(s,o)=>o;class bC{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||jT}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,l=this._removalsHead,d=0,g=null;for(;a||l;){const v=!l||a&&a.currentIndex<G0(l,d,g)?a:l,w=G0(v,d,g),C=v.currentIndex;if(v===l)d--,l=l._nextRemoved;else if(a=a._next,null==v.previousIndex)d++;else{g||(g=[]);const A=w-d,M=C-d;if(A!=M){for(let U=0;U<A;U++){const Q=U<g.length?g[U]:g[U]=0,_e=Q+U;M<=_e&&_e<A&&(g[U]=Q+1)}g[v.previousIndex]=M-A}}w!==C&&o(v,w,C)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Wd(o))throw new Pe(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,g,v,a=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)g=o[w],v=this._trackByFn(w,g),null!==a&&Object.is(a.trackById,v)?(l&&(a=this._verifyReinsertion(a,g,v,w)),Object.is(a.item,g)||this._addIdentityChange(a,g)):(a=this._mismatch(a,g,v,w),l=!0),a=a._next}else d=0,function ww(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[Ic()]();let l;for(;!(l=a.next()).done;)o(l.value)}}(o,w=>{v=this._trackByFn(d,w),null!==a&&Object.is(a.trackById,v)?(l&&(a=this._verifyReinsertion(a,w,v,d)),Object.is(a.item,w)||this._addIdentityChange(a,w)):(a=this._mismatch(a,w,v,d),l=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,l,d){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,g,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,g,d)):o=this._addAfter(new CC(a,l),g,d),o}_verifyReinsertion(o,a,l,d){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==g?o=this._reinsertAfter(g,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,g=o._nextRemoved;return null===d?this._removalsHead=g:d._nextRemoved=g,null===g?this._removalsTail=d:g._prevRemoved=d,this._insertAfter(o,a,l),this._addToMoves(o,l),o}_moveAfter(o,a,l){return this._unlink(o),this._insertAfter(o,a,l),this._addToMoves(o,l),o}_addAfter(o,a,l){return this._insertAfter(o,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,l){const d=null===a?this._itHead:a._next;return o._next=d,o._prev=a,null===d?this._itTail=o:d._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new Sy),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,l=o._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Sy),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class CC{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class $T{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const a=o._prevDup,l=o._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class Sy{constructor(){this.map=new Map}put(o){const a=o.trackById;let l=this.map.get(a);l||(l=new $T,this.map.set(a,l)),l.add(o)}get(o,a){const d=this.map.get(o);return d?d.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function G0(s,o,a){const l=s.previousIndex;if(null===l)return l;let d=0;return a&&l<a.length&&(d=a[l]),l+o+d}class Np{constructor(){}supports(o){return o instanceof Map||tv(o)}create(){return new HT}}class HT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||tv(o)))throw new Pe(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const g=this._getOrCreateRecordForKey(d,l);a=this._insertBeforeOrAppend(a,g)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const l=o._prev;return a._next=o,a._prev=l,o._prev=a,l&&(l._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,a);const g=d._prev,v=d._next;return g&&(g._next=v),v&&(v._prev=g),d._next=null,d._prev=null,d}const l=new GT(o);return this._records.set(o,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(l=>a(o[l],l))}}class GT{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function DC(){return new q0([new Ay])}let q0=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(null!=l){const d=l.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||DC()),deps:[[s,new ci,new ui]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(null!=l)return l;throw new Pe(901,"")}}return s.\u0275prov=Qt({token:s,providedIn:"root",factory:DC}),s})();function My(){return new xy([new Np])}let xy=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(l){const d=l.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||My()),deps:[[s,new ci,new ui]]}}find(a){const l=this.factories.find(g=>g.supports(a));if(l)return l;throw new Pe(901,"")}}return s.\u0275prov=Qt({token:s,providedIn:"root",factory:My}),s})();const AC=cC(null,"core",[{provide:yy,useValue:"unknown"},{provide:O0,deps:[qs]},{provide:M0,deps:[]},{provide:C0,deps:[]}]);let Z0=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(Be(Mp))},s.\u0275mod=kr({type:s}),s.\u0275inj=Zt({}),s})()},3942:(rt,we,O)=>{O.d(we,{Z:()=>Pe});var h=O(2090),X=O(4859),P=O(9681),le=O(1877);class re{constructor(fe,Te){this._delegate=fe,this.firebase=Te,(0,P._addComponent)(fe,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fe){this._delegate.automaticDataCollectionEnabled=fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(fe=>{this._delegate.checkDestroyed(),fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(fe,Te=P._DEFAULT_ENTRY_NAME){var ze;this._delegate.checkDestroyed();const Je=this._delegate.container.getProvider(fe);return!Je.isInitialized()&&"EXPLICIT"===(null===(ze=Je.getComponent())||void 0===ze?void 0:ze.instantiationMode)&&Je.initialize(),Je.getImmediate({identifier:Te})}_removeServiceInstance(fe,Te=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(fe).clearInstance(Te)}_addComponent(fe){(0,P._addComponent)(this._delegate,fe)}_addOrOverwriteComponent(fe){(0,P._addOrOverwriteComponent)(this._delegate,fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ue=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function he(){const Ue=function oe(Ue){const fe={},Te={__esModule:!0,initializeApp:function Se(je,$={}){const ve=P.initializeApp(je,$);if((0,h.r3)(fe,ve.name))return fe[ve.name];const Z=new Ue(ve,Te);return fe[ve.name]=Z,Z},app:Je,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function Ce(je){const $=je.name,ve=$.replace("-compat","");if(P._registerComponent(je)&&"PUBLIC"===je.type){const Z=(ie=Je())=>{if("function"!=typeof ie[ve])throw ue.create("invalid-app-argument",{appName:$});return ie[ve]()};void 0!==je.serviceProps&&(0,h.ZB)(Z,je.serviceProps),Te[ve]=Z,Ue.prototype[ve]=function(...ie){return this._getService.bind(this,$).apply(this,je.multipleInstances?ie:[])}}return"PUBLIC"===je.type?Te[ve]:null},removeApp:function ze(je){delete fe[je]},useAsService:function $e(je,$){return"serverAuth"===$?null:$},modularAPIs:P}};function Je(je){if(!(0,h.r3)(fe,je=je||P._DEFAULT_ENTRY_NAME))throw ue.create("no-app",{appName:je});return fe[je]}return Te.default=Te,Object.defineProperty(Te,"apps",{get:function Ee(){return Object.keys(fe).map(je=>fe[je])}}),Je.App=Ue,Te}(re);return Ue.INTERNAL=Object.assign(Object.assign({},Ue.INTERNAL),{createFirebaseNamespace:he,extendNamespace:function fe(Te){(0,h.ZB)(Ue,Te)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),Ue}(),j=new le.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ue=self.firebase.SDK_VERSION;Ue&&Ue.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Pe=H;!function Re(Ue){(0,P.registerVersion)("@firebase/app-compat","0.1.25",Ue)}()},9681:(rt,we,O)=>{O.r(we),O.d(we,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>Fi,_DEFAULT_ENTRY_NAME:()=>Ut,_addComponent:()=>rn,_addOrOverwriteComponent:()=>Qt,_apps:()=>Xt,_clearComponents:()=>rs,_components:()=>Tn,_getProvider:()=>Zt,_registerComponent:()=>Or,_removeServiceInstance:()=>Vt,deleteApp:()=>yt,getApp:()=>Jr,getApps:()=>Li,initializeApp:()=>Ts,onLog:()=>An,registerVersion:()=>wn,setLogLevel:()=>to});var h=O(5861),X=O(4859),P=O(1877),le=O(2090),re=O(8766);class ge{constructor(J){this.container=J}getPlatformInfoString(){return this.container.getProviders().map(Oe=>{if(function ue(G){const J=G.getComponent();return"VERSION"===(null==J?void 0:J.type)}(Oe)){const tt=Oe.getImmediate();return`${tt.library}/${tt.version}`}return null}).filter(Oe=>Oe).join(" ")}}const oe="@firebase/app",H=new P.Yd("@firebase/app"),Ut="[DEFAULT]",Xe={[oe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Xt=new Map,Tn=new Map;function rn(G,J){try{G.container.addComponent(J)}catch(Oe){H.debug(`Component ${J.name} failed to register with FirebaseApp ${G.name}`,Oe)}}function Qt(G,J){G.container.addOrOverwriteComponent(J)}function Or(G){const J=G.name;if(Tn.has(J))return H.debug(`There were multiple attempts to register component ${J}.`),!1;Tn.set(J,G);for(const Oe of Xt.values())rn(Oe,G);return!0}function Zt(G,J){const Oe=G.container.getProvider("heartbeat").getImmediate({optional:!0});return Oe&&Oe.triggerHeartbeat(),G.container.getProvider(J)}function Vt(G,J,Oe=Ut){Zt(G,J).clearInstance(Oe)}function rs(){Tn.clear()}const yr=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Pr{constructor(J,Oe,tt){this._isDeleted=!1,this._options=Object.assign({},J),this._config=Object.assign({},Oe),this._name=Oe.name,this._automaticDataCollectionEnabled=Oe.automaticDataCollectionEnabled,this._container=tt,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(J){this.checkDestroyed(),this._automaticDataCollectionEnabled=J}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(J){this._isDeleted=J}checkDestroyed(){if(this.isDeleted)throw yr.create("app-deleted",{appName:this._name})}}const Fi="9.8.1";function Ts(G,J={}){"object"!=typeof J&&(J={name:J});const Oe=Object.assign({name:Ut,automaticDataCollectionEnabled:!1},J),tt=Oe.name;if("string"!=typeof tt||!tt)throw yr.create("bad-app-name",{appName:String(tt)});const ft=Xt.get(tt);if(ft){if((0,le.vZ)(G,ft.options)&&(0,le.vZ)(Oe,ft.config))return ft;throw yr.create("duplicate-app",{appName:tt})}const At=new X.H0(tt);for(const Dt of Tn.values())At.addComponent(Dt);const cn=new Pr(G,Oe,At);return Xt.set(tt,cn),cn}function Jr(G=Ut){const J=Xt.get(G);if(!J)throw yr.create("no-app",{appName:G});return J}function Li(){return Array.from(Xt.values())}function yt(G){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,h.Z)(function*(G){const J=G.name;Xt.has(J)&&(Xt.delete(J),yield Promise.all(G.container.getProviders().map(Oe=>Oe.delete())),G.isDeleted=!0)})).apply(this,arguments)}function wn(G,J,Oe){var tt;let ft=null!==(tt=Xe[G])&&void 0!==tt?tt:G;Oe&&(ft+=`-${Oe}`);const At=ft.match(/\s|\//),cn=J.match(/\s|\//);if(At||cn){const Dt=[`Unable to register library "${ft}" with version "${J}":`];return At&&Dt.push(`library name "${ft}" contains illegal characters (whitespace or "/")`),At&&cn&&Dt.push("and"),cn&&Dt.push(`version name "${J}" contains illegal characters (whitespace or "/")`),void H.warn(Dt.join(" "))}Or(new X.wA(`${ft}-version`,()=>({library:ft,version:J}),"VERSION"))}function An(G,J){if(null!==G&&"function"!=typeof G)throw yr.create("invalid-log-argument");(0,P.Am)(G,J)}function to(G){(0,P.Ub)(G)}const Pn="firebase-heartbeat-store";let Ci=null;function Lo(){return Ci||(Ci=(0,re.X3)("firebase-heartbeat-database",1,{upgrade:(G,J)=>{0===J&&G.createObjectStore(Pn)}}).catch(G=>{throw yr.create("storage-open",{originalErrorMessage:G.message})})),Ci}function ut(){return(ut=(0,h.Z)(function*(G){try{return(yield Lo()).transaction(Pn).objectStore(Pn).get(ti(G))}catch(J){throw yr.create("storage-get",{originalErrorMessage:J.message})}})).apply(this,arguments)}function bt(G,J){return _r.apply(this,arguments)}function _r(){return(_r=(0,h.Z)(function*(G,J){try{const tt=(yield Lo()).transaction(Pn,"readwrite");return yield tt.objectStore(Pn).put(J,ti(G)),tt.done}catch(Oe){throw yr.create("storage-set",{originalErrorMessage:Oe.message})}})).apply(this,arguments)}function ti(G){return`${G.name}!${G.options.appId}`}class vr{constructor(J){this.container=J,this._heartbeatsCache=null;const Oe=this.container.getProvider("app").getImmediate();this._storage=new z(Oe),this._heartbeatsCachePromise=this._storage.read().then(tt=>(this._heartbeatsCache=tt,tt))}triggerHeartbeat(){var J=this;return(0,h.Z)(function*(){const tt=J.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ft=Er();if(null===J._heartbeatsCache&&(J._heartbeatsCache=yield J._heartbeatsCachePromise),J._heartbeatsCache.lastSentHeartbeatDate!==ft&&!J._heartbeatsCache.heartbeats.some(At=>At.date===ft))return J._heartbeatsCache.heartbeats.push({date:ft,agent:tt}),J._heartbeatsCache.heartbeats=J._heartbeatsCache.heartbeats.filter(At=>{const cn=new Date(At.date).valueOf();return Date.now()-cn<=2592e6}),J._storage.overwrite(J._heartbeatsCache)})()}getHeartbeatsHeader(){var J=this;return(0,h.Z)(function*(){if(null===J._heartbeatsCache&&(yield J._heartbeatsCachePromise),null===J._heartbeatsCache||0===J._heartbeatsCache.heartbeats.length)return"";const Oe=Er(),{heartbeatsToSend:tt,unsentEntries:ft}=function V(G,J=1024){const Oe=[];let tt=G.slice();for(const ft of G){const At=Oe.find(cn=>cn.agent===ft.agent);if(At){if(At.dates.push(ft.date),W(Oe)>J){At.dates.pop();break}}else if(Oe.push({agent:ft.agent,dates:[ft.date]}),W(Oe)>J){Oe.pop();break}tt=tt.slice(1)}return{heartbeatsToSend:Oe,unsentEntries:tt}}(J._heartbeatsCache.heartbeats),At=(0,le.L)(JSON.stringify({version:2,heartbeats:tt}));return J._heartbeatsCache.lastSentHeartbeatDate=Oe,ft.length>0?(J._heartbeatsCache.heartbeats=ft,yield J._storage.overwrite(J._heartbeatsCache)):(J._heartbeatsCache.heartbeats=[],J._storage.overwrite(J._heartbeatsCache)),At})()}}function Er(){return(new Date).toISOString().substring(0,10)}class z{constructor(J){this.app=J,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var J=this;return(0,h.Z)(function*(){return(yield J._canUseIndexedDBPromise)&&(yield function Wt(G){return ut.apply(this,arguments)}(J.app))||{heartbeats:[]}})()}overwrite(J){var Oe=this;return(0,h.Z)(function*(){var tt;if(yield Oe._canUseIndexedDBPromise){const At=yield Oe.read();return bt(Oe.app,{lastSentHeartbeatDate:null!==(tt=J.lastSentHeartbeatDate)&&void 0!==tt?tt:At.lastSentHeartbeatDate,heartbeats:J.heartbeats})}})()}add(J){var Oe=this;return(0,h.Z)(function*(){var tt;if(yield Oe._canUseIndexedDBPromise){const At=yield Oe.read();return bt(Oe.app,{lastSentHeartbeatDate:null!==(tt=J.lastSentHeartbeatDate)&&void 0!==tt?tt:At.lastSentHeartbeatDate,heartbeats:[...At.heartbeats,...J.heartbeats]})}})()}}function W(G){return(0,le.L)(JSON.stringify({version:2,heartbeats:G})).length}!function Ie(G){Or(new X.wA("platform-logger",J=>new ge(J),"PRIVATE")),Or(new X.wA("heartbeat",J=>new vr(J),"PRIVATE")),wn(oe,"0.7.24",G),wn(oe,"0.7.24","esm2017"),wn("fire-js","")}("")},4859:(rt,we,O)=>{O.d(we,{wA:()=>P,H0:()=>oe});var h=O(5861),X=O(2090);class P{constructor(H,j,te){this.name=H,this.instanceFactory=j,this.type=te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const le="[DEFAULT]";class re{constructor(H,j){this.name=H,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const j=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(j)){const te=new X.BH;if(this.instancesDeferred.set(j,te),this.isInitialized(j)||this.shouldAutoInitialize())try{const qe=this.getOrInitializeService({instanceIdentifier:j});qe&&te.resolve(qe)}catch(qe){}}return this.instancesDeferred.get(j).promise}getImmediate(H){var j;const te=this.normalizeInstanceIdentifier(null==H?void 0:H.identifier),qe=null!==(j=null==H?void 0:H.optional)&&void 0!==j&&j;if(!this.isInitialized(te)&&!this.shouldAutoInitialize()){if(qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:te})}catch(Re){if(qe)return null;throw Re}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function ue(he){return"EAGER"===he.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:le})}catch(j){}for(const[j,te]of this.instancesDeferred.entries()){const qe=this.normalizeInstanceIdentifier(j);try{const Re=this.getOrInitializeService({instanceIdentifier:qe});te.resolve(Re)}catch(Re){}}}}clearInstance(H=le){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,h.Z)(function*(){const j=Array.from(H.instances.values());yield Promise.all([...j.filter(te=>"INTERNAL"in te).map(te=>te.INTERNAL.delete()),...j.filter(te=>"_delete"in te).map(te=>te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=le){return this.instances.has(H)}getOptions(H=le){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:j={}}=H,te=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(te))throw Error(`${this.name}(${te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const qe=this.getOrInitializeService({instanceIdentifier:te,options:j});for(const[Re,Pe]of this.instancesDeferred.entries())te===this.normalizeInstanceIdentifier(Re)&&Pe.resolve(qe);return qe}onInit(H,j){var te;const qe=this.normalizeInstanceIdentifier(j),Re=null!==(te=this.onInitCallbacks.get(qe))&&void 0!==te?te:new Set;Re.add(H),this.onInitCallbacks.set(qe,Re);const Pe=this.instances.get(qe);return Pe&&H(Pe,qe),()=>{Re.delete(H)}}invokeOnInitCallbacks(H,j){const te=this.onInitCallbacks.get(j);if(te)for(const qe of te)try{qe(H,j)}catch(Re){}}getOrInitializeService({instanceIdentifier:H,options:j={}}){let te=this.instances.get(H);if(!te&&this.component&&(te=this.component.instanceFactory(this.container,{instanceIdentifier:(he=H,he===le?void 0:he),options:j}),this.instances.set(H,te),this.instancesOptions.set(H,j),this.invokeOnInitCallbacks(te,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,te)}catch(qe){}var he;return te||null}normalizeInstanceIdentifier(H=le){return this.component?this.component.multipleInstances?H:le:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class oe{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const j=this.getProvider(H.name);if(j.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);j.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const j=new re(H,this);return this.providers.set(H,j),j}getProviders(){return Array.from(this.providers.values())}}},1877:(rt,we,O)=>{O.d(we,{in:()=>X,Yd:()=>ue,Ub:()=>oe,Am:()=>he});const h=[];var X=(()=>{return(H=X||(X={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",X;var H})();const P={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},le=X.INFO,re={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},ge=(H,j,...te)=>{if(j<H.logLevel)return;const qe=(new Date).toISOString(),Re=re[j];if(!Re)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[Re](`[${qe}]  ${H.name}:`,...te)};class ue{constructor(j){this.name=j,this._logLevel=le,this._logHandler=ge,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in X))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?P[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...j),this._logHandler(this,X.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...j),this._logHandler(this,X.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,X.INFO,...j),this._logHandler(this,X.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,X.WARN,...j),this._logHandler(this,X.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...j),this._logHandler(this,X.ERROR,...j)}}function oe(H){h.forEach(j=>{j.setLogLevel(H)})}function he(H,j){for(const te of h){let qe=null;j&&j.level&&(qe=P[j.level]),te.userLogHandler=null===H?null:(Re,Pe,...Ue)=>{const fe=Ue.map(Te=>{if(null==Te)return null;if("string"==typeof Te)return Te;if("number"==typeof Te||"boolean"==typeof Te)return Te.toString();if(Te instanceof Error)return Te.message;try{return JSON.stringify(Te)}catch(ze){return null}}).filter(Te=>Te).join(" ");Pe>=(null!=qe?qe:Re.logLevel)&&H({level:X[Pe].toLowerCase(),message:fe,args:Ue,type:Re.name})}}}},8766:(rt,we,O)=>{O.d(we,{Lj:()=>Se,X3:()=>Je});var h=O(5861);let P,le;const ue=new WeakMap,oe=new WeakMap,he=new WeakMap,H=new WeakMap,j=new WeakMap;let Re={get($,ve,Z){if($ instanceof IDBTransaction){if("done"===ve)return oe.get($);if("objectStoreNames"===ve)return $.objectStoreNames||he.get($);if("store"===ve)return Z.objectStoreNames[1]?void 0:Z.objectStore(Z.objectStoreNames[0])}return Te($[ve])},set:($,ve,Z)=>($[ve]=Z,!0),has:($,ve)=>$ instanceof IDBTransaction&&("done"===ve||"store"===ve)||ve in $};function fe($){return"function"==typeof $?function Ue($){return $!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ge(){return le||(le=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes($)?function(...ve){return $.apply(ze(this),ve),Te(ue.get(this))}:function(...ve){return Te($.apply(ze(this),ve))}:function(ve,...Z){const ie=$.call(ze(this),ve,...Z);return he.set(ie,ve.sort?ve.sort():[ve]),Te(ie)}}($):($ instanceof IDBTransaction&&function qe($){if(oe.has($))return;const ve=new Promise((Z,ie)=>{const ee=()=>{$.removeEventListener("complete",ye),$.removeEventListener("error",ae),$.removeEventListener("abort",ae)},ye=()=>{Z(),ee()},ae=()=>{ie($.error||new DOMException("AbortError","AbortError")),ee()};$.addEventListener("complete",ye),$.addEventListener("error",ae),$.addEventListener("abort",ae)});oe.set($,ve)}($),(($,ve)=>ve.some(Z=>$ instanceof Z))($,function re(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy($,Re):$)}function Te($){if($ instanceof IDBRequest)return function te($){const ve=new Promise((Z,ie)=>{const ee=()=>{$.removeEventListener("success",ye),$.removeEventListener("error",ae)},ye=()=>{Z(Te($.result)),ee()},ae=()=>{ie($.error),ee()};$.addEventListener("success",ye),$.addEventListener("error",ae)});return ve.then(Z=>{Z instanceof IDBCursor&&ue.set(Z,$)}).catch(()=>{}),j.set(ve,$),ve}($);if(H.has($))return H.get($);const ve=fe($);return ve!==$&&(H.set($,ve),j.set(ve,$)),ve}const ze=$=>j.get($);function Je($,ve,{blocked:Z,upgrade:ie,blocking:ee,terminated:ye}={}){const ae=indexedDB.open($,ve),ke=Te(ae);return ie&&ae.addEventListener("upgradeneeded",ct=>{ie(Te(ae.result),ct.oldVersion,ct.newVersion,Te(ae.transaction))}),Z&&ae.addEventListener("blocked",()=>Z()),ke.then(ct=>{ye&&ct.addEventListener("close",()=>ye()),ee&&ct.addEventListener("versionchange",()=>ee())}).catch(()=>{}),ke}function Se($,{blocked:ve}={}){const Z=indexedDB.deleteDatabase($);return ve&&Z.addEventListener("blocked",()=>ve()),Te(Z).then(()=>{})}const Ee=["get","getKey","getAll","getAllKeys","count"],Ce=["put","add","delete","clear"],$e=new Map;function je($,ve){if(!($ instanceof IDBDatabase)||ve in $||"string"!=typeof ve)return;if($e.get(ve))return $e.get(ve);const Z=ve.replace(/FromIndex$/,""),ie=ve!==Z,ee=Ce.includes(Z);if(!(Z in(ie?IDBIndex:IDBObjectStore).prototype)||!ee&&!Ee.includes(Z))return;const ye=function(){var ae=(0,h.Z)(function*(ke,...ct){const zt=this.transaction(ke,ee?"readwrite":"readonly");let Ut=zt.store;return ie&&(Ut=Ut.index(ct.shift())),(yield Promise.all([Ut[Z](...ct),ee&&zt.done]))[0]});return function(ct){return ae.apply(this,arguments)}}();return $e.set(ve,ye),ye}!function Pe($){Re=$(Re)}($=>dO(cO({},$),{get:(ve,Z,ie)=>je(ve,Z)||$.get(ve,Z,ie),has:(ve,Z)=>!!je(ve,Z)||$.has(ve,Z)}))},5861:(rt,we,O)=>{function h(P,le,re,ge,ue,oe,he){try{var H=P[oe](he),j=H.value}catch(te){return void re(te)}H.done?le(j):Promise.resolve(j).then(ge,ue)}function X(P){return function(){var le=this,re=arguments;return new Promise(function(ge,ue){var oe=P.apply(le,re);function he(j){h(oe,ge,ue,he,H,"next",j)}function H(j){h(oe,ge,ue,he,H,"throw",j)}he(void 0)})}}O.d(we,{Z:()=>X})}},rt=>{rt(rt.s=7425)}]);